// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var x,aa,ca,ea,ga,ha,ia,ma,na,oa,pa,qa,sa,ta,ua,ya,za,Aa,Ca,Fa,Ga,Ha,H,La,Ma,Na,Oa,Ra,Sa,Ta,Ya,Za,$a,ab,bb,cb,jb,kb,nb,ob,qb,tb,ub,vb,Ab,Cb,Ib,Jb,Kb,Lb,Mb,Nb,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,ac,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,sc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Kc,Lc,Mc,Nc,Oc,Pc,Qc,ad,bd,cd,dd={},ed={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(a){return a.__proto__}:function(a){return a.constructor.prototype});
(function(){function a(a,b,c,g){this.set(a,b,c,g)}function c(){this.Id=this.Hd=this.Kd=this.Jd=this.Yd=this.Xd=this.Wd=this.Vd=0}function b(a,b,c,g){a<b?c<g?(v=a<c?a:c,r=b>g?b:g):(v=a<g?a:g,r=b>c?b:c):c<g?(v=b<c?b:c,r=a>g?a:g):(v=b<g?b:g,r=a>c?a:c)}function d(){this.items=this.of=null;this.Cj=0;C&&(this.of=new Set);this.Gi=[];this.lg=!0}function f(a){E[B++]=a}function h(){this.Oa=this.Zl=this.y=this.A=0}function e(a){this.Ig=[];this.Ap=this.Cp=this.Dp=this.Bp=0;this.Gk=null;this.gk(a)}function g(a,
b){this.Km=a;this.Jm=b;this.cells={}}function l(a,b){this.Km=a;this.Jm=b;this.cells={}}function m(a,b,c){var g;return y.length?(g=y.pop(),g.tn=a,g.x=b,g.y=c,g):new aa(a,b,c)}function k(a,b,c){this.tn=a;this.x=b;this.y=c;this.kc=new ca}function n(a,b,c){var g;return w.length?(g=w.pop(),g.tn=a,g.x=b,g.y=c,g):new ea(a,b,c)}function p(a,b,c){this.tn=a;this.x=b;this.y=c;this.kc=[];this.Zh=!0;this.lf=new ca;this.Ri=!1}function q(a,b){return a.Pe-b.Pe}ga=function(a){window.console&&window.console.log&&window.console.log(a)};
ha=function(a){window.console&&window.console.error&&window.console.error(a)};ia=function(a){return"undefined"===typeof a};ma=function(a){return"number"===typeof a};na=function(a){return"string"===typeof a};oa=function(a){return 0<a&&0===(a-1&a)};pa=function(a){--a;for(var b=1;32>b;b<<=1)a=a|a>>b;return a+1};qa=function(a){return 0>a?-a:a};sa=function(a,b){return a<b?a:b};ta=Math.PI;ua=function(a){return 0<=a?a|0:(a|0)-1};ya=function(a){var b=a|0;return b===a?b:b+1};za=function(a,b,c,g,k,d,e,l){var n,
f,m,h;a<c?(f=a,n=c):(f=c,n=a);k<e?(h=k,m=e):(h=e,m=k);if(n<h||f>m)return!1;b<g?(f=b,n=g):(f=g,n=b);d<l?(h=d,m=l):(h=l,m=d);if(n<h||f>m)return!1;n=k-a+e-c;f=d-b+l-g;a=c-a;b=g-b;k=e-k;d=l-d;l=qa(b*k-d*a);return qa(k*f-d*n)>l?!1:qa(a*f-b*n)<=l};a.prototype.set=function(a,b,c,g){this.left=a;this.top=b;this.right=c;this.bottom=g};a.prototype.Vi=function(a){this.left=a.left;this.top=a.top;this.right=a.right;this.bottom=a.bottom};a.prototype.width=function(){return this.right-this.left};a.prototype.height=
function(){return this.bottom-this.top};a.prototype.offset=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b;return this};a.prototype.normalize=function(){var a=0;this.left>this.right&&(a=this.left,this.left=this.right,this.right=a);this.top>this.bottom&&(a=this.top,this.top=this.bottom,this.bottom=a)};a.prototype.ee=function(a,b){return a>=this.left&&a<=this.right&&b>=this.top&&b<=this.bottom};a.prototype.Zi=function(a){return this.left===a.left&&this.top===a.top&&this.right===
a.right&&this.bottom===a.bottom};Aa=a;c.prototype.Wl=function(a){this.Vd=a.left;this.Wd=a.top;this.Xd=a.right;this.Yd=a.top;this.Jd=a.right;this.Kd=a.bottom;this.Hd=a.left;this.Id=a.bottom};c.prototype.es=function(a,b){if(0===b)this.Wl(a);else{var c=Math.sin(b),g=Math.cos(b),k=a.left*c,d=a.top*c,e=a.right*c,c=a.bottom*c,l=a.left*g,n=a.top*g,f=a.right*g,g=a.bottom*g;this.Vd=l-d;this.Wd=n+k;this.Xd=f-d;this.Yd=n+e;this.Jd=f-c;this.Kd=g+e;this.Hd=l-c;this.Id=g+k}};c.prototype.offset=function(a,b){this.Vd+=
a;this.Wd+=b;this.Xd+=a;this.Yd+=b;this.Jd+=a;this.Kd+=b;this.Hd+=a;this.Id+=b;return this};var v=0,r=0;c.prototype.Gp=function(a){b(this.Vd,this.Xd,this.Jd,this.Hd);a.left=v;a.right=r;b(this.Wd,this.Yd,this.Kd,this.Id);a.top=v;a.bottom=r};c.prototype.ee=function(a,b){var c=this.Vd,g=this.Wd,k=this.Xd-c,d=this.Yd-g,e=this.Jd-c,l=this.Kd-g,n=a-c,f=b-g,m=k*k+d*d,h=k*e+d*l,d=k*n+d*f,q=e*e+l*l,p=e*n+l*f,t=1/(m*q-h*h),k=(q*d-h*p)*t,m=(m*p-h*d)*t;if(0<=k&&0<m&&1>k+m)return!0;k=this.Hd-c;d=this.Id-g;m=k*
k+d*d;h=k*e+d*l;d=k*n+d*f;t=1/(m*q-h*h);k=(q*d-h*p)*t;m=(m*p-h*d)*t;return 0<=k&&0<m&&1>k+m};c.prototype.ii=function(){return(this.Vd+this.Xd+this.Jd+this.Hd)/4};c.prototype.ji=function(){return(this.Wd+this.Yd+this.Kd+this.Id)/4};Ca=c;Fa=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};Ga=function(a,b){var c,g;b=ua(b);if(!(0>b||b>=a.length)){c=b;for(g=a.length-1;c<g;c++)a[c]=a[c+1];Ha(a,g)}};Ha=function(a,b){a.length=b};H=function(a){Ha(a,0)};La=function(a,b){H(a);var c,g;
c=0;for(g=b.length;c<g;++c)a[c]=b[c]};Ma=function(a,b){a.push.apply(a,b)};Na=function(a,b){var c,g;c=0;for(g=a.length;c<g;++c)if(a[c]===b)return c;return-1};Oa=function(a,b){var c=Na(a,b);-1!==c&&Ga(a,c)};Ra=function(a,b,c){return a<b?b:a>c?c:a};Sa=function(a){return a/(180/ta)};Ta=function(a){return 180/ta*a};Ya=function(a){a%=360;0>a&&(a+=360);return a};Za=function(a){a%=2*ta;0>a&&(a+=2*ta);return a};$a=function(a){return Ya(Ta(a))};ab=function(a){return Za(Sa(a))};bb=function(a,b,c,g){return Math.atan2(g-
b,c-a)};cb=function(a,b){if(a===b)return 0;var c=Math.sin(a),g=Math.cos(a),k=Math.sin(b),d=Math.cos(b),c=c*k+g*d;return 1<=c?0:-1>=c?ta:Math.acos(c)};jb=function(a,b,c){var g=Math.sin(a),k=Math.cos(a),d=Math.sin(b),e=Math.cos(b);return Math.acos(g*d+k*e)>c?0<k*d-g*e?Za(a+c):Za(a-c):Za(b)};kb=function(a,b){var c=Math.sin(a),g=Math.cos(a),k=Math.sin(b),d=Math.cos(b);return 0>=g*k-c*d};nb=function(a,b,c,g,k,d){if(0===c)return d?a:b;var e=Math.sin(c);c=Math.cos(c);a-=g;b-=k;var l=a*e;a=a*c-b*e;b=b*c+
l;return d?a+g:b+k};ob=function(a,b,c,g){a=c-a;b=g-b;return Math.sqrt(a*a+b*b)};qb=function(a,b){return!a!==!b};tb=function(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1};ub=function(a){for(var b in a)a.hasOwnProperty(b)&&delete a[b]};var u=+new Date;vb=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==typeof a.mozNow)return a.mozNow();if("undefined"!==
typeof a.msNow)return a.msNow()}return Date.now()-u};var t=!1,z=t=!1,D=!1;"undefined"!==typeof window&&(t=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent),t=!t&&/safari/i.test(navigator.userAgent),z=/(iphone|ipod|ipad)/i.test(navigator.userAgent),D=window.c2ejecta);var C=!t&&!D&&!z&&"undefined"!==typeof Set&&"undefined"!==typeof Set.prototype.forEach;d.prototype.contains=function(a){return this.Cf()?!1:C?this.of.has(a):this.items&&this.items.hasOwnProperty(a)};d.prototype.add=
function(a){if(C)this.of.has(a)||(this.of.add(a),this.lg=!1);else{var b=a.toString(),c=this.items;c?c.hasOwnProperty(b)||(c[b]=a,this.Cj++,this.lg=!1):(this.items={},this.items[b]=a,this.Cj=1,this.lg=!1)}};d.prototype.remove=function(a){if(!this.Cf())if(C)this.of.has(a)&&(this.of["delete"](a),this.lg=!1);else if(this.items){a=a.toString();var b=this.items;b.hasOwnProperty(a)&&(delete b[a],this.Cj--,this.lg=!1)}};d.prototype.clear=function(){this.Cf()||(C?this.of.clear():(this.items=null,this.Cj=0),
H(this.Gi),this.lg=!0)};d.prototype.Cf=function(){return 0===this.count()};d.prototype.count=function(){return C?this.of.size:this.Cj};var E=null,B=0;d.prototype.$w=function(){if(!this.lg){if(C)H(this.Gi),E=this.Gi,B=0,this.of.forEach(f),E=null,B=0;else{var a=this.Gi;H(a);var b,c=0,g=this.items;if(g)for(b in g)g.hasOwnProperty(b)&&(a[c++]=g[b])}this.lg=!0}};d.prototype.rf=function(){this.$w();return this.Gi};ca=d;new ca;Ab=function(a,b){C?Cb(a,b.of):Ib(a,b.rf())};Cb=function(a,b){var c,g,k,d;g=c=
0;for(k=a.length;c<k;++c)d=a[c],b.has(d)||(a[g++]=d);Ha(a,g)};Ib=function(a,b){var c,g,k,d;g=c=0;for(k=a.length;c<k;++c)d=a[c],-1===Na(b,d)&&(a[g++]=d);Ha(a,g)};h.prototype.add=function(a){this.y=a-this.A;this.Zl=this.Oa+this.y;this.A=this.Zl-this.Oa-this.y;this.Oa=this.Zl};h.prototype.reset=function(){this.Oa=this.Zl=this.y=this.A=0};Jb=h;Kb=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.prototype.gk=function(a){this.Nr=a;this.ti=a.length/2;this.Ig.length=a.length;this.Fm=this.Gm=
-1;this.Jp=0};e.prototype.Dq=function(){return!this.Nr.length};e.prototype.wb=function(){for(var a=this.Ig,b=a[0],c=b,g=a[1],k=g,d,e,l=1,n=this.ti;l<n;++l)e=2*l,d=a[e],e=a[e+1],d<b&&(b=d),d>c&&(c=d),e<g&&(g=e),e>k&&(k=e);this.Bp=b;this.Cp=c;this.Dp=g;this.Ap=k};e.prototype.Wl=function(a,b,c){this.Ig.length=8;this.ti=4;var g=this.Ig;g[0]=a.left-b;g[1]=a.top-c;g[2]=a.right-b;g[3]=a.top-c;g[4]=a.right-b;g[5]=a.bottom-c;g[6]=a.left-b;g[7]=a.bottom-c;this.Gm=a.right-a.left;this.Fm=a.bottom-a.top;this.wb()};
e.prototype.Kp=function(a,b,c){if(this.Gm!==a||this.Fm!==b||this.Jp!==c){this.Gm=a;this.Fm=b;this.Jp=c;var g,k,d,e,l,n=0,f=1,m=this.Nr,h=this.Ig;0!==c&&(n=Math.sin(c),f=Math.cos(c));c=0;for(d=this.ti;c<d;c++)g=2*c,k=g+1,e=m[g]*a,l=m[k]*b,h[g]=e*f-l*n,h[k]=l*f+e*n;this.wb()}};e.prototype.ee=function(a,b){var c=this.Ig;if(a===c[0]&&b===c[1])return!0;var g,k,d,e=this.ti,l=this.Bp-110,n=this.Dp-101,f=this.Cp+131,m=this.Ap+120,h,q,p=0,t=0;for(g=0;g<e;g++)k=2*g,d=(g+1)%e*2,h=c[k],k=c[k+1],q=c[d],d=c[d+
1],za(l,n,a,b,h,k,q,d)&&p++,za(f,m,a,b,h,k,q,d)&&t++;return 1===p%2||1===t%2};Lb=e;g.prototype.vg=function(a,b,c){var g;g=this.cells[a];return g?(g=g[b])?g:c?(g=m(this,a,b),this.cells[a][b]=g):null:c?(g=m(this,a,b),this.cells[a]={},this.cells[a][b]=g):null};g.prototype.Uc=function(a){return ua(a/this.Km)};g.prototype.Vc=function(a){return ua(a/this.Jm)};g.prototype.update=function(a,b,c){var g,k,d,e,l;if(b)for(g=b.left,k=b.right;g<=k;++g)for(d=b.top,e=b.bottom;d<=e;++d)if(!c||!c.ee(g,d))if(l=this.vg(g,
d,!1))l.remove(a),l.Cf()&&(l.kc.clear(),1E3>y.length&&y.push(l),this.cells[g][d]=null);if(c)for(g=c.left,k=c.right;g<=k;++g)for(d=c.top,e=c.bottom;d<=e;++d)b&&b.ee(g,d)||this.vg(g,d,!0).Dn(a)};g.prototype.Pr=function(a,b){var c,g,k,d,e,l;c=this.Uc(a.left);k=this.Vc(a.top);g=this.Uc(a.right);for(e=this.Vc(a.bottom);c<=g;++c)for(d=k;d<=e;++d)(l=this.vg(c,d,!1))&&l.dump(b)};Mb=g;l.prototype.vg=function(a,b,c){var g;g=this.cells[a];return g?(g=g[b])?g:c?(g=n(this,a,b),this.cells[a][b]=g):null:c?(g=n(this,
a,b),this.cells[a]={},this.cells[a][b]=g):null};l.prototype.Uc=function(a){return ua(a/this.Km)};l.prototype.Vc=function(a){return ua(a/this.Jm)};l.prototype.update=function(a,b,c){var g,k,d,e,l;if(b)for(g=b.left,k=b.right;g<=k;++g)for(d=b.top,e=b.bottom;d<=e;++d)if(!c||!c.ee(g,d))if(l=this.vg(g,d,!1))l.remove(a),l.Cf()&&(l.reset(),1E3>w.length&&w.push(l),this.cells[g][d]=null);if(c)for(g=c.left,k=c.right;g<=k;++g)for(d=c.top,e=c.bottom;d<=e;++d)b&&b.ee(g,d)||this.vg(g,d,!0).Dn(a)};l.prototype.Pr=
function(a,b,c,g,k){var d,e;a=this.Uc(a);b=this.Vc(b);c=this.Uc(c);for(d=this.Vc(g);a<=c;++a)for(g=b;g<=d;++g)(e=this.vg(a,g,!1))&&e.dump(k)};l.prototype.Tv=function(a){var b,c,g,k,d;b=a.left;g=a.top;c=a.right;for(k=a.bottom;b<=c;++b)for(a=g;a<=k;++a)if(d=this.vg(b,a,!1))d.Zh=!1};Nb=l;var y=[];k.prototype.Cf=function(){return this.kc.Cf()};k.prototype.Dn=function(a){this.kc.add(a)};k.prototype.remove=function(a){this.kc.remove(a)};k.prototype.dump=function(a){Ma(a,this.kc.rf())};aa=k;var w=[];p.prototype.Cf=
function(){if(!this.kc.length)return!0;if(this.kc.length>this.lf.count())return!1;this.an();return!0};p.prototype.Dn=function(a){this.lf.contains(a)?(this.lf.remove(a),this.lf.Cf()&&(this.Ri=!1)):this.kc.length?(this.kc[this.kc.length-1].ef()>a.ef()&&(this.Zh=!1),this.kc.push(a)):(this.kc.push(a),this.Zh=!0)};p.prototype.remove=function(a){this.lf.add(a);this.Ri=!0;30<=this.lf.count()&&this.an()};p.prototype.an=function(){this.Ri&&(this.lf.count()===this.kc.length?this.reset():(Ab(this.kc,this.lf),
this.lf.clear(),this.Ri=!1))};p.prototype.nu=function(){this.Zh||(this.kc.sort(q),this.Zh=!0)};p.prototype.reset=function(){H(this.kc);this.Zh=!0;this.lf.clear();this.Ri=!1};p.prototype.dump=function(a){this.an();this.nu();this.kc.length&&a.push(this.kc)};ea=p;var A="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Pb=function(a){return 0>=a||11<=a?"source-over":A[a-1]};Qb=function(a,b,c){if(c)switch(a.Hc=c.ONE,a.Ec=c.ONE_MINUS_SRC_ALPHA,
b){case 1:a.Hc=c.ONE;a.Ec=c.ONE;break;case 3:a.Hc=c.ONE;a.Ec=c.ZERO;break;case 4:a.Hc=c.ONE_MINUS_DST_ALPHA;a.Ec=c.ONE;break;case 5:a.Hc=c.DST_ALPHA;a.Ec=c.ZERO;break;case 6:a.Hc=c.ZERO;a.Ec=c.SRC_ALPHA;break;case 7:a.Hc=c.ONE_MINUS_DST_ALPHA;a.Ec=c.ZERO;break;case 8:a.Hc=c.ZERO;a.Ec=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Hc=c.DST_ALPHA;a.Ec=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Hc=c.ONE_MINUS_DST_ALPHA,a.Ec=c.SRC_ALPHA}};Rb=function(a){return Math.round(1E6*a)/1E6};Sb=function(a,b){return"string"!==
typeof a||"string"!==typeof b||a.length!==b.length?!1:a===b?!0:a.toLowerCase()===b.toLowerCase()};Tb=function(a){a=a.target;return!a||a===document||a===window||document&&document.body&&a===document.body||Sb(a.tagName,"canvas")?!0:!1}})();var fd="undefined"!==typeof Float32Array?Float32Array:Array;function gd(a){var c=new fd(3);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2]);return c}
function hd(a){var c=new fd(16);a&&(c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15]);return c}function id(a,c){c[0]=a[0];c[1]=a[1];c[2]=a[2];c[3]=a[3];c[4]=a[4];c[5]=a[5];c[6]=a[6];c[7]=a[7];c[8]=a[8];c[9]=a[9];c[10]=a[10];c[11]=a[11];c[12]=a[12];c[13]=a[13];c[14]=a[14];c[15]=a[15]}
function jd(a,c){var b=c[0],d=c[1];c=c[2];a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b;a[4]*=d;a[5]*=d;a[6]*=d;a[7]*=d;a[8]*=c;a[9]*=c;a[10]*=c;a[11]*=c}
function kd(a,c,b,d){d||(d=hd());var f,h,e,g,l,m,k,n,p=a[0],q=a[1];a=a[2];h=b[0];e=b[1];f=b[2];b=c[1];m=c[2];p===c[0]&&q===b&&a===m?(a=d,a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1):(b=p-c[0],m=q-c[1],k=a-c[2],n=1/Math.sqrt(b*b+m*m+k*k),b*=n,m*=n,k*=n,c=e*k-f*m,f=f*b-h*k,h=h*m-e*b,(n=Math.sqrt(c*c+f*f+h*h))?(n=1/n,c*=n,f*=n,h*=n):h=f=c=0,e=m*h-k*f,g=k*c-b*h,l=b*f-m*c,(n=Math.sqrt(e*e+g*g+l*l))?(n=1/n,e*=n,g*=n,l*=n):l=g=e=0,
d[0]=c,d[1]=e,d[2]=b,d[3]=0,d[4]=f,d[5]=g,d[6]=m,d[7]=0,d[8]=h,d[9]=l,d[10]=k,d[11]=0,d[12]=-(c*p+f*q+h*a),d[13]=-(e*p+g*q+l*a),d[14]=-(b*p+m*q+k*a),d[15]=1)}
(function(){function a(a,b,c){this.yg=/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent);this.height=this.width=0;this.jb=!!c;this.kl=this.sj=!1;this.Tm=0;this.nm=1;this.gp=1E3;this.gx=(this.gp-this.nm)/32768;this.Hm=gd([0,0,100]);this.Oq=gd([0,0,0]);this.Ds=gd([0,1,0]);this.tk=gd([1,1,1]);this.Vp=!0;this.El=hd();this.Qd=hd();this.Rn=hd();this.Sm=hd();this.ca=a;this.tq()}function c(a,b,c){this.ca=a;this.hk=b;this.name=c;this.ne=a.getAttribLocation(b,"aPos");this.Dg=a.getAttribLocation(b,
"aTex");this.Mq=a.getUniformLocation(b,"matP");this.Al=a.getUniformLocation(b,"matMV");this.fi=a.getUniformLocation(b,"opacity");this.Wn=a.getUniformLocation(b,"colorFill");this.Nq=a.getUniformLocation(b,"samplerFront");this.Kj=a.getUniformLocation(b,"samplerBack");this.vh=a.getUniformLocation(b,"destStart");this.uh=a.getUniformLocation(b,"destEnd");this.Mj=a.getUniformLocation(b,"seconds");this.Yn=a.getUniformLocation(b,"pixelWidth");this.Xn=a.getUniformLocation(b,"pixelHeight");this.Jj=a.getUniformLocation(b,
"layerScale");this.Ij=a.getUniformLocation(b,"layerAngle");this.Nj=a.getUniformLocation(b,"viewOrigin");this.Lj=a.getUniformLocation(b,"scrollPos");this.Bv=!!(this.Yn||this.Xn||this.Mj||this.Kj||this.vh||this.uh||this.Jj||this.Ij||this.Nj||this.Lj);this.Wq=this.Xq=-999;this.Dl=1;this.Sq=this.Rq=0;this.Uq=this.Qq=this.Pq=1;this.$q=this.Zq=this.Yq=this.cr=this.br=this.Tq=0;this.Pn=[];this.Vq=hd();this.fi&&a.uniform1f(this.fi,1);this.Wn&&a.uniform4f(this.Wn,1,1,1,1);this.Nq&&a.uniform1i(this.Nq,0);this.Kj&&
a.uniform1i(this.Kj,1);this.vh&&a.uniform2f(this.vh,0,0);this.uh&&a.uniform2f(this.uh,1,1);this.Jj&&a.uniform1f(this.Jj,1);this.Ij&&a.uniform1f(this.Ij,0);this.Nj&&a.uniform2f(this.Nj,0,0);this.Lj&&a.uniform2f(this.Lj,0,0);this.Mj&&a.uniform1f(this.Mj,0);this.mh=!1}function b(a,b){return a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&a[6]===b[6]&&a[7]===b[7]&&a[8]===b[8]&&a[9]===b[9]&&a[10]===b[10]&&a[11]===b[11]&&a[12]===b[12]&&a[13]===b[13]&&a[14]===b[14]&&a[15]===
b[15]}function d(a,b){this.type=a;this.ba=b;this.ca=b.ca;this.ff=this.Sc=this.tr=0;this.Da=this.ve=null;this.gs=[]}var f=hd();a.prototype.tq=function(){var a=this.ca,b;this.Hq=1;this.rh=this.qh=null;this.Lk=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.STENCIL_TEST);a.disable(a.DITHER);this.jb?(a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL)):a.disable(a.DEPTH_TEST);this.Iq=a.ONE;this.Gq=a.ONE_MINUS_SRC_ALPHA;
this.km=new Float32Array(8E3*(this.jb?3:2));this.$l=new Float32Array(16E3);this.Hr=new Float32Array(32E3);this.po=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,this.po);a.bufferData(a.ARRAY_BUFFER,this.Hr.byteLength,a.DYNAMIC_DRAW);this.sk=Array(4);this.lk=Array(4);for(b=0;4>b;b++)this.sk[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.sk[b]),a.bufferData(a.ARRAY_BUFFER,this.km.byteLength,a.DYNAMIC_DRAW),this.lk[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.lk[b]),a.bufferData(a.ARRAY_BUFFER,
this.$l.byteLength,a.DYNAMIC_DRAW);this.wf=0;this.Fv=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Fv);for(var c=new Uint16Array(12E3),k=b=0;12E3>b;)c[b++]=k,c[b++]=k+1,c[b++]=k+2,c[b++]=k,c[b++]=k+2,c[b++]=k+3,k+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,c,a.STATIC_DRAW);this.qo=this.Di=this.Yf=0;this.Gb=[];b=this.jb?"attribute highp vec3 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, aPos.z, 1.0);\n\tvTex = aTex;\n}":
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}";c=this.Wi({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},b,"<default>");this.Gb.push(c);c=this.Wi({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},
"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.Gb.push(c);c=this.Wi({src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tif (texture2D(samplerFront, vTex).a < 1.0)\n\t\tdiscard;\n}"},b,"<earlyz>");this.Gb.push(c);c=this.Wi({src:"uniform lowp vec4 colorFill;\nvoid main(void) {\n\tgl_FragColor = colorFill;\n}"},
b,"<fill>");this.Gb.push(c);for(var d in ld)ld.hasOwnProperty(d)&&this.Gb.push(this.Wi(ld[d],b,d));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,null);this.kg=[];this.vf=0;this.Fc=!1;this.Sp=this.Gj=-1;this.Oh=null;this.$m=a.createFramebuffer();this.Pk=this.Pl=null;this.zp=!1;this.jb&&(this.Pk=a.createRenderbuffer());this.Og=gd([0,0,0]);this.er=a.getParameter(a.ALIASED_POINT_SIZE_RANGE)[1];2048<this.er&&(this.er=2048);this.jd(0)};c.prototype.$o=function(a){b(this.Vq,a)||(id(a,this.Vq),this.ca.uniformMatrix4fv(this.Al,
!1,a))};a.prototype.Wi=function(a,b,d){var k=this.ca,e=k.createShader(k.FRAGMENT_SHADER);k.shaderSource(e,a.src);k.compileShader(e);if(!k.getShaderParameter(e,k.COMPILE_STATUS))return k.deleteShader(e),null;var f=k.createShader(k.VERTEX_SHADER);k.shaderSource(f,b);k.compileShader(f);if(!k.getShaderParameter(f,k.COMPILE_STATUS))return k.deleteShader(e),k.deleteShader(f),null;b=k.createProgram();k.attachShader(b,e);k.attachShader(b,f);k.linkProgram(b);if(!k.getProgramParameter(b,k.LINK_STATUS))return k.deleteShader(e),
k.deleteShader(f),k.deleteProgram(b),null;k.useProgram(b);k.deleteShader(e);k.deleteShader(f);d=new c(k,b,d);d.aj=a.aj||0;d.bj=a.bj||0;d.Ik=!!a.Ik;d.Sd=!!a.Sd;d.Bk=!!a.Bk;d.Aa=a.Aa||[];a=0;for(e=d.Aa.length;a<e;a++)d.Aa[a][1]=k.getUniformLocation(b,d.Aa[a][0]),d.Pn.push(0),k.uniform1f(d.Aa[a][1],0);return d};a.prototype.pn=function(a){var b,c;b=0;for(c=this.Gb.length;b<c;b++)if(this.Gb[b].name===a)return b;return-1};a.prototype.Mr=function(a,b,c){var k=this.Qd,d=this.El,e=[0,0,0,0,0,0,0,0];e[0]=k[0]*
a+k[4]*b+k[12];e[1]=k[1]*a+k[5]*b+k[13];e[2]=k[2]*a+k[6]*b+k[14];e[3]=k[3]*a+k[7]*b+k[15];e[4]=d[0]*e[0]+d[4]*e[1]+d[8]*e[2]+d[12]*e[3];e[5]=d[1]*e[0]+d[5]*e[1]+d[9]*e[2]+d[13]*e[3];e[6]=d[2]*e[0]+d[6]*e[1]+d[10]*e[2]+d[14]*e[3];e[7]=-e[2];0!==e[7]&&(e[7]=1/e[7],e[4]*=e[7],e[5]*=e[7],e[6]*=e[7],c[0]=(.5*e[4]+.5)*this.width,c[1]=(.5*e[5]+.5)*this.height)};a.prototype.Ah=function(a,b,c){if(this.width!==a||this.height!==b||c){this.hh();c=this.ca;this.width=a;this.height=b;c.viewport(0,0,a,b);kd(this.Hm,
this.Oq,this.Ds,this.Qd);if(this.jb){var k=-a/2;a=a/2;var d=b/2;b=-b/2;var e=this.nm,f=this.gp,h=this.El;h||(h=hd());var r=a-k,u=b-d,t=f-e;h[0]=2/r;h[1]=0;h[2]=0;h[3]=0;h[4]=0;h[5]=2/u;h[6]=0;h[7]=0;h[8]=0;h[9]=0;h[10]=-2/t;h[11]=0;h[12]=-(k+a)/r;h[13]=-(b+d)/u;h[14]=-(f+e)/t;h[15]=1;this.tk[0]=1;this.tk[1]=1}else b=a/b,k=this.nm,a=this.gp,h=this.El,f=k*Math.tan(45*Math.PI/360),b*=f,d=-b,e=-f,h||(h=hd()),r=b-d,u=f-e,t=a-k,h[0]=2*k/r,h[1]=0,h[2]=0,h[3]=0,h[4]=0,h[5]=2*k/u,h[6]=0,h[7]=0,h[8]=(b+d)/
r,h[9]=(f+e)/u,h[10]=-(a+k)/t,h[11]=-1,h[12]=0,h[13]=0,h[14]=-(a*k*2)/t,h[15]=0,k=[0,0],a=[0,0],this.Mr(0,0,k),this.Mr(1,1,a),this.tk[0]=1/(a[0]-k[0]),this.tk[1]=-1/(a[1]-k[1]);k=0;for(a=this.Gb.length;k<a;k++)d=this.Gb[k],d.mh=!1,d.Mq&&(c.useProgram(d.hk),c.uniformMatrix4fv(d.Mq,!1,this.El));c.useProgram(this.Gb[this.Gj].hk);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE1);c.bindTexture(c.TEXTURE_2D,null);c.activeTexture(c.TEXTURE0);this.rh=this.qh=null;this.Pk&&(c.bindFramebuffer(c.FRAMEBUFFER,
this.$m),c.bindRenderbuffer(c.RENDERBUFFER,this.Pk),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,this.width,this.height),this.zp||(c.framebufferRenderbuffer(c.FRAMEBUFFER,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,this.Pk),this.zp=!0),c.bindRenderbuffer(c.RENDERBUFFER,null),c.bindFramebuffer(c.FRAMEBUFFER,null),this.Pl=null)}};a.prototype.nf=function(){kd(this.Hm,this.Oq,this.Ds,this.Qd);jd(this.Qd,this.tk)};a.prototype.translate=function(a,b){if(0!==a||0!==b){this.Og[0]=a;this.Og[1]=b;this.Og[2]=
0;var c=this.Qd,k=this.Og,d=k[0],e=k[1],k=k[2];c[12]=c[0]*d+c[4]*e+c[8]*k+c[12];c[13]=c[1]*d+c[5]*e+c[9]*k+c[13];c[14]=c[2]*d+c[6]*e+c[10]*k+c[14];c[15]=c[3]*d+c[7]*e+c[11]*k+c[15]}};a.prototype.scale=function(a,b){if(1!==a||1!==b)this.Og[0]=a,this.Og[1]=b,this.Og[2]=1,jd(this.Qd,this.Og)};a.prototype.Eo=function(a){if(0!==a){var b=this.Qd,c,k=Math.sin(a);a=Math.cos(a);var d=b[0],e=b[1],f=b[2],h=b[3],r=b[4],u=b[5],t=b[6],z=b[7];c?b!==c&&(c[8]=b[8],c[9]=b[9],c[10]=b[10],c[11]=b[11],c[12]=b[12],c[13]=
b[13],c[14]=b[14],c[15]=b[15]):c=b;c[0]=d*a+r*k;c[1]=e*a+u*k;c[2]=f*a+t*k;c[3]=h*a+z*k;c[4]=d*-k+r*a;c[5]=e*-k+u*a;c[6]=f*-k+t*a;c[7]=h*-k+z*a}};a.prototype.Oe=function(){if(!b(this.Rn,this.Qd)){var a=this.Cd();a.type=5;a.Da?id(this.Qd,a.Da):a.Da=hd(this.Qd);id(this.Qd,this.Rn);this.Fc=!1}};a.prototype.Ul=function(a){this.jb&&(32760<a&&(a=32760),this.Tm=this.Hm[2]-this.nm-a*this.gx)};d.prototype.Yt=function(){var a=this.ca,b=this.ba;0!==this.Sc?(a.depthMask(!0),a.colorMask(!1,!1,!1,!1),a.disable(a.BLEND),
a.bindFramebuffer(a.FRAMEBUFFER,b.$m),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.clear(a.DEPTH_BUFFER_BIT),a.bindFramebuffer(a.FRAMEBUFFER,null),b.kl=!0):(a.depthMask(!1),a.colorMask(!0,!0,!0,!0),a.enable(a.BLEND),b.kl=!1)};d.prototype.bu=function(){this.ca.bindTexture(this.ca.TEXTURE_2D,this.ve)};d.prototype.cu=function(){var a=this.ca;a.activeTexture(a.TEXTURE1);a.bindTexture(a.TEXTURE_2D,this.ve);a.activeTexture(a.TEXTURE0)};d.prototype.Zt=function(){var a=
this.tr,b=this.ba;b.Lk=a;b=b.Oh;b.fi&&b.Dl!==a&&(b.Dl=a,this.ca.uniform1f(b.fi,a))};d.prototype.Tt=function(){this.ca.drawElements(this.ca.TRIANGLES,this.ff,this.ca.UNSIGNED_SHORT,this.Sc)};d.prototype.Vt=function(){this.ca.blendFunc(this.Sc,this.ff)};d.prototype.du=function(){var a,b,c,k=this.ba.Gb,d=this.ba.Sp;a=0;for(b=k.length;a<b;a++)c=k[a],a===d&&c.Al?(c.$o(this.Da),c.mh=!0):c.mh=!1;id(this.Da,this.ba.Sm)};d.prototype.Ut=function(){var a=this.ca,b=this.ba;this.ve?(b.rh===this.ve&&(a.activeTexture(a.TEXTURE1),
a.bindTexture(a.TEXTURE_2D,null),b.rh=null,a.activeTexture(a.TEXTURE0)),a.bindFramebuffer(a.FRAMEBUFFER,b.$m),b.kl||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.ve,0)):(b.jb||a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),a.bindFramebuffer(a.FRAMEBUFFER,null))};d.prototype.Ot=function(){var a=this.ca,b=this.Sc;0===b?(a.clearColor(this.Da[0],this.Da[1],this.Da[2],this.Da[3]),a.clear(a.COLOR_BUFFER_BIT)):1===b?(a.enable(a.SCISSOR_TEST),a.scissor(this.Da[0],
this.Da[1],this.Da[2],this.Da[3]),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST)):a.clear(a.DEPTH_BUFFER_BIT)};d.prototype.Xt=function(){var a=this.ca;0!==this.Sc?a.enable(a.DEPTH_TEST):a.disable(a.DEPTH_TEST)};d.prototype.St=function(){var a=this.ca,b=this.ba;b.jb&&a.disable(a.DEPTH_TEST);var c=b.Gb[1];a.useProgram(c.hk);!c.mh&&c.Al&&(c.$o(b.Sm),c.mh=!0);a.enableVertexAttribArray(c.ne);a.bindBuffer(a.ARRAY_BUFFER,b.po);a.vertexAttribPointer(c.ne,4,a.FLOAT,!1,0,0);a.drawArrays(a.POINTS,
this.Sc/4,this.ff);c=b.Oh;a.useProgram(c.hk);0<=c.ne&&(a.enableVertexAttribArray(c.ne),a.bindBuffer(a.ARRAY_BUFFER,b.sk[b.wf]),a.vertexAttribPointer(c.ne,b.jb?3:2,a.FLOAT,!1,0,0));0<=c.Dg&&(a.enableVertexAttribArray(c.Dg),a.bindBuffer(a.ARRAY_BUFFER,b.lk[b.wf]),a.vertexAttribPointer(c.Dg,2,a.FLOAT,!1,0,0));b.jb&&a.enable(a.DEPTH_TEST)};d.prototype.$t=function(){var a=this.ca,b=this.ba,c=b.Gb[this.Sc];b.Sp=this.Sc;b.Oh=c;a.useProgram(c.hk);!c.mh&&c.Al&&(c.$o(b.Sm),c.mh=!0);c.fi&&c.Dl!==b.Lk&&(c.Dl=
b.Lk,a.uniform1f(c.fi,b.Lk));0<=c.ne&&(a.enableVertexAttribArray(c.ne),a.bindBuffer(a.ARRAY_BUFFER,b.sk[b.wf]),a.vertexAttribPointer(c.ne,b.jb?3:2,a.FLOAT,!1,0,0));0<=c.Dg&&(a.enableVertexAttribArray(c.Dg),a.bindBuffer(a.ARRAY_BUFFER,b.lk[b.wf]),a.vertexAttribPointer(c.Dg,2,a.FLOAT,!1,0,0))};d.prototype.Wt=function(){var a=this.Da;this.ca.uniform4f(this.ba.Oh.Wn,a[0],a[1],a[2],a[3])};d.prototype.au=function(){var a,b,c=this.ba.Oh,k=this.ca;a=this.Da;c.Kj&&this.ba.rh!==this.ve&&(k.activeTexture(k.TEXTURE1),
k.bindTexture(k.TEXTURE_2D,this.ve),this.ba.rh=this.ve,k.activeTexture(k.TEXTURE0));var d=a[0];c.Yn&&d!==c.Xq&&(c.Xq=d,k.uniform1f(c.Yn,d));d=a[1];c.Xn&&d!==c.Wq&&(c.Wq=d,k.uniform1f(c.Xn,d));d=a[2];b=a[3];!c.vh||d===c.Rq&&b===c.Sq||(c.Rq=d,c.Sq=b,k.uniform2f(c.vh,d,b));d=a[4];b=a[5];!c.uh||d===c.Pq&&b===c.Qq||(c.Pq=d,c.Qq=b,k.uniform2f(c.uh,d,b));d=a[6];c.Jj&&d!==c.Uq&&(c.Uq=d,k.uniform1f(c.Jj,d));d=a[7];c.Ij&&d!==c.Tq&&(c.Tq=d,k.uniform1f(c.Ij,d));d=a[8];b=a[9];!c.Nj||d===c.br&&b===c.cr||(c.br=
d,c.cr=b,k.uniform2f(c.Nj,d,b));d=a[10];b=a[11];!c.Lj||d===c.Yq&&b===c.Zq||(c.Yq=d,c.Zq=b,k.uniform2f(c.Lj,d,b));d=a[12];c.Mj&&d!==c.$q&&(c.$q=d,k.uniform1f(c.Mj,d));if(c.Aa.length)for(a=0,b=c.Aa.length;a<b;a++)d=this.gs[a],d!==c.Pn[a]&&(c.Pn[a]=d,k.uniform1f(c.Aa[a][1],d))};a.prototype.Cd=function(){this.vf===this.kg.length&&this.kg.push(new d(0,this));return this.kg[this.vf++]};a.prototype.hh=function(){if(0!==this.vf&&!this.ca.isContextLost()){var a=this.ca;0<this.qo&&(a.bindBuffer(a.ARRAY_BUFFER,
this.po),a.bufferSubData(a.ARRAY_BUFFER,0,this.Hr.subarray(0,this.qo)),b&&0<=b.ne&&"<point>"===b.name&&a.vertexAttribPointer(b.ne,4,a.FLOAT,!1,0,0));if(0<this.Yf){var b=this.Oh;a.bindBuffer(a.ARRAY_BUFFER,this.sk[this.wf]);a.bufferSubData(a.ARRAY_BUFFER,0,this.km.subarray(0,this.Yf));b&&0<=b.ne&&"<point>"!==b.name&&a.vertexAttribPointer(b.ne,this.jb?3:2,a.FLOAT,!1,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.lk[this.wf]);a.bufferSubData(a.ARRAY_BUFFER,0,this.$l.subarray(0,this.Di));b&&0<=b.Dg&&"<point>"!==
b.name&&a.vertexAttribPointer(b.Dg,2,a.FLOAT,!1,0,0)}for(var c,a=0,b=this.vf;a<b;a++)switch(c=this.kg[a],c.type){case 1:c.Tt();break;case 2:c.bu();break;case 3:c.Zt();break;case 4:c.Vt();break;case 5:c.du();break;case 6:c.Ut();break;case 7:c.Ot();break;case 8:c.St();break;case 9:c.$t();break;case 10:c.au();break;case 11:c.cu();break;case 12:c.Wt();break;case 13:c.Xt();break;case 14:c.Yt()}this.qo=this.Di=this.Yf=this.vf=0;this.kl=this.Fc=!1;this.wf++;4<=this.wf&&(this.wf=0)}};a.prototype.xi=function(a){if(a!==
this.Hq&&!this.sj){var b=this.Cd();b.type=3;this.Hq=b.tr=a;this.Fc=!1}};a.prototype.Ud=function(a){if(a!==this.qh){var b=this.Cd();b.type=2;this.qh=b.ve=a;this.Fc=!1}};a.prototype.Kg=function(a,b){if((a!==this.Iq||b!==this.Gq)&&!this.sj){var c=this.Cd();c.type=4;c.Sc=a;c.ff=b;this.Iq=a;this.Gq=b;this.Fc=!1}};a.prototype.Xr=function(){this.Kg(this.ca.ONE,this.ca.ONE_MINUS_SRC_ALPHA)};a.prototype.bk=function(a,b,c,d,e,f,h,v){15992<=this.Yf&&this.hh();var r=this.Yf,u=this.Di,t=this.km,z=this.$l,D=this.Tm;
if(this.Fc)this.kg[this.vf-1].ff+=6;else{var C=this.Cd();C.type=1;C.Sc=this.jb?r:r/2*3;C.ff=6;this.Fc=!0}this.jb?(t[r++]=a,t[r++]=b,t[r++]=D,t[r++]=c,t[r++]=d,t[r++]=D,t[r++]=e,t[r++]=f,t[r++]=D,t[r++]=h,t[r++]=v,t[r++]=D):(t[r++]=a,t[r++]=b,t[r++]=c,t[r++]=d,t[r++]=e,t[r++]=f,t[r++]=h,t[r++]=v);z[u++]=0;z[u++]=0;z[u++]=1;z[u++]=0;z[u++]=1;z[u++]=1;z[u++]=0;z[u++]=1;this.Yf=r;this.Di=u};a.prototype.Qf=function(a,b,c,d,e,f,h,v,r){15992<=this.Yf&&this.hh();var u=this.Yf,t=this.Di,z=this.km,D=this.$l,
C=this.Tm;if(this.Fc)this.kg[this.vf-1].ff+=6;else{var E=this.Cd();E.type=1;E.Sc=this.jb?u:u/2*3;E.ff=6;this.Fc=!0}var E=r.left,B=r.top,y=r.right;r=r.bottom;this.jb?(z[u++]=a,z[u++]=b,z[u++]=C,z[u++]=c,z[u++]=d,z[u++]=C,z[u++]=e,z[u++]=f,z[u++]=C,z[u++]=h,z[u++]=v,z[u++]=C):(z[u++]=a,z[u++]=b,z[u++]=c,z[u++]=d,z[u++]=e,z[u++]=f,z[u++]=h,z[u++]=v);D[t++]=E;D[t++]=B;D[t++]=y;D[t++]=B;D[t++]=y;D[t++]=r;D[t++]=E;D[t++]=r;this.Yf=u;this.Di=t};a.prototype.jd=function(a){if(this.Gj!==a){if(!this.Gb[a]){if(0===
this.Gj)return;a=0}var b=this.Cd();b.type=9;this.Gj=b.Sc=a;this.Fc=!1}};a.prototype.$j=function(a){a=this.Gb[a];return!(!a.vh&&!a.uh)};a.prototype.uo=function(a){a=this.Gb[a];return!!(a.vh||a.uh||a.Ik)};a.prototype.to=function(a){return this.Gb[a].Sd};a.prototype.qw=function(a){a=this.Gb[a];return 0!==a.aj||0!==a.bj};a.prototype.jv=function(a){return this.Gb[a].aj};a.prototype.kv=function(a){return this.Gb[a].bj};a.prototype.lv=function(a,b){return this.Gb[a].Aa[b][2]};a.prototype.Ol=function(a){return this.Gb[a].Bk};
a.prototype.yi=function(a,b,c,d,e,f,h,v,r,u,t,z,D,C,E){var B=this.Gb[this.Gj],y,w;if(B.Bv||E.length){y=this.Cd();y.type=10;y.Da?id(this.Qd,y.Da):y.Da=hd();w=y.Da;w[0]=b;w[1]=c;w[2]=d;w[3]=e;w[4]=f;w[5]=h;w[6]=v;w[7]=r;w[8]=u;w[9]=t;w[10]=z;w[11]=D;w[12]=C;B.Kj?y.ve=a:y.ve=null;if(E.length)for(c=y.gs,c.length=E.length,a=0,b=E.length;a<b;a++)c[a]=E[a];this.Fc=!1}};a.prototype.clear=function(a,b,c,d){var e=this.Cd();e.type=7;e.Sc=0;e.Da||(e.Da=hd());e.Da[0]=a;e.Da[1]=b;e.Da[2]=c;e.Da[3]=d;this.Fc=!1};
a.prototype.clearRect=function(a,b,c,d){if(!(0>c||0>d)){var e=this.Cd();e.type=7;e.Sc=1;e.Da||(e.Da=hd());e.Da[0]=a;e.Da[1]=b;e.Da[2]=c;e.Da[3]=d;this.Fc=!1}};a.prototype.$r=function(a){if(this.jb&&(a=!!a,this.sj!==a)){var b=this.Cd();b.type=14;b.Sc=a?1:0;this.Fc=!1;this.sj=a;this.Pl=null;this.sj?this.jd(2):this.jd(0)}};a.prototype.Zr=function(a){if(this.jb){var b=this.Cd();b.type=13;b.Sc=a?1:0;this.Fc=!1}};a.prototype.fq=function(){id(this.Rn,f);this.nf();this.Oe();var a=this.width/2,b=this.height/
2;this.bk(-a,b,a,b,a,-b,-a,-b);id(f,this.Qd);this.Oe()};a.prototype.Yr=function(a,b,c){this.jd(3);var d=this.Cd();d.type=12;d.Da||(d.Da=hd());d.Da[0]=a;d.Da[1]=b;d.Da[2]=c;d.Da[3]=1;this.Fc=!1};a.prototype.Mw=function(){this.jd(0)};a.prototype.xw=function(){this.jd(2)};a.prototype.pw=function(){this.hh();this.ca.flush()};var h=[],e={};a.prototype.Et=function(){H(h);e={}};a.prototype.xl=function(a,b,c,d){b=!!b;c=!!c;var f=a.src+","+b+","+c+(b?",undefined":""),p=null;if("undefined"!==typeof a.src&&
e.hasOwnProperty(f))return p=e[f],p.Ek++,p;this.hh();var q=this.ca,v=oa(a.width)&&oa(a.height),p=q.createTexture();q.bindTexture(q.TEXTURE_2D,p);q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);var r=q.RGBA,u=q.RGBA,t=q.UNSIGNED_BYTE;if(d&&!this.yg)switch(d){case 1:u=r=q.RGB;break;case 2:t=q.UNSIGNED_SHORT_4_4_4_4;break;case 3:t=q.UNSIGNED_SHORT_5_5_5_1;break;case 4:u=r=q.RGB,t=q.UNSIGNED_SHORT_5_6_5}if(!v&&b){d=document.createElement("canvas");d.width=pa(a.width);d.height=pa(a.height);var z=d.getContext("2d");
z.webkitImageSmoothingEnabled=c;z.mozImageSmoothingEnabled=c;z.msImageSmoothingEnabled=c;z.imageSmoothingEnabled=c;z.drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);q.texImage2D(q.TEXTURE_2D,0,r,u,t,d)}else q.texImage2D(q.TEXTURE_2D,0,r,u,t,a);b?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.REPEAT),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.REPEAT)):(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE));c?(q.texParameteri(q.TEXTURE_2D,
q.TEXTURE_MAG_FILTER,q.LINEAR),v&&this.Vp?(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR_MIPMAP_LINEAR),q.generateMipmap(q.TEXTURE_2D)):q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.LINEAR)):(q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST),q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.NEAREST));q.bindTexture(q.TEXTURE_2D,null);this.qh=null;p.$g=a.width;p.Zg=a.height;p.Ek=1;p.Ip=f;h.push(p);return e[f]=p};a.prototype.fe=function(a,b,c){var d;this.hh();var e=this.ca;
this.yg&&(d=!1);var f=e.createTexture();e.bindTexture(e.TEXTURE_2D,f);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,a,b,0,e.RGBA,d?e.UNSIGNED_SHORT_4_4_4_4:e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,c?e.LINEAR:e.NEAREST);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,c?e.LINEAR:e.NEAREST);e.bindTexture(e.TEXTURE_2D,null);this.qh=null;f.$g=a;f.Zg=b;h.push(f);
return f};a.prototype.deleteTexture=function(a){a&&("undefined"!==typeof a.Ek&&1<a.Ek?a.Ek--:(this.hh(),a===this.qh&&(this.ca.bindTexture(this.ca.TEXTURE_2D,null),this.qh=null),a===this.rh&&(this.ca.activeTexture(this.ca.TEXTURE1),this.ca.bindTexture(this.ca.TEXTURE_2D,null),this.ca.activeTexture(this.ca.TEXTURE0),this.rh=null),Oa(h,a),"undefined"!==typeof a.Ip&&delete e[a.Ip],this.ca.deleteTexture(a)))};a.prototype.te=function(a){if(a!==this.Pl){var b=this.Cd();b.type=6;this.Pl=b.ve=a;this.Fc=!1}};
Ub=a})();
(function(){function a(a){if(a&&(a.getContext||a.dc)&&!a.c2runtime){a.c2runtime=this;var b=this;this.gf=(this.rj=/crosswalk/i.test(navigator.userAgent)||/xwalk/i.test(navigator.userAgent)||!("undefined"===typeof window.c2isCrosswalk||!window.c2isCrosswalk))||"undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap)||"undefined"!==typeof window.c2iscordova&&window.c2iscordova;this.dd=!!a.dc;this.xq="undefined"!==typeof window.AppMobi||this.dd;
this.Fe=!!window.c2cocoonjs;this.Ge=!!window.c2ejecta;this.Fe&&(CocoonJS.App.onSuspended.addEventListener(function(){b.setSuspended(!0)}),CocoonJS.App.onActivated.addEventListener(function(){b.setSuspended(!1)}));this.Ge&&(document.addEventListener("pagehide",function(){b.setSuspended(!0)}),document.addEventListener("pageshow",function(){b.setSuspended(!1)}),document.addEventListener("resize",function(){b.setSize(window.innerWidth,window.innerHeight)}));this.uc=this.dd||this.Fe||this.Ge;this.uj=/edge\//i.test(navigator.userAgent);
this.yg=(/msie/i.test(navigator.userAgent)||/trident/i.test(navigator.userAgent)||/iemobile/i.test(navigator.userAgent))&&!this.uj;this.zq=/tizen/i.test(navigator.userAgent);this.il=/android/i.test(navigator.userAgent)&&!this.zq&&!this.yg&&!this.uj;this.Fq=(/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent))&&!this.yg&&!this.uj;this.Ov=/ipad/i.test(navigator.userAgent);this.Bj=this.Fq||this.Ov||this.Ge;this.qj=(/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent))&&
!this.yg&&!this.uj;this.Gn=/amazonwebappplatform/i.test(navigator.userAgent);this.Iv=/firefox/i.test(navigator.userAgent);this.Lv=/safari/i.test(navigator.userAgent)&&!this.qj&&!this.yg&&!this.uj;this.Mv=/windows/i.test(navigator.userAgent);this.zg="undefined"!==typeof window.c2nodewebkit||"undefined"!==typeof window.c2nwjs||/nodewebkit/i.test(navigator.userAgent)||/nwjs/i.test(navigator.userAgent);this.Cq=!("undefined"===typeof window.c2isWindows8||!window.c2isWindows8);this.Nv=!("undefined"===typeof window.c2isWindows8Capable||
!window.c2isWindows8Capable);this.Wh=!("undefined"===typeof window.c2isWindowsPhone8||!window.c2isWindowsPhone8);this.Ln=!("undefined"===typeof window.c2isWindowsPhone81||!window.c2isWindowsPhone81);this.Bq=!!window.cr_windows10;this.Aq=this.Cq||this.Nv||this.Ln||this.Bq;this.Hv=!("undefined"===typeof window.c2isBlackberry10||!window.c2isBlackberry10);this.jl=this.il&&!this.qj&&!this.rj&&!this.Iv&&!this.Gn&&!this.uc;this.devicePixelRatio=1;this.Th=this.gf||this.rj||this.xq||this.Fe||this.il||this.Bj||
this.Wh||this.Ln||this.Hv||this.zq||this.Ge;this.Th||(this.Th=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet|kindle|silk)/i.test(navigator.userAgent));this.yj=!!(this.Bj&&this.gf&&window.indexedDB);this.xn=null;this.Dv="";this.yj&&(this.xn=cordova&&cordova.plugins&&cordova.plugins.CorHttpd?cordova.plugins.CorHttpd:null);"undefined"===typeof cr_is_preview||this.zg||"?nw"!==window.location.search&&!/nodewebkit/i.test(navigator.userAgent)&&!/nwjs/i.test(navigator.userAgent)||
(this.zg=!0);this.canvas=a;this.Lp=document.getElementById("c2canvasdiv");this.ba=this.ca=null;this.sn="(unavailable)";this.jb=!1;this.gh=0;this.Xa=null;this.cn="";this.Zk=!1;this.rr=this.sr=0;this.canvas.oncontextmenu=function(a){a.preventDefault&&a.preventDefault();return!1};this.canvas.onselectstart=function(a){a.preventDefault&&a.preventDefault();return!1};this.dd&&(window.c2runtime=this);this.zg&&(window.ondragover=function(a){a.preventDefault();return!1},window.ondrop=function(a){a.preventDefault();
return!1},window.nwgui&&window.nwgui.App.clearCache&&window.nwgui.App.clearCache());this.jl&&"undefined"!==typeof jQuery&&jQuery("canvas").parents("*").css("overflow","visible");this.width=a.width;this.height=a.height;this.ka=this.width;this.ja=this.height;this.Jk=this.width;this.Yi=this.height;this.bi=window.innerWidth;this.ai=window.innerHeight;this.Uu=!1;this.fb=!0;this.xj=!1;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.Y=[];this.xb=[];this.Un={};this.Ie=
[];this.Zm={};this.yf=[];this.Ii=[];this.fm=[];this.tt=[];this.ut=[];this.dh={};this.In=this.xg=!1;this.He=0;this.Hn=this.Kn=!1;this.Ze=[];this.tj=!1;this.Ff=this.Gc=this.ul=this.Jo="";this.jk=this.ks=!1;this.Yk=[];this.fh=this.xa=0;this.gr=30;this.Qm=this.Oj=0;this.Vf=1;this.vc=new Jb;this.Zf=new Jb;this.Hl=this.al=this.Uk=this.Ng=this.th=this.bn=this.rl=0;this.Nm=null;this.Rk=[];this.Ym=[];this.Tk=-1;this.Zn=[[]];this.Vo=this.Bl=0;this.wo(null);this.cj=this.kr=this.Sj=0;this.kk=[];this.So=this.xo=
-1;this.nl=!0;this.zl=0;this.vj=!1;this.Pw=0;this.Lh=null;this.vd=this.oq=!1;this.or=new ca;this.ho=new ca;this.qr=new ca;this.Ao=[];new Lb([]);new Lb([]);this.Jh=[];this.gl={};this.mg={};this.ig={};this.Hi={};this.Fp={};this.Lq=this.tl=this.Qb=this.Zb=this.Kq=this.sl=this.cb=null;this.Fi=this.Mn=!1;this.dn=[null,null];this.kh=0;this.cq="";this.Jf={};this.ik=this.Bg=null;this.ms="";this.Gl=[];this.ww()}}function c(a,b){return 128>=b?a[3]:256>=b?a[2]:512>=b?a[1]:a[0]}function b(){try{return!!window.indexedDB}catch(a){return!1}}
function d(a){a.target.result.createObjectStore("saves",{keyPath:"slot"})}function f(a,b,c,e){try{var k=indexedDB.open("_C2SaveStates");k.onupgradeneeded=d;k.onerror=e;k.onsuccess=function(d){d=d.target.result;d.onerror=e;d.transaction(["saves"],"readwrite").objectStore("saves").put({slot:a,data:b}).onsuccess=c}}catch(g){e(g)}}function h(a,b,c){try{var e=indexedDB.open("_C2SaveStates");e.onupgradeneeded=d;e.onerror=c;e.onsuccess=function(d){d=d.target.result;d.onerror=c;var e=d.transaction(["saves"]).objectStore("saves").get(a);
e.onsuccess=function(){e.result?b(e.result.data):b(null)}}}catch(k){c(k)}}function e(){ga("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():-1<window.location.search.indexOf("continuous")?window.location.reload(!0):window.location=window.location+"?continuous"}function g(a){var b,c={};for(b in a)!a.hasOwnProperty(b)||a[b]instanceof ca||a[b]&&"undefined"!==typeof a[b].Xe||"spriteCreatedDestroyCallback"!==b&&(c[b]=a[b]);return c}var l=window.requestAnimationFrame||window.mozRequestAnimationFrame||
window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame;a.prototype.ww=function(){var a=this;if(this.yj)this.xn?this.xn.startServer({port:0,localhost_only:!0},function(b){a.Dv=b;a.aq(function(b){a.ei(JSON.parse(b))},function(){alert("Error fetching data.js")})},function(a){alert("error starting local server: "+a)}):this.aq(function(b){a.ei(JSON.parse(b))},function(){alert("Error fetching data.js")});else{var b;this.Wh?b=new ActiveXObject("Microsoft.XMLHTTP"):
b=new XMLHttpRequest;var c="data.js";if(this.Cq||this.Wh||this.Ln||this.Bq)c="data.json";b.open("GET",c,!0);var d=!1;if(!this.uc&&"response"in b&&"responseType"in b)try{b.responseType="json",d="json"===b.responseType}catch(e){d=!1}if(!d&&"responseType"in b)try{b.responseType="text"}catch(k){}if("overrideMimeType"in b)try{b.overrideMimeType("application/json; charset=utf-8")}catch(g){}this.Wh?b.onreadystatechange=function(){4===b.readyState&&a.ei(JSON.parse(b.responseText))}:(b.onload=function(){if(d)a.ei(b.response);
else if(a.Ge){var c=b.responseText,c=c.substr(c.indexOf("{"));a.ei(JSON.parse(c))}else a.ei(JSON.parse(b.responseText))},b.onerror=function(a){ha("Error requesting "+c+":");ha(a)});b.send()}};a.prototype.Gv=function(){var a=this,b,c,d,e,k,g,f,h,n;this.Uh=(!this.uc||this.Ge||this.gf)&&this.bx&&!this.jl;0===this.$c&&this.Bj&&(this.Uh=!1);this.devicePixelRatio=this.Uh?window.devicePixelRatio||window.webkitDevicePixelRatio||window.mozDevicePixelRatio||window.msDevicePixelRatio||1:1;this.zc();c=!(!this.Uu&&
(!this.zm||this.zg||this.Aq||this.Wh||this.rj||this.gf||this.Gn));0<this.$c&&this.setSize(window.innerWidth,window.innerHeight,!0);try{this.lu&&(this.Fe||this.Ge||!this.uc)&&(b={alpha:c,depth:!1,antialias:!1,failIfMajorPerformanceCaveat:!0},this.ca=this.canvas.getContext("webgl",b)||this.canvas.getContext("experimental-webgl",b))}catch(l){}if(this.ca){if(b=this.ca.getExtension("WEBGL_debug_renderer_info"))this.sn=this.ca.getParameter(b.UNMASKED_RENDERER_WEBGL)+" ["+this.ca.getParameter(b.UNMASKED_VENDOR_WEBGL)+
"]";this.jb&&(this.sn+=" [front-to-back enabled]");this.uc||(this.wc=document.createElement("canvas"),jQuery(this.wc).appendTo(this.canvas.parentNode),this.wc.oncontextmenu=function(){return!1},this.wc.onselectstart=function(){return!1},this.wc.width=Math.round(this.Jk*this.devicePixelRatio),this.wc.height=Math.round(this.Yi*this.devicePixelRatio),jQuery(this.wc).css({width:this.Jk+"px",height:this.Yi+"px"}),this.Jr(),this.oo=this.wc.getContext("2d"));this.ba=new Ub(this.ca,this.Th,this.jb);this.ba.Ah(this.canvas.width,
this.canvas.height);this.ba.Vp=0!==this.eu;this.Xa=null;this.canvas.addEventListener("webglcontextlost",function(b){b.preventDefault();a.Xv();ga("[Construct 2] WebGL context lost");window.cr_setSuspended(!0)},!1);this.canvas.addEventListener("webglcontextrestored",function(){a.ba.tq();a.ba.Ah(a.ba.width,a.ba.height,!0);a.Zb=null;a.Qb=null;a.dn[0]=null;a.dn[1]=null;a.Yv();a.fb=!0;ga("[Construct 2] WebGL context restored");window.cr_setSuspended(!1)},!1);b=0;for(c=this.Y.length;b<c;b++)for(k=this.Y[b],
d=0,e=k.ua.length;d<e;d++)f=k.ua[d],f.Sb=this.ba.pn(f.id),f.Sd=this.ba.to(f.Sb),this.Fi=this.Fi||this.ba.$j(f.Sb);b=0;for(c=this.Ie.length;b<c;b++){h=this.Ie[b];d=0;for(e=h.ua.length;d<e;d++)f=h.ua[d],f.Sb=this.ba.pn(f.id),f.Sd=this.ba.to(f.Sb);h.Ne();d=0;for(e=h.za.length;d<e;d++){n=h.za[d];k=0;for(g=n.ua.length;k<g;k++)f=n.ua[k],f.Sb=this.ba.pn(f.id),f.Sd=this.ba.to(f.Sb),this.Fi=this.Fi||this.ba.$j(f.Sb);n.Ne()}}}else{if(0<this.$c&&this.dd){this.canvas=null;document.oncontextmenu=function(){return!1};
document.onselectstart=function(){return!1};this.Xa=AppMobi.canvas.getContext("2d");try{this.Xa.samplingMode=this.Ja?"smooth":"sharp",this.Xa.globalScale=1,this.Xa.HTML5CompatibilityMode=!0,this.Xa.imageSmoothingEnabled=this.Ja}catch(q){}0!==this.width&&0!==this.height&&(this.Xa.width=this.width,this.Xa.height=this.height)}this.Xa||(this.Fe?(b={antialias:!!this.Ja,alpha:c},this.Xa=this.canvas.getContext("2d",b)):(b={alpha:c},this.Xa=this.canvas.getContext("2d",b)),this.Xa.webkitImageSmoothingEnabled=
this.Ja,this.Xa.mozImageSmoothingEnabled=this.Ja,this.Xa.msImageSmoothingEnabled=this.Ja,this.Xa.imageSmoothingEnabled=this.Ja);this.oo=this.wc=null}this.us=function(b){a.Jc(!1,b)};window==window.top||this.uc||this.Aq||this.Wh||(document.addEventListener("mousedown",function(){window.focus()},!0),document.addEventListener("touchstart",function(){window.focus()},!0));"undefined"!==typeof cr_is_preview&&(this.Fe&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),-1<window.location.search.indexOf("continuous")&&
(ga("Reloading for continuous preview"),this.ul="__c2_continuouspreview",this.jk=!0),this.hw&&!this.Th&&(jQuery(window).focus(function(){a.setSuspended(!1)}),jQuery(window).blur(function(){a.setSuspended(!0)})));window.addEventListener("blur",function(){a.pi()});this.uc||(b=function(a){if(Tb(a)&&document.activeElement&&document.activeElement!==document.getElementsByTagName("body")[0]&&document.activeElement.blur)try{document.activeElement.blur()}catch(b){}},window.navigator.pointerEnabled?document.addEventListener("pointerdown",
b):window.navigator.msPointerEnabled?document.addEventListener("MSPointerDown",b):document.addEventListener("touchstart",b),document.addEventListener("mousedown",b));0===this.$c&&this.Uh&&1<this.devicePixelRatio&&this.setSize(this.ac,this.$b,!0);this.As();this.yv();this.go();this.ya={}};a.prototype.setSize=function(a,b,c){var d=0,e=0,k=0,f=0,f=0;if(this.bi!==a||this.ai!==b||c){this.bi=a;this.ai=b;var g=this.$c,h=(document.mozFullScreen||document.webkitIsFullScreen||!!document.msFullscreenElement||
document.fullScreen||this.vj)&&!this.gf;if(h||0!==this.$c||c)h&&0<this.kh&&(g=this.kh),c=this.devicePixelRatio,4<=g?(k=this.ac/this.$b,a/b>k?(k*=b,5===g?(f=k*c/this.ac,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),k=this.ac*f/c,f=this.$b*f/c,d=(a-k)/2,e=(b-f)/2,a=k,b=f):(d=(a-k)/2,a=k)):(f=a/k,5===g?(f=f*c/this.$b,1<f?f=Math.floor(f):1>f&&(f=1/Math.ceil(1/f)),k=this.ac*f/c,f=this.$b*f/c,d=(a-k)/2,e=(b-f)/2,a=k):e=(b-f)/2,b=f),h&&!this.zg&&(e=d=0)):this.zg&&this.vj&&0===this.gq&&(d=Math.floor((a-this.ac)/
2),e=Math.floor((b-this.$b)/2),a=this.ac,b=this.$b),2>g&&(this.Ti=c),this.Jk=Math.round(a),this.Yi=Math.round(b),this.width=Math.round(a*c),this.height=Math.round(b*c),this.fb=!0,this.Js?(this.ka=this.width,this.ja=this.height,this.Md=!0):this.width<this.ac&&this.height<this.$b||1===g?(this.ka=this.width,this.ja=this.height,this.Md=!0):(this.ka=this.ac,this.ja=this.$b,this.Md=!1,2===g?(k=this.ac/this.$b,g=this.bi/this.ai,g<k?this.ka=this.ja*g:g>k&&(this.ja=this.ka/g)):3===g&&(k=this.ac/this.$b,g=
this.bi/this.ai,g>k?this.ka=this.ja*g:g<k&&(this.ja=this.ka/g))),this.Lp&&!this.uc&&(jQuery(this.Lp).css({width:Math.round(a)+"px",height:Math.round(b)+"px","margin-left":Math.floor(d)+"px","margin-top":Math.floor(e)+"px"}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:Math.round(a)+"px",height:Math.round(b)+"px"})),this.canvas&&(this.canvas.width=Math.round(a*c),this.canvas.height=Math.round(b*c),this.Ge?(this.canvas.style.left=Math.floor(d)+"px",this.canvas.style.top=Math.floor(e)+
"px",this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px"):this.Uh&&!this.uc&&(this.canvas.style.width=Math.round(a)+"px",this.canvas.style.height=Math.round(b)+"px")),this.wc&&(this.wc.width=Math.round(a*c),this.wc.height=Math.round(b*c),this.wc.style.width=this.Jk+"px",this.wc.style.height=this.Yi+"px"),this.ba&&this.ba.Ah(Math.round(a*c),Math.round(b*c)),this.dd&&this.Xa&&(this.Xa.width=Math.round(a),this.Xa.height=Math.round(b)),this.Xa&&(this.Xa.webkitImageSmoothingEnabled=
this.Ja,this.Xa.mozImageSmoothingEnabled=this.Ja,this.Xa.msImageSmoothingEnabled=this.Ja,this.Xa.imageSmoothingEnabled=this.Ja),this.As(),this.Fq&&!this.gf&&window.scrollTo(0,0)}};a.prototype.As=function(){if(this.xt&&0!==this.mo){var a="portrait";2===this.mo&&(a="landscape");try{screen.orientation&&screen.orientation.lock?screen.orientation.lock(a):screen.lockOrientation?screen.lockOrientation(a):screen.webkitLockOrientation?screen.webkitLockOrientation(a):screen.mozLockOrientation?screen.mozLockOrientation(a):
screen.msLockOrientation&&screen.msLockOrientation(a)}catch(b){console&&console.warn&&console.warn("Failed to lock orientation: ",b)}}};a.prototype.Xv=function(){this.ba.Et();this.Mn=!0;var a,b,c;a=0;for(b=this.Y.length;a<b;a++)c=this.Y[a],c.jo&&c.jo()};a.prototype.Yv=function(){this.Mn=!1;var a,b,c;a=0;for(b=this.Y.length;a<b;a++)c=this.Y[a],c.ko&&c.ko()};a.prototype.Jr=function(){if(!this.uc){var a=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||document.msFullscreenElement||
this.vj)&&!this.gf?jQuery(this.canvas).offset():jQuery(this.canvas).position();a.position="absolute";jQuery(this.wc).css(a)}};var m=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;a.prototype.setSuspended=function(a){var b;if(a&&!this.xj)for(ga("[Construct 2] Suspending"),this.xj=!0,-1!==this.xo&&m&&m(this.xo),-1!==this.So&&clearTimeout(this.So),a=0,b=this.kk.length;a<b;a++)this.kk[a](!0);else if(!a&&
this.xj){ga("[Construct 2] Resuming");this.xj=!1;this.rl=vb();this.th=vb();a=this.Oj=this.al=0;for(b=this.kk.length;a<b;a++)this.kk[a](!1);this.Jc(!1)}};a.prototype.pt=function(a){this.kk.push(a)};a.prototype.fg=function(a){return this.Gl[a]};a.prototype.ei=function(a){a&&a.project||ha("Project model unavailable");a=a.project;this.name=a[0];this.dq=a[1];this.$c=a[12];this.gq=a[12];this.ac=a[10];this.$b=a[11];this.Cr=this.ac/2;this.Dr=this.$b/2;this.uc&&!this.Ge&&(4<=a[12]||0===a[12])&&(ga("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),
this.gq=this.$c=3);this.cp=a[18];this.Cg=a[19];if(0===this.Cg){var b=new Image;b.crossOrigin="anonymous";this.as(b,"loading-logo.png");this.Bg={Cl:b}}else if(4===this.Cg){b=new Image;b.src="";var c=new Image;c.src="";var d=new Image;d.src="";var e=new Image;e.src="";var k=new Image;k.src="";var f=new Image;f.src="";var g=new Image;g.src="";var h=new Image;h.src="";var n=new Image;n.src="";var l=new Image;l.src="";var q=new Image;q.src="";var m=new Image;m.src="";this.Bg={Cl:[b,c,d,e],lw:[k,f,g,h],
dx:[n,l,q,m]}}this.Sj=a[21];this.Gl=md();this.pf=new I(this);b=0;for(c=a[2].length;b<c;b++)g=a[2][b],d=this.fg(g[0]),Vb(g,d.prototype),h=new d(this),h.Xl=g[1],h.Ag=g[2],h.ir=g[9],h.ub&&h.ub(),this.plugins.push(h);this.Gl=md();b=0;for(c=a[3].length;b<c;b++){g=a[3][b];k=this.fg(g[1]);h=null;d=0;for(e=this.plugins.length;d<e;d++)if(this.plugins[d]instanceof k){h=this.plugins[d];break}n=new h.Tc(h);n.name=g[0];n.va=g[2];n.En=g[3].slice(0);n.cx=g[3].length;n.yt=g[4];n.Wu=g[5];n.La=g[11];n.va?(n.Fl=[],
n.zf=this.cj++,n.tb=null):(n.Fl=null,n.zf=-1,n.tb=[]);n.Wk=null;n.Qh=null;n.Wp=null;n.wd=!1;n.td=null;g[6]?(n.Oo=g[6][0],n.Po=g[6][1],n.Qo=g[6][2]):(n.Oo=null,n.Po=0,n.Qo=0);g[7]?n.rd=g[7]:n.rd=null;n.index=b;n.C=[];n.Nk=[];n.Uf=[new Wb(n)];n.$e=0;n.ge=null;n.Jt=0;n.Ci=!0;n.gm=Xb;n.kq=Yb;n.hv=Zb;n.Za=$b;n.ak=ac;n.vo=cc;n.si=dc;n.cl=ec;n.en=fc;n.jn=gc;n.jg=hc;n.kn=ic;n.Mp=new Mb(this.ac,this.$b);n.wp=!0;n.xp=!1;n.ya={};n.toString=jc;n.xb=[];d=0;for(e=g[8].length;d<e;d++){l=g[8][d];q=this.fg(l[1]);
m=null;k=0;for(f=this.xb.length;k<f;k++)if(this.xb[k]instanceof q){m=this.xb[k];break}m||(m=new q(this),m.jr=[],m.eo=new ca,m.ub&&m.ub(),this.xb.push(m));-1===m.jr.indexOf(n)&&m.jr.push(n);k=new m.Tc(m,n);k.name=l[0];k.La=l[2];k.ub();n.xb.push(k)}n.global=g[9];n.Jn=g[10];n.ua=[];d=0;for(e=g[12].length;d<e;d++)n.ua.push({id:g[12][d][0],name:g[12][d][1],Sb:-1,Sd:!1,Wc:!0,index:d});n.Cy=g[13];this.cp&&!n.va&&!n.Jn&&h.Ag||n.ub();n.name&&(this.types[n.name]=n);this.Y.push(n);h.Xl&&(d=new h.oc(n),d.uid=
this.Sj++,d.Or=this.kr++,d.oh=0,d.kj=kc,d.toString=lc,d.bb=g[14],d.ub(),n.C.push(d),this.Jf[d.uid.toString()]=d)}b=0;for(c=a[4].length;b<c;b++)for(k=a[4][b],f=this.Y[k[0]],d=1,e=k.length;d<e;d++)g=this.Y[k[d]],g.tb.push(f),f.Fl.push(g);b=0;for(c=a[28].length;b<c;b++){k=a[28][b];f=[];d=0;for(e=k.length;d<e;d++)f.push(this.Y[k[d]]);d=0;for(e=f.length;d<e;d++)f[d].wd=!0,f[d].td=f}if(0<this.cj)for(b=0,c=this.Y.length;b<c;b++)if(g=this.Y[b],!g.va&&g.tb.length){g.Wk=Array(this.cj);g.Qh=Array(this.cj);g.Wp=
Array(this.cj);n=[];d=m=q=l=0;for(e=g.tb.length;d<e;d++)for(h=g.tb[d],g.Wk[h.zf]=l,l+=h.cx,g.Qh[h.zf]=q,q+=h.yt,g.Wp[h.zf]=m,m+=h.Wu,k=0,f=h.ua.length;k<f;k++)n.push(Fa({},h.ua[k]));g.ua=n.concat(g.ua);d=0;for(e=g.ua.length;d<e;d++)g.ua[d].index=d}b=0;for(c=a[5].length;b<c;b++)g=a[5][b],d=new mc(this,g),this.Un[d.name]=d,this.Ie.push(d);b=0;for(c=a[6].length;b<c;b++)g=a[6][b],d=new nc(this,g),this.Zm[d.name]=d,this.yf.push(d);b=0;for(c=this.yf.length;b<c;b++)this.yf[b].Nb();b=0;for(c=this.yf.length;b<
c;b++)this.yf[b].Zo();b=0;for(c=this.fm.length;b<c;b++)this.fm[b].Nb();H(this.fm);this.wt=a[7];this.cq=a[8];this.Nf=a[9];this.Ti=1;this.lu=a[13];this.Ja=a[14];this.zm=a[15];this.bx=a[17];this.mo=a[20];this.xt=0<this.mo;this.hw=a[22];this.Md=this.Js=a[23];this.eu=a[24];this.mw=a[25];this.jb=a[27]&&!this.yg;this.Yl=Date.now();H(this.Gl);this.Gv()};var k=!1;a.prototype.Is=function(a,b){a.cocoonLazyLoad=!0;a.onerror=function(b){k=a.Hp=!0;console&&console.error&&console.error("Error loading image '"+a.src+
"': ",b)};this.Ge?a.src=b:a.src||("undefined"!==typeof XAPKReader?XAPKReader.get(b,function(b){a.src=b},function(c){k=a.Hp=!0;console&&console.error&&console.error("Error extracting image '"+b+"' from expansion file: ",c)}):(a.crossOrigin="anonymous",this.as(a,b)));this.Ii.push(a)};a.prototype.Tu=function(a){var b,c;b=0;for(c=this.Ii.length;b<c;b++)if(this.Ii[b].Gt===a)return this.Ii[b];return null};var n=0,p=!1;a.prototype.yv=function(){this.Lh&&(n=this.Lh.Kw(this.wt))};a.prototype.yp=function(){var a=
n,b=0,c=0,d=!0,e,k,c=0;for(e=this.Ii.length;c<e;c++){k=this.Ii[c];var g=k.Pp;if(!g||0>=g)g=5E4;a+=g;k.src&&(k.complete||k.loaded)&&!k.Hp?b+=g:d=!1}d&&this.mw&&this.Lh&&(p||(this.Lh.Qw(),p=!0),c=this.Lh.iv(),b+=c,c<n&&(d=!1));this.Ke=0==a?1:b/a;return d};var q=!1;a.prototype.go=function(){if(this.Xa||this.ba){var a=this.Xa||this.oo;this.wc&&this.Jr();var b=window.innerWidth,c=window.innerHeight;this.bi===b&&this.ai===c||this.setSize(b,c);this.Ke=0;this.Jq=-1;var d=this;if(this.yp()&&(4!==this.Cg||
q))this.zv();else{c=Date.now()-this.Yl;if(a){var e=this.width,g=this.height,b=this.devicePixelRatio;if(3>this.Cg&&(this.Fe||500<=c&&this.Jq!=this.Ke)){a.clearRect(0,0,e,g);var c=e/2,g=g/2,e=0===this.Cg&&this.Bg.Cl.complete,f=40*b,h=0,n=80*b,m;if(e){var p=this.Bg.Cl,n=p.width*b;m=p.height*b;f=n/2;h=m/2;a.drawImage(p,ua(c-f),ua(g-h),n,m)}1>=this.Cg?(c=ua(c-f)+.5,g=ua(g+(h+(e?12*b:0)))+.5,a.fillStyle=k?"red":"DodgerBlue",a.fillRect(c,g,Math.floor(n*this.Ke),6*b),a.strokeStyle="black",a.strokeRect(c,
g,n,6*b),a.strokeStyle="white",a.strokeRect(c-1*b,g-1*b,n+2*b,8*b)):2===this.Cg&&(a.font=this.Ge?"12pt ArialMT":"12pt Arial",a.fillStyle=k?"#f00":"#999",a.By="middle",b=Math.round(100*this.Ke)+"%",e=a.measureText?a.measureText(b):null,a.fillText(b,c-(e?e.width:0)/2,g));this.Jq=this.Ke}else if(4===this.Cg){this.ju(a);l?l(function(){d.go()}):setTimeout(function(){d.go()},16);return}}setTimeout(function(){d.go()},this.Fe?10:100)}}};var v=-1,r="undefined"===typeof cr_is_preview?200:0,u=!0,t=!1,z=0,D=
0,C="undefined"===typeof cr_is_preview?3E3:0,E=null,B=null,y=0;a.prototype.ju=function(a){if(!q){for(var b=Math.ceil(this.width),d=Math.ceil(this.height),e=this.Bg.Cl,g=this.Bg.lw,f=this.Bg.dx,h=0;4>h;++h)if(!e[h].complete||!g[h].complete||!f[h].complete)return;0===y&&(v=Date.now());var h=Date.now(),n=!1,l=a,m,p;u||t?(a.clearRect(0,0,b,d),E&&E.width===b&&E.height===d||(E=document.createElement("canvas"),E.width=b,E.height=d,B=E.getContext("2d")),l=B,n=!0,u&&1===y&&(v=Date.now())):a.globalAlpha=1;
l.fillStyle="#333333";l.fillRect(0,0,b,d);256<this.Yi?(m=Ra(.22*d,105,.6*b),p=.25*m,l.drawImage(c(g,m),.5*b-m/2,.2*d-p/2,m,p),p=m=Math.min(.395*d,.95*b),l.drawImage(c(e,m),.5*b-m/2,.485*d-p/2,m,p),m=Ra(.22*d,105,.6*b),p=.25*m,l.drawImage(c(f,m),.5*b-m/2,.868*d-p/2,m,p),l.fillStyle="#3C3C3C",m=b,p=Math.max(.005*d,2),l.fillRect(0,.8*d-p/2,m,p),l.fillStyle=k?"red":"#E0FF65",m=b*this.Ke,l.fillRect(.5*b-m/2,.8*d-p/2,m,p)):(p=m=.55*d,l.drawImage(c(e,m),.5*b-m/2,.45*d-p/2,m,p),l.fillStyle="#3C3C3C",m=b,
p=Math.max(.005*d,2),l.fillRect(0,.85*d-p/2,m,p),l.fillStyle=k?"red":"#E0FF65",m=b*this.Ke,l.fillRect(.5*b-m/2,.85*d-p/2,m,p));n&&(u?a.globalAlpha=0===y?0:Math.min((h-v)/300,1):t&&(a.globalAlpha=Math.max(1-(h-D)/300,0)),a.drawImage(E,0,0,b,d));u&&300<=h-v&&2<=y&&(u=!1,z=h);!u&&h-z>=C&&!t&&1<=this.Ke&&(t=!0,D=h);if(t&&h-D>=300+r||"undefined"!==typeof cr_is_preview&&1<=this.Ke&&500>Date.now()-v)q=!0,t=u=!1,this.Bg=B=E=null;++y}};a.prototype.zv=function(){this.wc&&(this.canvas.parentNode.removeChild(this.wc),
this.wc=this.oo=null);this.Yl=Date.now();this.th=vb();var a,b,c;if(this.cp)for(a=0,b=this.Y.length;a<b;a++)c=this.Y[a],c.va||c.Jn||!c.Eb.Ag||c.ub();else this.nl=!1;a=0;for(b=this.Ie.length;a<b;a++)this.Ie[a].Ht();2<=this.$c&&(a=this.ac/this.$b,b=this.width/this.height,this.Ti=2!==this.$c&&b>a||2===this.$c&&b<a?this.height/this.$b:this.width/this.ac);this.dq?this.Un[this.dq].No():this.Ie[0].No();this.cp||(this.zl=1,this.trigger(I.prototype.aa.np,null));navigator.splashscreen&&navigator.splashscreen.hide&&
navigator.splashscreen.hide();a=0;for(b=this.Y.length;a<b;a++)c=this.Y[a],c.Wv&&c.Wv();document.hidden||document.webkitHidden||document.mozHidden||document.msHidden?window.cr_setSuspended(!0):this.Jc(!1);this.dd&&AppMobi.webview.execute("onGameReady();")};a.prototype.Jc=function(a,b,c){if(this.cb){var d=vb();if(c||!this.xj||a){a||(l?this.xo=l(this.us):this.So=setTimeout(this.us,this.Th?1:16));b=b||d;var e=this.$c;((c=(document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||!!document.msFullscreenElement)&&
!this.gf)||this.vj)&&0<this.kh&&(e=this.kh);if(0<e){var e=window.innerWidth,k=window.innerHeight;this.bi===e&&this.ai===k||this.setSize(e,k)}this.uc||(c?(this.Zk||(this.cn=jQuery(this.canvas).css("margin")||"0",this.Zk=!0),this.qj||this.zg||jQuery(this.canvas).css({"margin-left":""+Math.floor((screen.width-this.width/this.devicePixelRatio)/2)+"px","margin-top":""+Math.floor((screen.height-this.height/this.devicePixelRatio)/2)+"px"})):this.Zk?(this.qj||this.zg||jQuery(this.canvas).css("margin",this.cn),
this.cn="",this.Zk=!1,0===this.$c&&this.setSize(Math.round(this.sr/this.devicePixelRatio),Math.round(this.rr/this.devicePixelRatio),!0)):(this.sr=this.width,this.rr=this.height));this.nl&&(c=this.yp(),this.zl=this.Ke,c&&(this.nl=!1,this.Ke=1,this.trigger(I.prototype.aa.np,null)));this.Rv(b);!this.fb&&!this.Fe||this.Mn||this.jk||a||(this.fb=!1,this.ba?this.Ld():this.sg(),this.ik&&(this.canvas&&this.canvas.toDataURL&&(this.ms=this.canvas.toDataURL(this.ik[0],this.ik[1]),window.cr_onSnapshot&&window.cr_onSnapshot(this.ms),
this.trigger(I.prototype.aa.$s,null)),this.ik=null));this.wy||(this.Ng++,this.Uk++,this.al++);this.Oj+=vb()-d}}};a.prototype.Rv=function(a){var b,c,d,e,k,g,f,h;1E3<=a-this.th&&(this.th+=1E3,1E3<=a-this.th&&(this.th=a),this.bn=this.al,this.al=0,this.Qm=this.Oj,this.Oj=0);b=0;0!==this.rl&&(b=a-this.rl,0>b&&(b=0),this.fh=b/=1E3,.5<this.fh?this.fh=0:this.fh>1/this.gr&&(this.fh=1/this.gr));this.rl=a;this.xa=this.fh*this.Vf;this.vc.add(this.xa);this.Zf.add(b);a=(document.mozFullScreen||document.webkitIsFullScreen||
document.fullScreen||!!document.msFullscreenElement||this.vj)&&!this.gf;2<=this.$c||a&&0<this.kh?(b=this.ac/this.$b,c=this.width/this.height,d=this.$c,a&&0<this.kh&&(d=this.kh),this.Ti=2!==d&&c>b||2===d&&c<b?this.height/this.$b:this.width/this.ac,this.cb&&(this.cb.Vr(this.cb.scrollX),this.cb.Wr(this.cb.scrollY))):this.Ti=this.Uh?this.devicePixelRatio:1;this.zc();this.He++;this.pf.Aw();this.He--;this.zc();this.He++;c=this.or.rf();a=0;for(b=c.length;a<b;a++)c[a].yy();a=0;for(b=this.Y.length;a<b;a++)if(g=
this.Y[a],!g.va&&(g.xb.length||g.tb.length))for(c=0,d=g.C.length;c<d;c++)for(f=g.C[c],e=0,k=f.ta.length;e<k;e++)f.ta[e].Jc();a=0;for(b=this.Y.length;a<b;a++)if(g=this.Y[a],!g.va&&(g.xb.length||g.tb.length))for(c=0,d=g.C.length;c<d;c++)for(f=g.C[c],e=0,k=f.ta.length;e<k;e++)h=f.ta[e],h.kw&&h.kw();c=this.ho.rf();a=0;for(b=c.length;a<b;a++)c[a].Jc();this.He--;this.Av();for(a=0;this.Nm&&10>a++;)this.Up(this.Nm);a=0;for(b=this.yf.length;a<b;a++)this.yf[a].wn=!1;this.cb.ih&&this.cb.ih.ec();H(this.Ao);this.He++;
a=0;for(b=this.Y.length;a<b;a++)if(g=this.Y[a],!g.va&&(g.xb.length||g.tb.length))for(c=0,d=g.C.length;c<d;c++)for(f=g.C[c],e=0,k=f.ta.length;e<k;e++)h=f.ta[e],h.Ro&&h.Ro();c=this.qr.rf();a=0;for(b=c.length;a<b;a++)c[a].Ro();this.He--};a.prototype.pi=function(){var a,b,c,d,e,k,g,f,h;a=0;for(b=this.Y.length;a<b;a++)if(g=this.Y[a],!g.va)for(c=0,d=g.C.length;c<d;c++)if(f=g.C[c],f.pi&&f.pi(),f.ta)for(e=0,k=f.ta.length;e<k;e++)h=f.ta[e],h.pi&&h.pi()};a.prototype.Up=function(a){var b=this.cb;this.cb.Sw();
var c,d,e;if(this.ba)for(c=0,d=this.Y.length;c<d;c++)e=this.Y[c],e.va||!e.Yo||e.global&&0!==e.C.length||-1!==a.pj.indexOf(e)||e.Yo();b==a&&H(this.pf.kd);H(this.Ao);this.Tr(!0);a.No();this.Tr(!1);this.fb=!0;this.zc()};a.prototype.Tr=function(a){var b,c,d,e,k,g,f,h,n;b=0;for(c=this.xb.length;b<c;b++)d=this.xb[b],a?d.Tj&&d.Tj():d.Vj&&d.Vj();b=0;for(c=this.Y.length;b<c;b++)if(d=this.Y[b],d.global||d.Eb.Xl)for(e=0,k=d.C.length;e<k;e++)if(g=d.C[e],a?g.Tj&&g.Tj():g.Vj&&g.Vj(),g.ta)for(f=0,h=g.ta.length;f<
h;f++)n=g.ta[f],a?n.Tj&&n.Tj():n.Vj&&n.Vj()};a.prototype.vs=function(a){this.ho.add(a)};a.prototype.gn=function(a){return a&&-1!==a.Rj?this.fh*a.Rj:this.xa};a.prototype.sg=function(){this.cb.sg(this.Xa);this.dd&&this.Xa.present()};a.prototype.Ld=function(){this.jb&&(this.gh=1,this.cb.eh(this.ba));this.cb.Ld(this.ba);this.ba.pw()};a.prototype.ym=function(a){a&&this.Rk.push(a)};a.prototype.Sr=function(a){Oa(this.Rk,a)};a.prototype.wg=function(a){a=a.toString();return this.Jf.hasOwnProperty(a)?this.Jf[a]:
null};var w=[];a.prototype.Rg=function(a){var b,c;b=a.type.name;var d=null;if(this.dh.hasOwnProperty(b)){if(d=this.dh[b],d.contains(a))return}else d=w.length?w.pop():new ca,this.dh[b]=d;d.add(a);this.xg=!0;if(a.wd)for(b=0,c=a.siblings.length;b<c;b++)this.Rg(a.siblings[b]);this.In&&d.Gi.push(a);this.Hn||(this.He++,this.trigger(Object.getPrototypeOf(a.type.Eb).aa.bt,a),this.He--)};a.prototype.zc=function(){if(this.xg){var a,b,c,d,e,k;this.In=!0;c=0;for(e=this.Ze.length;c<e;++c)for(a=this.Ze[c],b=a.type,
b.C.push(a),d=0,k=b.tb.length;d<k;++d)b.tb[d].C.push(a),b.tb[d].Ci=!0;H(this.Ze);this.Us();ub(this.dh);this.xg=this.In=!1}};a.prototype.Us=function(){for(var a in this.dh)this.dh.hasOwnProperty(a)&&this.Ns(this.dh[a])};a.prototype.Ns=function(a){var b=a.rf(),c=b[0].type,d,e,k,g,f,h;Ab(c.C,a);c.Ci=!0;0===c.C.length&&(c.xp=!1);d=0;for(e=c.tb.length;d<e;++d)h=c.tb[d],Ab(h.C,a),h.Ci=!0;d=0;for(e=this.pf.kd.length;d<e;++d)if(f=this.pf.kd[d],f.Rc.hasOwnProperty(c.index)&&Ab(f.Rc[c.index].Bf,a),!c.va)for(k=
0,g=c.tb.length;k<g;++k)h=c.tb[k],f.Rc.hasOwnProperty(h.index)&&Ab(f.Rc[h.index].Bf,a);if(f=b[0].V){if(f.Zd)for(k=f.C,d=0,e=k.length;d<e;++d)g=k[d],a.contains(g)&&(g.wb(),f.xc.update(g,g.fd,null),g.fd.set(0,0,-1,-1));Ab(f.C,a);f.fk(0)}for(d=0;d<b.length;++d)this.Ms(b[d],c);a.clear();w.push(a);this.fb=!0};a.prototype.Ms=function(a,b){var c,d,e;c=0;for(d=this.Rk.length;c<d;++c)this.Rk[c](a);a.ng&&b.Mp.update(a,a.ng,null);(c=a.V)&&c.vi(a,!0);if(a.ta)for(c=0,d=a.ta.length;c<d;++c)e=a.ta[c],e.oi&&e.oi(),
e.behavior.eo.remove(a);this.or.remove(a);this.ho.remove(a);this.qr.remove(a);a.oi&&a.oi();this.Jf.hasOwnProperty(a.uid.toString())&&delete this.Jf[a.uid.toString()];this.Hl--;100>b.Nk.length&&b.Nk.push(a)};a.prototype.Qp=function(a,b,c,d){if(a.va){var e=ua(Math.random()*a.Fl.length);return this.Qp(a.Fl[e],b,c,d)}return a.ge?this.pg(a.ge,b,!1,c,d,!1):null};var A=[];a.prototype.pg=function(a,b,c,d,e,k){var g,f,h,n;if(!a)return null;var l=this.Y[a[1]],q=l.Eb.Ag;if(this.nl&&q&&!l.Jn||q&&!this.ba&&11===
a[0][11])return null;var m=b;q||(b=null);var p;l.Nk.length?(p=l.Nk.pop(),p.se=!0,l.Eb.oc.call(p,l)):(p=new l.Eb.oc(l),p.se=!1);!c||k||this.Jf.hasOwnProperty(a[2].toString())?p.uid=this.Sj++:p.uid=a[2];this.Jf[p.uid.toString()]=p;p.Or=this.kr++;p.oh=l.C.length;g=0;for(f=this.Ze.length;g<f;++g)this.Ze[g].type===l&&p.oh++;p.kj=kc;p.toString=lc;h=a[3];if(p.se)ub(p.ya);else{p.ya={};if("undefined"!==typeof cr_is_preview)for(p.wq=[],p.wq.length=h.length,g=0,f=h.length;g<f;g++)p.wq[g]=h[g][1];p.Yb=[];p.Yb.length=
h.length}g=0;for(f=h.length;g<f;g++)p.Yb[g]=h[g][0];if(q){var t=a[0];p.x=ia(d)?t[0]:d;p.y=ia(e)?t[1]:e;p.z=t[2];p.width=t[3];p.height=t[4];p.depth=t[5];p.O=t[6];p.opacity=t[7];p.bd=t[8];p.cd=t[9];p.Bc=t[10];g=t[11];!this.ba&&l.ua.length&&(p.Bc=g);p.Ui=Pb(p.Bc);this.ca&&Qb(p,p.Bc,this.ca);if(p.se){g=0;for(f=t[12].length;g<f;g++)for(h=0,n=t[12][g].length;h<n;h++)p.yb[g][h]=t[12][g][h];p.Ac.set(0,0,0,0);p.ng.set(0,0,-1,-1);p.fd.set(0,0,-1,-1);p.Cc.Wl(p.Ac);H(p.Dm)}else{p.yb=t[12].slice(0);g=0;for(f=
p.yb.length;g<f;g++)p.yb[g]=t[12][g].slice(0);p.Ua=[];p.hg=[];p.hg.length=l.ua.length;p.Ac=new Aa(0,0,0,0);p.ng=new Aa(0,0,-1,-1);p.fd=new Aa(0,0,-1,-1);p.Cc=new Ca;p.Dm=[];p.pb=oc;p.ry=pc;p.ee=sc;p.wb=Ac;p.ax=Bc;p.Dy=Cc;p.ef=Dc}p.mk=!1;p.Xw=0;p.Ww=0;p.Vw=null;14===t.length&&(p.mk=!0,p.Xw=t[13][0],p.Ww=t[13][1],p.Vw=t[13][2]);g=0;for(f=l.ua.length;g<f;g++)p.hg[g]=!0;p.Sf=!0;p.Ne=Ec;p.Ne();p.Gs=!!p.Ua.length;p.Cm=!0;p.Im=!0;l.wp=!0;p.visible=!0;p.Rj=-1;p.V=b;p.Pe=b.C.length;p.gh=0;"undefined"===typeof p.Yc&&
(p.Yc=null);this.fb=p.ah=!0}var r;H(A);g=0;for(f=l.tb.length;g<f;g++)A.push.apply(A,l.tb[g].xb);A.push.apply(A,l.xb);if(p.se)for(g=0,f=A.length;g<f;g++){var v=A[g];r=p.ta[g];r.se=!0;v.behavior.oc.call(r,v,p);t=a[4][g];h=0;for(n=t.length;h<n;h++)r.bb[h]=t[h];r.ub();v.behavior.eo.add(p)}else for(p.ta=[],g=0,f=A.length;g<f;g++)v=A[g],r=new v.behavior.oc(v,p),r.se=!1,r.bb=a[4][g].slice(0),r.ub(),p.ta.push(r),v.behavior.eo.add(p);t=a[5];if(p.se)for(g=0,f=t.length;g<f;g++)p.bb[g]=t[g];else p.bb=t.slice(0);
this.Ze.push(p);this.xg=!0;b&&(b.Si(p,!0),1!==b.Kf||1!==b.Lf)&&(l.xp=!0);this.Hl++;if(l.wd){if(p.wd=!0,p.se?H(p.siblings):p.siblings=[],!c&&!k){g=0;for(f=l.td.length;g<f;g++)if(l.td[g]!==l){if(!l.td[g].ge)return null;p.siblings.push(this.pg(l.td[g].ge,m,!1,q?p.x:d,q?p.y:e,!0))}g=0;for(f=p.siblings.length;g<f;g++)for(p.siblings[g].siblings.push(p),h=0;h<f;h++)g!==h&&p.siblings[g].siblings.push(p.siblings[h])}}else p.wd=!1,p.siblings=null;p.ub();g=0;for(f=p.ta.length;g<f;g++)p.ta[g].Kr&&p.ta[g].Kr();
return p};a.prototype.ln=function(a){var b,c;b=0;for(c=this.cb.za.length;b<c;b++){var d=this.cb.za[b];if(Sb(d.name,a))return d}return null};a.prototype.ij=function(a){a=ua(a);0>a&&(a=0);a>=this.cb.za.length&&(a=this.cb.za.length-1);return this.cb.za[a]};a.prototype.Om=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].Za().gb=!0};a.prototype.ak=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].ak()};a.prototype.vo=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].vo()};a.prototype.si=function(a){var b,
c;b=0;for(c=a.length;b<c;b++)a[b].si()};a.prototype.Uw=function(a,b,c){var d=a.Za(),e,k,g,f,h=this.Nc().ud.Je,n,l,p;if(d.gb)for(d.gb=!1,H(d.C),e=0,f=a.C.length;e<f;e++)g=a.C[e],g.wb(),n=g.V.Lc(b,c,!0),l=g.V.Lc(b,c,!1),g.ee(n,l)?d.C.push(g):h&&d.Ga.push(g);else{k=0;p=h?d.Ga:d.C;e=0;for(f=p.length;e<f;e++)g=p[e],g.wb(),n=g.V.Lc(b,c,!0),l=g.V.Lc(b,c,!1),g.ee(n,l)&&(h?d.C.push(g):(d.C[k]=d.C[e],k++));p.length=k}a.jg();return d.vn()};new Ca;new Aa(0,0,0,0);a.prototype.Bs=function(a,b){if(!b)return!1;var c,
d,e,k,g;c=0;for(d=a.xb.length;c<d;c++)if(a.xb[c].behavior instanceof b)return!0;if(!a.va)for(c=0,d=a.tb.length;c<d;c++)for(g=a.tb[c],e=0,k=g.xb.length;e<k;e++)if(g.xb[e].behavior instanceof b)return!0;return!1};a.prototype.Wo=function(a){return this.Bs(a,ed.Mx)};a.prototype.Xo=function(a){return this.Bs(a,ed.Nx)};a.prototype.tw=function(a,b){a.ah&&b.ah&&this.Ao.push([a,b])};var J=-1;a.prototype.trigger=function(a,b,c){if(!this.cb)return!1;var d=this.cb.ih;if(!d)return!1;var e=!1,k,g,f;J++;var h=d.Vm;
g=0;for(f=h.length;g<f;++g)k=this.ys(a,b,h[g],c),e=e||k;k=this.ys(a,b,d,c);J--;return e||k};a.prototype.ys=function(a,b,c,d){var e=!1,k,g,f,h;if(b)for(f=this.Uo(a,b,b.type.name,c,d),e=e||f,h=b.type.tb,k=0,g=h.length;k<g;++k)f=this.Uo(a,b,h[k].name,c,d),e=e||f;else f=this.Uo(a,b,"system",c,d),e=e||f;return e};a.prototype.Uo=function(a,b,c,d,e){var k,g=!1,f=!1,f="undefined"!==typeof e,h=(f?d.Yp:d.zs)[c];if(!h)return g;var n=null;d=0;for(k=h.length;d<k;++d)if(h[d].method==a){n=h[d].$i;break}if(!n)return g;
var l;f?l=n[e]:l=n;if(!l)return null;d=0;for(k=l.length;d<k;d++)a=l[d][0],e=l[d][1],f=this.Ru(b,c,a,e),g=g||f;return g};a.prototype.Ru=function(a,b,c,d){var e,k,g=!1;this.Vo++;var f=this.Nc().ud;f&&this.ak(f.Lg);var h=1<this.Vo;this.ak(c.Lg);h&&this.rw();var n=this.wo(c);n.ud=c;a&&(e=this.types[b].Za(),e.gb=!1,H(e.C),e.C[0]=a,this.types[b].jg());a=!0;if(c.parent){b=n.ss;for(e=c.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(k=b.length;e<k;e++)if(!b[e].Cw()){a=!1;break}}a&&(this.Uk++,c.Je?c.Bw(d):
c.ec(),g=g||n.sh);this.Ir();h&&this.jw();this.si(c.Lg);f&&this.si(f.Lg);this.xg&&0===this.He&&0===J&&!this.Kn&&this.zc();this.Vo--;return g};a.prototype.av=function(){var a=this.Nc();return a.ud.Dc[a.sd]};a.prototype.rw=function(){this.Bl++;this.Bl>=this.Zn.length&&this.Zn.push([])};a.prototype.jw=function(){this.Bl--};a.prototype.iq=function(){return this.Zn[this.Bl]};a.prototype.wo=function(a){this.Tk++;this.Tk>=this.Ym.length&&this.Ym.push(new Fc);var b=this.Nc();b.reset(a);return b};a.prototype.Ir=
function(){this.Tk--};a.prototype.Nc=function(){return this.Ym[this.Tk]};a.prototype.jq=function(a,b){for(var c,d,e,k,g,f;b;){c=0;for(d=b.ue.length;c<d;c++)if(f=b.ue[c],f instanceof Gc&&Sb(a,f.name))return f;b=b.parent}c=0;for(d=this.yf.length;c<d;c++)for(g=this.yf[c],e=0,k=g.tg.length;e<k;e++)if(f=g.tg[e],f instanceof Gc&&Sb(a,f.name))return f;return null};a.prototype.lq=function(a){var b,c;b=0;for(c=this.Ie.length;b<c;b++)if(this.Ie[b].La===a)return this.Ie[b];return null};a.prototype.el=function(a){var b,
c;b=0;for(c=this.Y.length;b<c;b++)if(this.Y[b].La===a)return this.Y[b];return null};a.prototype.bv=function(a){var b,c;b=0;for(c=this.Jh.length;b<c;b++)if(this.Jh[b].La===a)return this.Jh[b];return null};a.prototype.Lt=function(a,b){this.ik=[a,b];this.fb=!0};a.prototype.Av=function(){var a=this,c=this.Jo,d=this.Ff,k=this.ul,g=!1;this.ks&&(g=!0,c="__c2_continuouspreview",this.ks=!1);if(c.length){this.zc();d=this.Gw();if(b()&&!this.Fe)f(c,d,function(){ga("Saved state to IndexedDB storage ("+d.length+
" bytes)");a.Ff=d;a.trigger(I.prototype.aa.vm,null);a.Ff="";g&&e()},function(b){try{localStorage.setItem("__c2save_"+c,d),ga("Saved state to WebStorage ("+d.length+" bytes)"),a.Ff=d,a.trigger(I.prototype.aa.vm,null),a.Ff="",g&&e()}catch(k){ga("Failed to save game state: "+b+"; "+k),a.trigger(I.prototype.aa.op,null)}});else try{localStorage.setItem("__c2save_"+c,d),ga("Saved state to WebStorage ("+d.length+" bytes)"),a.Ff=d,this.trigger(I.prototype.aa.vm,null),a.Ff="",g&&e()}catch(n){ga("Error saving to WebStorage: "+
n),a.trigger(I.prototype.aa.op,null)}this.Gc=this.ul=this.Jo=""}if(k.length){if(b()&&!this.Fe)h(k,function(b){b?(a.Gc=b,ga("Loaded state from IndexedDB storage ("+a.Gc.length+" bytes)")):(a.Gc=localStorage.getItem("__c2save_"+k)||"",ga("Loaded state from WebStorage ("+a.Gc.length+" bytes)"));a.jk=!1;a.Gc.length||a.trigger(I.prototype.aa.tm,null)},function(){a.Gc=localStorage.getItem("__c2save_"+k)||"";ga("Loaded state from WebStorage ("+a.Gc.length+" bytes)");a.jk=!1;a.Gc.length||a.trigger(I.prototype.aa.tm,
null)});else{try{this.Gc=localStorage.getItem("__c2save_"+k)||"",ga("Loaded state from WebStorage ("+this.Gc.length+" bytes)")}catch(l){this.Gc=""}this.jk=!1;a.Gc.length||a.trigger(I.prototype.aa.tm,null)}this.Jo=this.ul=""}this.Gc.length&&(this.zc(),this.Qv(this.Gc),this.Ff=this.Gc,this.trigger(I.prototype.aa.ft,null),this.Gc=this.Ff="")};a.prototype.Gw=function(){var a,b,c,d,e,k,f,h={c2save:!0,version:1,rt:{time:this.vc.Oa,walltime:this.Zf.Oa,timescale:this.Vf,tickcount:this.Ng,execcount:this.Uk,
next_uid:this.Sj,running_layout:this.cb.La,start_time_offset:Date.now()-this.Yl},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.Y.length;a<b;a++)if(e=this.Y[a],!e.va&&!this.Wo(e)){k={instances:[]};tb(e.ya)&&(k.ex=g(e.ya));c=0;for(d=e.C.length;c<d;c++)k.instances.push(this.Io(e.C[c]));h.types[e.La.toString()]=k}a=0;for(b=this.Ie.length;a<b;a++)c=this.Ie[a],h.layouts[c.La.toString()]=c.Dd();d=h.events.groups;a=0;for(b=this.Jh.length;a<b;a++)c=this.Jh[a],d[c.La.toString()]=
this.gl[c.mj].lj;b=h.events.cnds;for(f in this.mg)this.mg.hasOwnProperty(f)&&(a=this.mg[f],tb(a.ya)&&(b[f]={ex:g(a.ya)}));b=h.events.acts;for(f in this.ig)this.ig.hasOwnProperty(f)&&(a=this.ig[f],tb(a.ya)&&(b[f]={ex:g(a.ya)}));b=h.events.vars;for(f in this.Hi)this.Hi.hasOwnProperty(f)&&(a=this.Hi[f],a.ll||a.parent&&!a.Aj||(b[f]=a.data));h.system=this.pf.Dd();return JSON.stringify(h)};a.prototype.Rr=function(){var a,b,c,d,e,k;this.Jf={};a=0;for(b=this.Y.length;a<b;a++)if(c=this.Y[a],!c.va)for(d=0,
e=c.C.length;d<e;d++)k=c.C[d],this.Jf[k.uid.toString()]=k};a.prototype.Qv=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){this.tj=!0;var b=a.rt;this.vc.reset();this.vc.Oa=b.time;this.Zf.reset();this.Zf.Oa=b.walltime||0;this.Vf=b.timescale;this.Ng=b.tickcount;this.Uk=b.execcount;this.Yl=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.cb.La)if(c=this.lq(c))this.Up(c);else return;var d,e,k,g,f,h,n;h=a.types;for(e in h)if(h.hasOwnProperty(e)&&(g=this.el(parseInt(e,10)))&&!g.va&&
!this.Wo(g)){h[e].ex?g.ya=h[e].ex:ub(g.ya);f=g.C;k=h[e].instances;c=0;for(d=sa(f.length,k.length);c<d;c++)this.wl(f[c],k[c]);c=k.length;for(d=f.length;c<d;c++)this.Rg(f[c]);c=f.length;for(d=k.length;c<d;c++){f=null;if(g.Eb.Ag&&(f=this.cb.dl(k[c].w.l),!f))continue;f=this.pg(g.ge,f,!1,0,0,!0);this.wl(f,k[c])}g.Ci=!0}this.zc();this.Rr();d=a.layouts;for(e in d)d.hasOwnProperty(e)&&(c=this.lq(parseInt(e,10)))&&c.me(d[e]);d=a.events.groups;for(e in d)d.hasOwnProperty(e)&&(c=this.bv(parseInt(e,10)))&&this.gl[c.mj]&&
this.gl[c.mj].Iw(d[e]);c=a.events.cnds;for(e in this.mg)this.mg.hasOwnProperty(e)&&(c.hasOwnProperty(e)?this.mg[e].ya=c[e].ex:this.mg[e].ya={});c=a.events.acts;for(e in this.ig)this.ig.hasOwnProperty(e)&&(c.hasOwnProperty(e)?this.ig[e].ya=c[e].ex:this.ig[e].ya={});c=a.events.vars;for(e in c)c.hasOwnProperty(e)&&this.Hi.hasOwnProperty(e)&&(this.Hi[e].data=c[e]);this.Sj=b.next_uid;this.tj=!1;c=0;for(d=this.Yk.length;c<d;++c)f=this.Yk[c],this.trigger(Object.getPrototypeOf(f.type.Eb).aa.Oi,f);H(this.Yk);
this.pf.me(a.system);c=0;for(d=this.Y.length;c<d;c++)if(g=this.Y[c],!g.va&&!this.Wo(g))for(e=0,a=g.C.length;e<a;e++){f=g.C[e];if(g.wd)for(h=f.kj(),H(f.siblings),b=0,k=g.td.length;b<k;b++)n=g.td[b],g!==n&&f.siblings.push(n.C[h]);f.ze&&f.ze();if(f.ta)for(b=0,k=f.ta.length;b<k;b++)h=f.ta[b],h.ze&&h.ze()}this.fb=!0}};a.prototype.Io=function(a,b){var c,d,e,k,f;k=a.type;e=k.Eb;var h={};b?h.c2=!0:h.uid=a.uid;tb(a.ya)&&(h.ex=g(a.ya));if(a.Yb&&a.Yb.length)for(h.ivs={},c=0,d=a.Yb.length;c<d;c++)h.ivs[a.type.En[c].toString()]=
a.Yb[c];if(e.Ag){e={x:a.x,y:a.y,w:a.width,h:a.height,l:a.V.La,zi:a.ef()};0!==a.O&&(e.a=a.O);1!==a.opacity&&(e.o=a.opacity);.5!==a.bd&&(e.hX=a.bd);.5!==a.cd&&(e.hY=a.cd);0!==a.Bc&&(e.bm=a.Bc);a.visible||(e.v=a.visible);a.ah||(e.ce=a.ah);-1!==a.Rj&&(e.mts=a.Rj);if(k.ua.length)for(e.fx=[],c=0,d=k.ua.length;c<d;c++)f=k.ua[c],e.fx.push({name:f.name,active:a.hg[f.index],params:a.yb[f.index]});h.w=e}if(a.ta&&a.ta.length)for(h.behs={},c=0,d=a.ta.length;c<d;c++)k=a.ta[c],k.Dd&&(h.behs[k.type.La.toString()]=
k.Dd());a.Dd&&(h.data=a.Dd());return h};a.prototype.dv=function(a,b){var c,d;c=0;for(d=a.En.length;c<d;c++)if(a.En[c]===b)return c;return-1};a.prototype.$u=function(a,b){var c,d;c=0;for(d=a.ta.length;c<d;c++)if(a.ta[c].type.La===b)return c;return-1};a.prototype.wl=function(a,b,c){var d,e,k,g,f;f=a.type;g=f.Eb;if(c){if(!b.c2)return}else a.uid=b.uid;b.ex?a.ya=b.ex:ub(a.ya);if(e=b.ivs)for(d in e)e.hasOwnProperty(d)&&(k=this.dv(f,parseInt(d,10)),0>k||k>=a.Yb.length||(a.Yb[k]=e[d]));if(g.Ag){k=b.w;a.V.La!==
k.l&&(e=a.V,a.V=this.cb.dl(k.l),a.V?(e.vi(a,!0),a.V.Si(a,!0),a.pb(),a.V.fk(0)):(a.V=e,c||this.Rg(a)));a.x=k.x;a.y=k.y;a.width=k.w;a.height=k.h;a.Pe=k.zi;a.O=k.hasOwnProperty("a")?k.a:0;a.opacity=k.hasOwnProperty("o")?k.o:1;a.bd=k.hasOwnProperty("hX")?k.hX:.5;a.cd=k.hasOwnProperty("hY")?k.hY:.5;a.visible=k.hasOwnProperty("v")?k.v:!0;a.ah=k.hasOwnProperty("ce")?k.ce:!0;a.Rj=k.hasOwnProperty("mts")?k.mts:-1;a.Bc=k.hasOwnProperty("bm")?k.bm:0;a.Ui=Pb(a.Bc);this.ca&&Qb(a,a.Bc,this.ca);a.pb();if(k.hasOwnProperty("fx"))for(c=
0,e=k.fx.length;c<e;c++)g=f.jn(k.fx[c].name),0>g||(a.hg[g]=k.fx[c].active,a.yb[g]=k.fx[c].params);a.Ne()}if(f=b.behs)for(d in f)f.hasOwnProperty(d)&&(c=this.$u(a,parseInt(d,10)),0>c||a.ta[c].me(f[d]));b.data&&a.me(b.data)};a.prototype.Zp=function(a,b,c){window.resolveLocalFileSystemURL(cordova.file.applicationDirectory+"www/"+a,function(a){a.file(b,c)},c)};a.prototype.aq=function(a,b){this.Zp("data.js",function(c){var d=new FileReader;d.onload=function(b){a(b.target.result)};d.onerror=b;d.readAsText(c)},
b)};a.prototype.$p=function(a,b,c){this.Zp(a,function(a){var c=new FileReader;c.onload=function(a){b(a.target.result)};c.readAsArrayBuffer(a)},c)};a.prototype.Su=function(a,b,c){this.$p(a,function(a){a=URL.createObjectURL(new Blob([a]));b(a)},c)};a.prototype.as=function(a,b){this.yj?this.Su(b,function(b){a.src=b},function(a){alert("Failed to load image: "+a)}):a.src=b};Hc=function(b){return new a(document.getElementById(b))};Ic=function(b,c){return new a({dc:!0,width:b,height:c})};window.cr_createRuntime=
Hc;window.cr_createDCRuntime=Ic;window.createCocoonJSRuntime=function(){window.c2cocoonjs=!0;var b=document.createElement("screencanvas")||document.createElement("canvas");b.c=!0;document.body.appendChild(b);b=new a(b);window.c2runtime=b;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b};window.createEjectaRuntime=function(){var b=new a(document.getElementById("canvas"));
window.c2runtime=b;window.c2runtime.setSize(window.innerWidth,window.innerHeight);return b}})();window.cr_getC2Runtime=function(){var a=document.getElementById("c2canvas");return a?a.c2runtime:window.c2runtime?window.c2runtime:null};window.cr_getSnapshot=function(a,c){var b=window.cr_getC2Runtime();b&&b.Lt(a,c)};window.cr_sizeCanvas=function(a,c){if(0!==a&&0!==c){var b=window.cr_getC2Runtime();b&&b.setSize(a,c)}};window.cr_setSuspended=function(a){var c=window.cr_getC2Runtime();c&&c.setSuspended(a)};
(function(){function a(a,b){this.g=a;this.ih=null;this.scrollX=this.g.ac/2;this.scrollY=this.g.$b/2;this.scale=1;this.O=0;this.Rh=!0;this.name=b[0];this.width=b[1];this.height=b[2];this.Cs=b[3];this.hs=b[4];this.La=b[5];var c=b[6],d,e;this.za=[];this.pj=[];d=0;for(e=c.length;d<e;d++){var g=new Kc(this,c[d]);g.mr=d;this.za.push(g)}c=b[7];this.ph=[];d=0;for(e=c.length;d<e;d++){var g=c[d],f=this.g.Y[g[1]];f.ge||(f.ge=g);this.ph.push(g);-1===this.pj.indexOf(f)&&this.pj.push(f)}this.ua=[];this.Ua=[];this.Sf=
!0;this.yb=[];d=0;for(e=b[8].length;d<e;d++)this.ua.push({id:b[8][d][0],name:b[8][d][1],Sb:-1,Sd:!1,Wc:!0,index:d}),this.yb.push(b[8][d][2].slice(0));this.Ne();this.ck=new Aa(0,0,1,1);this.yo=new Aa(0,0,1,1);this.Hg={}}function c(a,b){return a.Pe-b.Pe}function b(a,b){this.ic=a;this.g=a.g;this.C=[];this.scale=1;this.O=0;this.xf=!1;this.Wf=new Aa(0,0,0,0);this.ws=new Ca;this.rb=this.ib=this.sb=this.hb=0;this.Dh=!1;this.ag=-1;this.Pm=0;this.name=b[0];this.index=b[1];this.La=b[2];this.visible=b[3];this.Be=
b[4];this.Me=b[5];this.Kf=b[6];this.Lf=b[7];this.opacity=b[8];this.$k=b[9];this.Zd=b[10];this.bg=b[11];this.Bc=b[12];this.ku=b[13];this.Ui="source-over";this.Ec=this.Hc=0;this.xc=null;this.Gf=d();this.Le=!0;this.ci=new Aa(0,0,-1,-1);this.sc=new Aa(0,0,-1,-1);this.Zd&&(this.xc=new Nb(this.g.ac,this.g.$b));this.mf=!1;var c=b[14],e,g;this.os=[];this.Od=[];this.Xi=[];e=0;for(g=c.length;e<g;e++){var f=c[e],h=this.g.Y[f[1]];h.ge||(h.ge=f,h.Jt=this.index);this.Od.push(f);-1===this.ic.pj.indexOf(h)&&this.ic.pj.push(h)}La(this.os,
this.Od);this.ua=[];this.Ua=[];this.Sf=!0;this.yb=[];e=0;for(g=b[15].length;e<g;e++)this.ua.push({id:b[15][e][0],name:b[15][e][1],Sb:-1,Sd:!1,Wc:!0,index:e}),this.yb.push(b[15][e][2].slice(0));this.Ne();this.ck=new Aa(0,0,1,1);this.yo=new Aa(0,0,1,1)}function d(){return g.length?g.pop():[]}function f(a){H(a);g.push(a)}a.prototype.Fw=function(a){var b=a.type.La.toString();this.Hg.hasOwnProperty(b)||(this.Hg[b]=[]);this.Hg[b].push(this.g.Io(a))};a.prototype.pq=function(){var a=this.za[0];return!a.Me&&
1===a.opacity&&!a.$k&&a.visible};a.prototype.Ne=function(){H(this.Ua);this.Sf=!0;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Wc&&(this.Ua.push(c),c.Sd||(this.Sf=!1))};a.prototype.hn=function(a){var b,c,d;b=0;for(c=this.ua.length;b<c;b++)if(d=this.ua[b],d.name===a)return d;return null};var h=[],e=!0;a.prototype.No=function(){this.hs&&(this.ih=this.g.Zm[this.hs],this.ih.Zo());this.g.cb=this;this.scrollX=this.g.ac/2;this.scrollY=this.g.$b/2;var a,b,d,g,f,l,m;a=0;for(d=this.g.Y.length;a<
d;a++)if(b=this.g.Y[a],!b.va)for(f=b.C,b=0,g=f.length;b<g;b++)if(l=f[b],l.V){var t=l.V.mr;t>=this.za.length&&(t=this.za.length-1);l.V=this.za[t];-1===l.V.C.indexOf(l)&&l.V.C.push(l);l.V.Dh=!0}if(!e)for(a=0,d=this.za.length;a<d;++a)this.za[a].C.sort(c);H(h);this.zt();a=0;for(d=this.za.length;a<d;a++)l=this.za[a],l.It(),l.jm();f=!1;if(!this.Rh){for(m in this.Hg)if(this.Hg.hasOwnProperty(m)&&(b=this.g.el(parseInt(m,10)))&&!b.va&&this.g.Xo(b)){g=this.Hg[m];a=0;for(d=g.length;a<d;a++){l=null;if(b.Eb.Ag&&
(l=this.dl(g[a].w.l),!l))continue;l=this.g.pg(b.ge,l,!1,0,0,!0);this.g.wl(l,g[a]);f=!0;h.push(l)}H(g)}a=0;for(d=this.za.length;a<d;a++)this.za[a].C.sort(c),this.za[a].Dh=!0}f&&(this.g.zc(),this.g.Rr());for(a=0;a<h.length;a++)if(l=h[a],l.type.wd)for(d=l.kj(),b=0,g=l.type.td.length;b<g;b++)m=l.type.td[b],l.type!==m&&(m.C.length>d?l.siblings.push(m.C[d]):m.ge&&(f=this.g.pg(m.ge,l.V,!0,l.x,l.y,!0),this.g.zc(),m.gm(),l.siblings.push(f),h.push(f)));a=0;for(d=this.ph.length;a<d;a++)this.g.pg(this.ph[a],
null,!0);this.g.Nm=null;this.g.zc();if(this.g.Xa&&!this.g.uc)for(a=0,d=this.g.Y.length;a<d;a++)m=this.g.Y[a],!m.va&&m.C.length&&m.ro&&m.ro(this.g.Xa);if(this.g.tj)La(this.g.Yk,h);else for(a=0,d=h.length;a<d;a++)l=h[a],this.g.trigger(Object.getPrototypeOf(l.type.Eb).aa.Oi,l);H(h);this.g.tj||this.g.trigger(I.prototype.aa.mp,null);this.Rh=!1};a.prototype.Ht=function(){var a,b,c,d,e;b=a=0;for(c=this.ph.length;a<c;a++)d=this.ph[a],e=this.g.Y[d[1]],e.global?e.wd||this.g.pg(d,null,!0):(this.ph[b]=d,b++);
Ha(this.ph,b)};a.prototype.Sw=function(){this.g.tj||this.g.trigger(I.prototype.aa.et,null);this.g.Hn=!0;H(this.g.pf.kd);var a,b,c,d,g,f;if(!this.Rh)for(a=0,b=this.za.length;a<b;a++)for(this.za[a].bp(),g=this.za[a].C,c=0,d=g.length;c<d;c++)f=g[c],f.type.global||this.g.Xo(f.type)&&this.Fw(f);a=0;for(b=this.za.length;a<b;a++){g=this.za[a].C;c=0;for(d=g.length;c<d;c++)f=g[c],f.type.global||this.g.Rg(f);this.g.zc();H(g);this.za[a].Dh=!0}a=0;for(b=this.g.Y.length;a<b;a++)if(g=this.g.Y[a],!(g.global||g.Eb.Ag||
g.Eb.Xl||g.va)){c=0;for(d=g.C.length;c<d;c++)this.g.Rg(g.C[c]);this.g.zc()}e=!1;this.g.Hn=!1};new Aa(0,0,0,0);a.prototype.sg=function(a){var b,c=a,d=!1,e=!this.g.Md;e&&(this.g.tl||(this.g.tl=document.createElement("canvas"),b=this.g.tl,b.width=this.g.ka,b.height=this.g.ja,this.g.Lq=b.getContext("2d"),d=!0),b=this.g.tl,c=this.g.Lq,b.width!==this.g.ka&&(b.width=this.g.ka,d=!0),b.height!==this.g.ja&&(b.height=this.g.ja,d=!0),d&&(c.webkitImageSmoothingEnabled=this.g.Ja,c.mozImageSmoothingEnabled=this.g.Ja,
c.msImageSmoothingEnabled=this.g.Ja,c.imageSmoothingEnabled=this.g.Ja));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.g.zm&&!this.pq()&&c.clearRect(0,0,this.g.ka,this.g.ja);var g,f,d=0;for(g=this.za.length;d<g;d++)f=this.za[d],f.visible&&0<f.opacity&&11!==f.Bc&&(f.C.length||!f.Me)?f.sg(c):f.jm();e&&a.drawImage(b,0,0,this.g.width,this.g.height)};a.prototype.eh=function(a){a.$r(!0);this.g.Qb||(this.g.Qb=a.fe(this.g.ka,this.g.ja,this.g.Ja));if(this.g.Qb.$g!==this.g.ka||this.g.Qb.Zg!==
this.g.ja)a.deleteTexture(this.g.Qb),this.g.Qb=a.fe(this.g.ka,this.g.ja,this.g.Ja);a.te(this.g.Qb);this.g.Md||a.Ah(this.g.ka,this.g.ja);var b,c;for(b=this.za.length-1;0<=b;--b)c=this.za[b],c.visible&&1===c.opacity&&c.Sf&&0===c.Bc&&(c.C.length||!c.Me)?c.eh(a):c.jm();a.$r(!1)};a.prototype.Ld=function(a){var b=0<this.Ua.length||this.g.Fi||!this.g.Md||this.g.jb;if(b){this.g.Qb||(this.g.Qb=a.fe(this.g.ka,this.g.ja,this.g.Ja));if(this.g.Qb.$g!==this.g.ka||this.g.Qb.Zg!==this.g.ja)a.deleteTexture(this.g.Qb),
this.g.Qb=a.fe(this.g.ka,this.g.ja,this.g.Ja);a.te(this.g.Qb);this.g.Md||a.Ah(this.g.ka,this.g.ja)}else this.g.Qb&&(a.te(null),a.deleteTexture(this.g.Qb),this.g.Qb=null);this.g.zm&&!this.pq()&&a.clear(0,0,0,0);var c,d,e;c=0;for(d=this.za.length;c<d;c++)e=this.za[c],e.visible&&0<e.opacity&&(e.C.length||!e.Me)?e.Ld(a):e.jm();b&&(0===this.Ua.length||1===this.Ua.length&&this.g.Md?(1===this.Ua.length?(b=this.Ua[0].index,a.jd(this.Ua[0].Sb),a.yi(null,1/this.g.ka,1/this.g.ja,0,0,1,1,this.scale,this.O,0,
0,this.g.ka/2,this.g.ja/2,this.g.vc.Oa,this.yb[b]),a.Ol(this.Ua[0].Sb)&&(this.g.fb=!0)):a.jd(0),this.g.Md||a.Ah(this.g.width,this.g.height),a.te(null),a.Zr(!1),a.xi(1),a.Ud(this.g.Qb),a.Xr(),a.nf(),a.Oe(),b=this.g.width/2,c=this.g.height/2,a.bk(-b,c,b,c,b,-c,-b,-c),a.Ud(null),a.Zr(!0)):this.Bo(a,null,null,null))};a.prototype.jj=function(){return 0<this.Ua.length||this.g.Fi||!this.g.Md||this.g.jb?this.g.Qb:null};a.prototype.mq=function(){var a=this.za[0].je(),b,c,d;b=1;for(c=this.za.length;b<c;b++)d=
this.za[b],(0!==d.Kf||0!==d.Lf)&&d.je()<a&&(a=d.je());return a};a.prototype.Vr=function(a){if(!this.Cs){var b=1/this.mq()*this.g.ka/2;a>this.width-b&&(a=this.width-b);a<b&&(a=b)}this.scrollX!==a&&(this.scrollX=a,this.g.fb=!0)};a.prototype.Wr=function(a){if(!this.Cs){var b=1/this.mq()*this.g.ja/2;a>this.height-b&&(a=this.height-b);a<b&&(a=b)}this.scrollY!==a&&(this.scrollY=a,this.g.fb=!0)};a.prototype.zt=function(){this.Vr(this.scrollX);this.Wr(this.scrollY)};a.prototype.Bo=function(a,b,c,d){var e=
c?c.Ua:b?b.Ua:this.Ua,g=1,f=0,h=0,l=0,m=this.g.ka,C=this.g.ja;c?(g=c.V.je(),f=c.V.Xb(),h=c.V.hb,l=c.V.ib,m=c.V.sb,C=c.V.rb):b&&(g=b.je(),f=b.Xb(),h=b.hb,l=b.ib,m=b.sb,C=b.rb);var E=this.g.dn,B,y,w,A,J=0,V=1,O,F,P=this.g.ka,G=this.g.ja,ja=P/2,ka=G/2,U=b?b.ck:this.ck,L=b?b.yo:this.yo,M=0,T=0,K=0,N=0,Y=P,Da=P,X=G,Ia=G,va=w=0;A=c?c.V.Xb():0;if(c){B=0;for(y=e.length;B<y;B++)w+=a.jv(e[B].Sb),va+=a.kv(e[B].Sb);N=c.Ac;M=b.le(N.left,N.top,!0);K=b.le(N.left,N.top,!1);Y=b.le(N.right,N.bottom,!0);X=b.le(N.right,
N.bottom,!1);0!==A&&(B=b.le(N.right,N.top,!0),y=b.le(N.right,N.top,!1),T=b.le(N.left,N.bottom,!0),N=b.le(N.left,N.bottom,!1),A=Math.min(M,Y,B,T),Y=Math.max(M,Y,B,T),M=A,A=Math.min(K,X,y,N),X=Math.max(K,X,y,N),K=A);M-=w;K-=va;Y+=w;X+=va;L.left=M/P;L.top=1-K/G;L.right=Y/P;L.bottom=1-X/G;T=M=ua(M);N=K=ua(K);Da=Y=ya(Y);Ia=X=ya(X);T-=w;N-=va;Da+=w;Ia+=va;0>M&&(M=0);0>K&&(K=0);Y>P&&(Y=P);X>G&&(X=G);0>T&&(T=0);0>N&&(N=0);Da>P&&(Da=P);Ia>G&&(Ia=G);U.left=M/P;U.top=1-K/G;U.right=Y/P;U.bottom=1-X/G}else U.left=
L.left=0,U.top=L.top=0,U.right=L.right=1,U.bottom=L.bottom=1;va=c&&(a.$j(e[0].Sb)||0!==w||0!==va||1!==c.opacity||c.type.Eb.ir)||b&&!c&&1!==b.opacity;a.Xr();if(va){E[J]||(E[J]=a.fe(P,G,this.g.Ja));if(E[J].$g!==P||E[J].Zg!==G)a.deleteTexture(E[J]),E[J]=a.fe(P,G,this.g.Ja);a.jd(0);a.te(E[J]);F=Ia-N;a.clearRect(T,G-N-F,Da-T,F);c?c.Ld(a):(a.Ud(this.g.Zb),a.xi(b.opacity),a.nf(),a.translate(-ja,-ka),a.Oe(),a.Qf(M,X,Y,X,Y,K,M,K,U));L.left=L.top=0;L.right=L.bottom=1;c&&(A=U.top,U.top=U.bottom,U.bottom=A);
J=1;V=0}a.xi(1);w=e.length-1;var Ja=a.uo(e[w].Sb)||!b&&!c&&!this.g.Md;B=A=0;for(y=e.length;B<y;B++){E[J]||(E[J]=a.fe(P,G,this.g.Ja));if(E[J].$g!==P||E[J].Zg!==G)a.deleteTexture(E[J]),E[J]=a.fe(P,G,this.g.Ja);a.jd(e[B].Sb);A=e[B].index;a.Ol(e[B].Sb)&&(this.g.fb=!0);0!=B||va?(a.yi(d,1/P,1/G,L.left,L.top,L.right,L.bottom,g,f,h,l,(h+m)/2,(l+C)/2,this.g.vc.Oa,c?c.yb[A]:b?b.yb[A]:this.yb[A]),a.Ud(null),B!==w||Ja?(a.te(E[J]),F=Ia-N,O=G-N-F,a.clearRect(T,O,Da-T,F)):(c?a.Kg(c.Hc,c.Ec):b&&a.Kg(b.Hc,b.Ec),a.te(d)),
a.Ud(E[V]),a.nf(),a.translate(-ja,-ka),a.Oe(),a.Qf(M,X,Y,X,Y,K,M,K,U),B!==w||Ja||a.Ud(null)):(a.te(E[J]),F=Ia-N,O=G-N-F,a.clearRect(T,O,Da-T,F),c?(c.rc&&c.rc.Ia?(O=c.rc.Ia,V=1/O.width,O=1/O.height):(V=1/c.width,O=1/c.height),a.yi(d,V,O,L.left,L.top,L.right,L.bottom,g,f,h,l,(h+m)/2,(l+C)/2,this.g.vc.Oa,c.yb[A]),c.Ld(a)):(a.yi(d,1/P,1/G,0,0,1,1,g,f,h,l,(h+m)/2,(l+C)/2,this.g.vc.Oa,b?b.yb[A]:this.yb[A]),a.Ud(b?this.g.Zb:this.g.Qb),a.nf(),a.translate(-ja,-ka),a.Oe(),a.Qf(M,X,Y,X,Y,K,M,K,U)),L.left=L.top=
0,L.right=L.bottom=1,c&&!Ja&&(A=X,X=K,K=A));J=0===J?1:0;V=0===J?1:0}Ja&&(a.jd(0),c?a.Kg(c.Hc,c.Ec):b?a.Kg(b.Hc,b.Ec):this.g.Md||(a.Ah(this.g.width,this.g.height),ja=this.g.width/2,ka=this.g.height/2,K=M=0,Y=this.g.width,X=this.g.height),a.te(d),a.Ud(E[V]),a.nf(),a.translate(-ja,-ka),a.Oe(),c&&1===e.length&&!va?a.Qf(M,K,Y,K,Y,X,M,X,U):a.Qf(M,X,Y,X,Y,K,M,K,U),a.Ud(null))};a.prototype.dl=function(a){var b,c;b=0;for(c=this.za.length;b<c;b++)if(this.za[b].La===a)return this.za[b];return null};a.prototype.Dd=
function(){var a,b,c,d={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.O,w:this.width,h:this.height,fv:this.Rh,persist:this.Hg,fx:[],layers:{}};a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],d.fx.push({name:c.name,active:c.Wc,params:this.yb[c.index]});a=0;for(b=this.za.length;a<b;a++)c=this.za[a],d.layers[c.La.toString()]=c.Dd();return d};a.prototype.me=function(a){var b,c,d,e;this.scrollX=a.sx;this.scrollY=a.sy;this.scale=a.s;this.O=a.a;this.width=a.w;this.height=a.h;this.Hg=a.persist;"undefined"!==
typeof a.fv&&(this.Rh=a.fv);var g=a.fx;b=0;for(c=g.length;b<c;b++)if(d=this.hn(g[b].name))d.Wc=g[b].active,this.yb[d.index]=g[b].params;this.Ne();b=a.layers;for(e in b)b.hasOwnProperty(e)&&(a=this.dl(parseInt(e,10)))&&a.me(b[e])};mc=a;b.prototype.Ne=function(){H(this.Ua);this.Sf=!0;var a,b,c;a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],c.Wc&&(this.Ua.push(c),c.Sd||(this.Sf=!1))};b.prototype.hn=function(a){var b,c,d;b=0;for(c=this.ua.length;b<c;b++)if(d=this.ua[b],d.name===a)return d;return null};
b.prototype.It=function(){var a,b,c,d,e,g;b=a=0;for(c=this.Od.length;a<c;a++){d=this.Od[a];e=this.g.Y[d[1]];g=this.g.Xo(e);e=!0;if(!g||this.ic.Rh){d=this.g.pg(d,this,!0);if(!d)continue;h.push(d);d.type.global&&(e=!1,this.Xi.push(d.uid))}e&&(this.Od[b]=this.Od[a],b++)}this.Od.length=b;this.g.zc();!this.g.ba&&this.ua.length&&(this.Bc=this.ku);this.Ui=Pb(this.Bc);this.g.ca&&Qb(this,this.Bc,this.g.ca);this.Le=!0};b.prototype.vi=function(a,b){var c=Na(this.C,a);0>c||(b&&this.Zd&&a.fd&&a.fd.right>=a.fd.left&&
(a.wb(),this.xc.update(a,a.fd,null),a.fd.set(0,0,-1,-1)),c===this.C.length-1?this.C.pop():(Ga(this.C,c),this.fk(c)),this.Le=!0)};b.prototype.Si=function(a,b){a.Pe=this.C.length;this.C.push(a);b&&this.Zd&&a.fd&&a.pb();this.Le=!0};b.prototype.ow=function(a){this.C.unshift(a);this.fk(0)};b.prototype.Vv=function(a,b,c){var d=a.ef();b=b.ef();Ga(this.C,d);d<b&&b--;c&&b++;b===this.C.length?this.C.push(a):this.C.splice(b,0,a);this.fk(d<b?d:b)};b.prototype.fk=function(a){-1===this.ag?this.ag=a:a<this.ag&&
(this.ag=a);this.Le=this.Dh=!0};b.prototype.bp=function(){if(this.Dh){-1===this.ag&&(this.ag=0);var a,b,c;if(this.Zd)for(a=this.ag,b=this.C.length;a<b;++a)c=this.C[a],c.Pe=a,this.xc.Tv(c.fd);else for(a=this.ag,b=this.C.length;a<b;++a)this.C[a].Pe=a;this.Dh=!1;this.ag=-1}};b.prototype.je=function(a){return this.gv()*(this.g.Md||a?this.g.Ti:1)};b.prototype.gv=function(){return(this.scale*this.ic.scale-1)*this.bg+1};b.prototype.Xb=function(){return this.xf?0:Za(this.ic.O+this.O)};var g=[],l=[],m=[];
b.prototype.nn=function(){this.bp();this.xc.Pr(this.hb,this.ib,this.sb,this.rb,m);if(!m.length)return d();if(1===m.length){var a=d();La(a,m[0]);H(m);return a}for(var b=!0;1<m.length;){for(var a=m,c=void 0,e=void 0,g=void 0,h=void 0,u=void 0,c=0,e=a.length;c<e-1;c+=2){var g=a[c],h=a[c+1],u=d(),t=g,z=h,D=u,C=0,E=0,B=0,y=t.length,w=z.length,A=void 0,J=void 0;for(D.length=y+w;C<y&&E<w;++B)A=t[C],J=z[E],A.Pe<J.Pe?(D[B]=A,++C):(D[B]=J,++E);for(;C<y;++C,++B)D[B]=t[C];for(;E<w;++E,++B)D[B]=z[E];b||(f(g),
f(h));l.push(u)}1===e%2&&(b?(g=d(),La(g,a[e-1]),l.push(g)):l.push(a[e-1]));La(a,l);H(l);b=!1}a=m[0];H(m);return a};b.prototype.sg=function(a){this.mf=this.$k||1!==this.opacity||0!==this.Bc;var b=this.g.canvas,c=a,d=!1;this.mf&&(this.g.sl||(this.g.sl=document.createElement("canvas"),b=this.g.sl,b.width=this.g.ka,b.height=this.g.ja,this.g.Kq=b.getContext("2d"),d=!0),b=this.g.sl,c=this.g.Kq,b.width!==this.g.ka&&(b.width=this.g.ka,d=!0),b.height!==this.g.ja&&(b.height=this.g.ja,d=!0),d&&(c.webkitImageSmoothingEnabled=
this.g.Ja,c.mozImageSmoothingEnabled=this.g.Ja,c.msImageSmoothingEnabled=this.g.Ja,c.imageSmoothingEnabled=this.g.Ja),this.Me&&c.clearRect(0,0,this.g.ka,this.g.ja));c.globalAlpha=1;c.globalCompositeOperation="source-over";this.Me||(c.fillStyle="rgb("+this.Be[0]+","+this.Be[1]+","+this.Be[2]+")",c.fillRect(0,0,this.g.ka,this.g.ja));c.save();this.xf=!0;var d=this.Lc(0,0,!0,!0),e=this.Lc(0,0,!1,!0);this.xf=!1;this.g.Nf&&(d=Math.round(d),e=Math.round(e));this.Ql(d,e,c);var g=this.je();c.scale(g,g);c.translate(-d,
-e);this.Zd?(this.sc.left=this.xc.Uc(this.hb),this.sc.top=this.xc.Vc(this.ib),this.sc.right=this.xc.Uc(this.sb),this.sc.bottom=this.xc.Vc(this.rb),this.Le||!this.sc.Zi(this.ci)?(f(this.Gf),d=this.nn(),this.Le=!1,this.ci.Vi(this.sc)):d=this.Gf):d=this.C;for(var h,l=null,e=0,g=d.length;e<g;++e)h=d[e],h!==l&&(this.fu(h,c),l=h);this.Zd&&(this.Gf=d);c.restore();this.mf&&(a.globalCompositeOperation=this.Ui,a.globalAlpha=this.opacity,a.drawImage(b,0,0))};b.prototype.fu=function(a,b){if(a.visible&&0!==a.width&&
0!==a.height){a.wb();var c=a.Ac;c.right<this.hb||c.bottom<this.ib||c.left>this.sb||c.top>this.rb||(b.globalCompositeOperation=a.Ui,a.sg(b))}};b.prototype.jm=function(){this.xf=!0;var a=this.Lc(0,0,!0,!0),b=this.Lc(0,0,!1,!0);this.xf=!1;this.g.Nf&&(a=Math.round(a),b=Math.round(b));this.Ql(a,b,null)};b.prototype.Ql=function(a,b,c){var d=this.je();this.hb=a;this.ib=b;this.sb=a+1/d*this.g.ka;this.rb=b+1/d*this.g.ja;this.hb>this.sb&&(a=this.hb,this.hb=this.sb,this.sb=a);this.ib>this.rb&&(a=this.ib,this.ib=
this.rb,this.rb=a);a=this.Xb();0!==a&&(c&&(c.translate(this.g.ka/2,this.g.ja/2),c.rotate(-a),c.translate(this.g.ka/-2,this.g.ja/-2)),this.Wf.set(this.hb,this.ib,this.sb,this.rb),this.Wf.offset((this.hb+this.sb)/-2,(this.ib+this.rb)/-2),this.ws.es(this.Wf,a),this.ws.Gp(this.Wf),this.Wf.offset((this.hb+this.sb)/2,(this.ib+this.rb)/2),this.hb=this.Wf.left,this.ib=this.Wf.top,this.sb=this.Wf.right,this.rb=this.Wf.bottom)};b.prototype.eh=function(a){if(this.mf=this.$k){this.g.Zb||(this.g.Zb=a.fe(this.g.ka,
this.g.ja,this.g.Ja));if(this.g.Zb.$g!==this.g.ka||this.g.Zb.Zg!==this.g.ja)a.deleteTexture(this.g.Zb),this.g.Zb=a.fe(this.g.ka,this.g.ja,this.g.Ja);a.te(this.g.Zb)}this.xf=!0;var b=this.Lc(0,0,!0,!0),c=this.Lc(0,0,!1,!0);this.xf=!1;this.g.Nf&&(b=Math.round(b),c=Math.round(c));this.Ql(b,c,null);b=this.je();a.nf();a.scale(b,b);a.Eo(-this.Xb());a.translate((this.hb+this.sb)/-2,(this.ib+this.rb)/-2);a.Oe();this.Zd?(this.sc.left=this.xc.Uc(this.hb),this.sc.top=this.xc.Vc(this.ib),this.sc.right=this.xc.Uc(this.sb),
this.sc.bottom=this.xc.Vc(this.rb),this.Le||!this.sc.Zi(this.ci)?(f(this.Gf),b=this.nn(),this.Le=!1,this.ci.Vi(this.sc)):b=this.Gf):b=this.C;for(var d,e=null,c=b.length-1;0<=c;--c)d=b[c],d!==e&&(this.hu(b[c],a),e=d);this.Zd&&(this.Gf=b);this.Me||(this.Pm=this.g.gh++,a.Ul(this.Pm),a.Yr(1,1,1),a.fq(),a.xw())};b.prototype.Ld=function(a){var b=0,c=0;if(this.mf=this.$k||1!==this.opacity||0<this.Ua.length||0!==this.Bc){this.g.Zb||(this.g.Zb=a.fe(this.g.ka,this.g.ja,this.g.Ja));if(this.g.Zb.$g!==this.g.ka||
this.g.Zb.Zg!==this.g.ja)a.deleteTexture(this.g.Zb),this.g.Zb=a.fe(this.g.ka,this.g.ja,this.g.Ja);a.te(this.g.Zb);this.Me&&a.clear(0,0,0,0)}this.Me||(this.g.jb?(a.Ul(this.Pm),a.Yr(this.Be[0]/255,this.Be[1]/255,this.Be[2]/255),a.fq(),a.Mw()):a.clear(this.Be[0]/255,this.Be[1]/255,this.Be[2]/255,1));this.xf=!0;var d=this.Lc(0,0,!0,!0),b=this.Lc(0,0,!1,!0);this.xf=!1;this.g.Nf&&(d=Math.round(d),b=Math.round(b));this.Ql(d,b,null);d=this.je();a.nf();a.scale(d,d);a.Eo(-this.Xb());a.translate((this.hb+this.sb)/
-2,(this.ib+this.rb)/-2);a.Oe();this.Zd?(this.sc.left=this.xc.Uc(this.hb),this.sc.top=this.xc.Vc(this.ib),this.sc.right=this.xc.Uc(this.sb),this.sc.bottom=this.xc.Vc(this.rb),this.Le||!this.sc.Zi(this.ci)?(f(this.Gf),b=this.nn(),this.Le=!1,this.ci.Vi(this.sc)):b=this.Gf):b=this.C;var e,g,h=null,c=0;for(e=b.length;c<e;++c)g=b[c],g!==h&&(this.gu(b[c],a),h=g);this.Zd&&(this.Gf=b);this.mf&&(b=this.Ua.length?this.Ua[0].Sb:0,c=this.Ua.length?this.Ua[0].index:0,0===this.Ua.length||1===this.Ua.length&&!a.uo(b)&&
1===this.opacity?(1===this.Ua.length?(a.jd(b),a.yi(this.ic.jj(),1/this.g.ka,1/this.g.ja,0,0,1,1,d,this.Xb(),this.hb,this.ib,(this.hb+this.sb)/2,(this.ib+this.rb)/2,this.g.vc.Oa,this.yb[c]),a.Ol(b)&&(this.g.fb=!0)):a.jd(0),a.te(this.ic.jj()),a.xi(this.opacity),a.Ud(this.g.Zb),a.Kg(this.Hc,this.Ec),a.nf(),a.Oe(),d=this.g.ka/2,b=this.g.ja/2,a.bk(-d,b,d,b,d,-b,-d,-b),a.Ud(null)):this.ic.Bo(a,this,null,this.ic.jj()))};b.prototype.gu=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.wb();var c=a.Ac;
c.right<this.hb||c.bottom<this.ib||c.left>this.sb||c.top>this.rb||(b.Ul(a.gh),a.Gs?this.iu(a,b):(b.jd(0),b.Kg(a.Hc,a.Ec),a.Ld(b)))}};b.prototype.hu=function(a,b){if(a.visible&&0!==a.width&&0!==a.height){a.wb();var c=a.Ac;c.right<this.hb||c.bottom<this.ib||c.left>this.sb||c.top>this.rb||(a.gh=this.g.gh++,0===a.Bc&&1===a.opacity&&a.Sf&&a.eh&&(b.Ul(a.gh),a.eh(b)))}};b.prototype.iu=function(a,b){var c=a.Ua[0].Sb,d=a.Ua[0].index,e=this.je();if(1!==a.Ua.length||b.uo(c)||b.qw(c)||(a.O||a.V.Xb())&&b.$j(c)||
1!==a.opacity||a.type.Eb.ir)this.ic.Bo(b,this,a,this.mf?this.g.Zb:this.ic.jj()),b.nf(),b.scale(e,e),b.Eo(-this.Xb()),b.translate((this.hb+this.sb)/-2,(this.ib+this.rb)/-2),b.Oe();else{b.jd(c);b.Kg(a.Hc,a.Ec);b.Ol(c)&&(this.g.fb=!0);var g=0,f=0,h=0,l=0;b.$j(c)&&(l=a.Ac,g=this.le(l.left,l.top,!0),f=this.le(l.left,l.top,!1),h=this.le(l.right,l.bottom,!0),l=this.le(l.right,l.bottom,!1),g=g/windowWidth,f=1-f/windowHeight,h=h/windowWidth,l=1-l/windowHeight);var m;a.rc&&a.rc.Ia?(m=a.rc.Ia,c=1/m.width,m=
1/m.height):(c=1/a.width,m=1/a.height);b.yi(this.mf?this.g.Zb:this.ic.jj(),c,m,g,f,h,l,e,this.Xb(),this.hb,this.ib,(this.hb+this.sb)/2,(this.ib+this.rb)/2,this.g.vc.Oa,a.yb[d]);a.Ld(b)}};b.prototype.Lc=function(a,b,c,d){var e=this.g.devicePixelRatio;this.g.Uh&&(a*=e,b*=e);var e=this.g.Cr,g=this.g.Dr,e=(this.ic.scrollX-e)*this.Kf+e,g=(this.ic.scrollY-g)*this.Lf+g,f=e,h=g,l=1/this.je(!d);d?(f-=this.g.ka*l/2,h-=this.g.ja*l/2):(f-=this.g.width*l/2,h-=this.g.height*l/2);f+=a*l;h+=b*l;b=this.Xb();0!==b&&
(f-=e,h-=g,a=Math.cos(b),b=Math.sin(b),d=f*a-h*b,h=h*a+f*b,f=d+e,h+=g);return c?f:h};b.prototype.le=function(a,b,c){var d=this.g.Cr,e=this.g.Dr,d=(this.ic.scrollX-d)*this.Kf+d,g=(this.ic.scrollY-e)*this.Lf+e,e=d,f=g,h=this.Xb();if(0!==h){a-=d;b-=g;var l=Math.cos(-h),h=Math.sin(-h),m=a*l-b*h;b=b*l+a*h;a=m+d;b+=g}d=1/this.je(!1);e-=this.g.ka*d/2;f-=this.g.ja*d/2;e=(a-e)/d;return c?e:(b-f)/d};b.prototype.Dd=function(){var a,b,c,d={s:this.scale,a:this.O,vl:this.hb,vt:this.ib,vr:this.sb,vb:this.rb,v:this.visible,
bc:this.Be,t:this.Me,px:this.Kf,py:this.Lf,o:this.opacity,zr:this.bg,fx:[],cg:this.Xi,instances:[]};a=0;for(b=this.ua.length;a<b;a++)c=this.ua[a],d.fx.push({name:c.name,active:c.Wc,params:this.yb[c.index]});return d};b.prototype.me=function(a){var b,d,e;this.scale=a.s;this.O=a.a;this.hb=a.vl;this.ib=a.vt;this.sb=a.vr;this.rb=a.vb;this.visible=a.v;this.Be=a.bc;this.Me=a.t;this.Kf=a.px;this.Lf=a.py;this.opacity=a.o;this.bg=a.zr;this.Xi=a.cg||[];La(this.Od,this.os);var g=new ca;b=0;for(e=this.Xi.length;b<
e;++b)g.add(this.Xi[b]);d=b=0;for(e=this.Od.length;b<e;++b)g.contains(this.Od[b][2])||(this.Od[d]=this.Od[b],++d);Ha(this.Od,d);d=a.fx;b=0;for(e=d.length;b<e;b++)if(a=this.hn(d[b].name))a.Wc=d[b].active,this.yb[a.index]=d[b].params;this.Ne();this.C.sort(c);this.Dh=!0};Kc=b})();
(function(){function a(a,b){var c,d=a.length;switch(d){case 0:return!0;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<d;c++)if(a[c]!==b[c])return!1;return!0}}function c(a,b){return a.index-b.index}function b(b){var d,e,g,f;2===b.length?b[0].index>b[1].index&&(d=b[0],b[0]=b[1],b[1]=d):2<b.length&&b.sort(c);b.length>=v.length&&(v.length=b.length+1);v[b.length]||(v[b.length]=[]);f=v[b.length];d=0;for(e=f.length;d<e;d++)if(g=f[d],a(b,g))return g;f.push(b);return b}
function d(a,b){this.g=a;this.zs={};this.Yp={};this.wn=!1;this.sq=new ca;this.Vm=[];this.Am=[];this.name=b[0];var c=b[1];this.tg=[];var d,e;d=0;for(e=c.length;d<e;d++)this.uq(c[d],null,this.tg)}function f(a){this.type=a;this.C=[];this.Ga=[];this.gb=!0}function h(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.qb=[];this.Lg=[];this.qq=this.dm=this.To=this.Cn=this.group=this.ns=!1;this.Dc=[];this.ye=[];this.ue=[];this.mj="";this.lj=this.Cn=this.group=!1;this.Fk=null;c[1]&&(this.mj=c[1][1].toLowerCase(),
this.group=!0,this.Cn=!!c[1][0],this.Fk=[],this.lj=this.Cn,this.g.Jh.push(this),this.g.gl[this.mj]=this);this.Je=c[2];this.La=c[4];this.group||(this.g.Fp[this.La.toString()]=this);var d=c[5];a=0;for(b=d.length;a<b;a++){var e=new Lc(this,d[a]);e.index=a;this.Dc.push(e);this.up(e.type)}d=c[6];a=0;for(b=d.length;a<b;a++)e=new Mc(this,d[a]),e.index=a,this.ye.push(e);if(8===c.length)for(c=c[7],a=0,b=c.length;a<b;a++)this.sheet.uq(c[a],this,this.ue);this.ml=!1;this.Dc.length&&(this.ml=null==this.Dc[0].type&&
this.Dc[0].tc==I.prototype.aa.Qs)}function e(a,b){var c,d,e;if(a&&(-1===b.indexOf(a)&&b.push(a),a.wd))for(c=0,d=a.td.length;c<d;c++)e=a.td[c],a!==e&&-1===b.indexOf(e)&&b.push(e)}function g(a,b){this.Gd=a;this.sheet=a.sheet;this.g=a.g;this.Aa=[];this.Fb=[];this.ya={};this.index=-1;this.Qi=!1;this.tc=this.g.fg(b[1]);this.trigger=0<b[3];this.Xp=2===b[3];this.jf=b[4];this.Fn=b[5];this.Pv=b[6];this.La=b[7];this.g.mg[this.La.toString()]=this;-1===b[0]?(this.type=null,this.ec=this.Ho,this.Yg=null,this.Ce=
-1):(this.type=this.g.Y[b[0]],this.ec=this.Pv?this.Dw:this.Go,b[2]?(this.Yg=this.type.cl(b[2]),this.Ce=this.type.en(b[2])):(this.Yg=null,this.Ce=-1),this.Gd.parent&&this.Gd.parent.Vl());this.Xp&&(this.ec=this.Ew);if(10===b.length){var c,d,e=b[9];c=0;for(d=e.length;c<d;c++){var g=new Nc(this,e[c]);this.Aa.push(g)}this.Fb.length=e.length}}function l(a,b){this.Gd=a;this.sheet=a.sheet;this.g=a.g;this.Aa=[];this.Fb=[];this.ya={};this.index=-1;this.Qi=!1;this.tc=this.g.fg(b[1]);-1===b[0]?(this.type=null,
this.ec=this.Ho,this.Yg=null,this.Ce=-1):(this.type=this.g.Y[b[0]],this.ec=this.Go,b[2]?(this.Yg=this.type.cl(b[2]),this.Ce=this.type.en(b[2])):(this.Yg=null,this.Ce=-1));this.La=b[3];this.g.ig[this.La.toString()]=this;if(6===b.length){var c,d,e=b[5];c=0;for(d=e.length;c<d;c++){var g=new Nc(this,e[c]);this.Aa.push(g)}this.Fb.length=e.length}}function m(){u++;r.length===u&&r.push(new Oc);return r[u]}function k(a,b){this.qe=a;this.Gd=a.Gd;this.sheet=a.sheet;this.g=a.g;this.type=b[0];this.bf=null;this.Tf=
0;this.get=null;this.Op=0;this.ic=null;this.key=0;this.object=null;this.index=0;this.ok=this.Bh=this.ok=this.Bh=this.bq=this.jh=this.pk=null;this.we=!1;var c,d,e;switch(b[0]){case 0:case 7:this.bf=new Pc(this,b[1]);this.Tf=0;this.get=this.pv;break;case 1:this.bf=new Pc(this,b[1]);this.Tf=0;this.get=this.qv;break;case 5:this.bf=new Pc(this,b[1]);this.Tf=0;this.get=this.uv;break;case 3:case 8:this.Op=b[1];this.get=this.nv;break;case 6:this.ic=this.g.Un[b[1]];this.get=this.vv;break;case 9:this.key=b[1];
this.get=this.tv;break;case 4:this.object=this.g.Y[b[1]];this.get=this.wv;this.Gd.up(this.object);this.qe instanceof Mc?this.Gd.Vl():this.Gd.parent&&this.Gd.parent.Vl();break;case 10:this.index=b[1];a.type&&a.type.va?(this.get=this.rv,this.we=!0):this.get=this.sv;break;case 11:this.pk=b[1];this.jh=null;this.get=this.ov;break;case 2:case 12:this.bq=b[1];this.get=this.mv;break;case 13:for(this.get=this.xv,this.Bh=[],this.ok=[],c=1,d=b.length;c<d;c++)e=new Nc(this.qe,b[c]),this.Bh.push(e),this.ok.push(0)}}
function n(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.qb=[];this.name=c[1];this.dp=c[2];this.Bn=c[3];this.Aj=!!c[4];this.ll=!!c[5];this.La=c[6];this.g.Hi[this.La.toString()]=this;this.data=this.Bn;this.parent?(this.wh=this.Aj||this.ll?-1:this.g.Pw++,this.g.ut.push(this)):(this.wh=-1,this.g.tt.push(this))}function p(a,b,c){this.sheet=a;this.parent=b;this.g=a.g;this.qb=[];this.oj=null;this.Ev=c[1];this.Wc=!0}function q(){this.ss=[];this.reset(null)}var v=[];d.prototype.toString=function(){return this.name};
d.prototype.uq=function(a,b,c){switch(a[0]){case 0:a=new Qc(this,b,a);if(a.Je)for(c.push(a),c=0,b=a.Dc.length;c<b;c++)a.Dc[c].trigger&&this.vq(a,c);else a.Eq()?this.vq(a,0):c.push(a);break;case 1:a=new Gc(this,b,a);c.push(a);break;case 2:a=new ad(this,b,a),c.push(a)}};d.prototype.Nb=function(){var a,b;a=0;for(b=this.tg.length;a<b;a++)this.tg[a].Nb(a<b-1&&this.tg[a+1].ml)};d.prototype.Zo=function(){H(this.Vm);H(this.Am);this.tp(this);H(this.Am)};d.prototype.tp=function(a){var b,c,d,e,g=a.Vm,f=a.Am,
h=this.sq.rf();b=0;for(c=h.length;b<c;++b)d=h[b],e=d.oj,!d.Wc||a===e||-1<f.indexOf(e)||(f.push(e),e.tp(a),g.push(e))};d.prototype.ec=function(a){this.g.Ay||(this.wn=!0,a||(this.g.Kn=!0));var b,c;b=0;for(c=this.tg.length;b<c;b++){var d=this.tg[b];d.ec();this.g.Om(d.qb);this.g.xg&&this.g.zc()}a||(this.g.Kn=!1)};d.prototype.vq=function(a,b){a.Je||this.g.fm.push(a);var c,d,e=a.Dc[b],g;e.type?g=e.type.name:g="system";var f=(c=e.Xp)?this.Yp:this.zs;f[g]||(f[g]=[]);g=f[g];f=e.tc;if(c){if(e.Aa.length&&(e=
e.Aa[0],1===e.type&&2===e.bf.type)){e=e.bf.value.toLowerCase();c=0;for(d=g.length;c<d;c++)if(g[c].method==f){c=g[c].$i;c[e]?c[e].push([a,b]):c[e]=[[a,b]];return}c={};c[e]=[[a,b]];g.push({method:f,$i:c})}}else{c=0;for(d=g.length;c<d;c++)if(g[c].method==f){g[c].$i.push([a,b]);return}nd&&f===nd.prototype.aa.Ih?g.unshift({method:f,$i:[[a,b]]}):g.push({method:f,$i:[[a,b]]})}};nc=d;f.prototype.vn=function(){return this.gb?this.type.C.length:this.C.length};f.prototype.De=function(){return this.gb?this.type.C:
this.C};f.prototype.Xj=function(a){a&&(a.g.Nc().ud.Je?(this.gb&&(H(this.C),La(this.Ga,a.type.C),this.gb=!1),a=this.Ga.indexOf(a),-1!==a&&(this.C.push(this.Ga[a]),this.Ga.splice(a,1))):(this.gb=!1,H(this.C),this.C[0]=a))};Wb=f;window._c2hh_="87F2B4AF995FB93A1C877DDC7338D39557FDA392";h.prototype.Nb=function(a){var c,d=this.parent;if(this.group)for(this.dm=!0;d;){if(!d.group){this.dm=!1;break}d=d.parent}this.To=!this.Eq()&&(!this.parent||this.parent.group&&this.parent.dm);this.qq=!!a;this.Lg=this.qb.slice(0);
for(d=this.parent;d;){a=0;for(c=d.qb.length;a<c;a++)this.ot(d.qb[a]);d=d.parent}this.qb=b(this.qb);this.Lg=b(this.Lg);a=0;for(c=this.Dc.length;a<c;a++)this.Dc[a].Nb();a=0;for(c=this.ye.length;a<c;a++)this.ye[a].Nb();a=0;for(c=this.ue.length;a<c;a++)this.ue[a].Nb(a<c-1&&this.ue[a+1].ml)};h.prototype.Iw=function(a){if(this.lj!==!!a){this.lj=!!a;var b;a=0;for(b=this.Fk.length;a<b;++a)this.Fk[a].Es();0<b&&this.g.cb.ih&&this.g.cb.ih.Zo()}};h.prototype.up=function(a){e(a,this.qb)};h.prototype.ot=function(a){e(a,
this.Lg)};h.prototype.Vl=function(){this.ns=!0;this.parent&&this.parent.Vl()};h.prototype.Eq=function(){return this.Dc.length?this.Dc[0].trigger:!1};h.prototype.ec=function(){var a,b,c=!1,d=this.g,e=this.g.Nc();e.ud=this;var g=this.Dc;this.ml||(e.Xm=!1);if(this.Je){0===g.length&&(c=!0);e.sd=0;for(a=g.length;e.sd<a;e.sd++)b=g[e.sd],b.trigger||(b=b.ec())&&(c=!0);(e.sh=c)&&this.Fo()}else{e.sd=0;for(a=g.length;e.sd<a;e.sd++)if(b=g[e.sd].ec(),!b){e.sh=!1;this.To&&d.xg&&d.zc();return}e.sh=!0;this.Fo()}this.mu(e)};
h.prototype.mu=function(a){a.sh&&this.qq&&(a.Xm=!0);this.To&&this.g.xg&&this.g.zc()};h.prototype.Bw=function(a){this.g.Nc().ud=this;this.Dc[a].ec()&&(this.Fo(),this.g.Nc().sh=!0)};h.prototype.Fo=function(){var a=this.g.Nc(),b;a.qd=0;for(b=this.ye.length;a.qd<b;a.qd++)if(this.ye[a.qd].ec())return;this.Ur()};h.prototype.zw=function(){var a=this.g.Nc(),b;for(b=this.ye.length;a.qd<b;a.qd++)if(this.ye[a.qd].ec())return;this.Ur()};h.prototype.Ur=function(){if(this.ue.length){var a,b,c,d,e=this.ue.length-
1;this.g.wo(this);if(this.ns)for(a=0,b=this.ue.length;a<b;a++)c=this.ue[a],(d=!this.dm||!this.group&&a<e)&&this.g.vo(c.qb),c.ec(),d?this.g.si(c.qb):this.g.Om(c.qb);else for(a=0,b=this.ue.length;a<b;a++)this.ue[a].ec();this.g.Ir()}};h.prototype.Cw=function(){var a=this.g.Nc();a.ud=this;var b=!1,c;a.sd=0;for(c=this.Dc.length;a.sd<c;a.sd++)if(this.Dc[a.sd].ec())b=!0;else if(!this.Je)return!1;return this.Je?b:!0};h.prototype.Jv=function(a){var b=a.index;if(0===b)return!0;for(--b;0<=b;--b)if(this.Dc[b].type===
a.type)return!1;return!0};Qc=h;g.prototype.Nb=function(){var a,b,c;a=0;for(b=this.Aa.length;a<b;a++)c=this.Aa[a],c.Nb(),c.we&&(this.Qi=!0)};g.prototype.Ew=function(){return!0};g.prototype.Ho=function(){var a,b;a=0;for(b=this.Aa.length;a<b;a++)this.Fb[a]=this.Aa[a].get();return qb(this.tc.apply(this.g.pf,this.Fb),this.Fn)};g.prototype.Dw=function(){var a,b;a=0;for(b=this.Aa.length;a<b;a++)this.Fb[a]=this.Aa[a].get();a=this.tc.apply(this.Yg?this.Yg:this.type,this.Fb);this.type.jg();return a};g.prototype.Go=
function(){var a,b,c,d,e,g,f,h,l=this.type,k=l.Za(),m=this.Gd.Je&&!this.trigger;b=0;var n=l.wd,q=l.va,p=l.zf,r=this.Ce,v=-1<r,u=this.Qi,U=this.Aa,L=this.Fb,M=this.Fn,T=this.tc,K;if(u)for(b=0,e=U.length;b<e;++b)g=U[b],g.we||(L[b]=g.get(0));else for(b=0,e=U.length;b<e;++b)L[b]=U[b].get(0);if(k.gb){H(k.C);H(k.Ga);K=l.C;a=0;for(d=K.length;a<d;++a){h=K[a];if(u)for(b=0,e=U.length;b<e;++b)g=U[b],g.we&&(L[b]=g.get(a));v?(b=0,q&&(b=h.type.Qh[p]),b=T.apply(h.ta[r+b],L)):b=T.apply(h,L);(f=qb(b,M))?k.C.push(h):
m&&k.Ga.push(h)}l.finish&&l.finish(!0);k.gb=!1;l.jg();return k.vn()}c=0;K=(f=m&&!this.Gd.Jv(this))?k.Ga:k.C;var N=!1;a=0;for(d=K.length;a<d;++a){h=K[a];if(u)for(b=0,e=U.length;b<e;++b)g=U[b],g.we&&(L[b]=g.get(a));v?(b=0,q&&(b=h.type.Qh[p]),b=T.apply(h.ta[r+b],L)):b=T.apply(h,L);if(qb(b,M))if(N=!0,f){if(k.C.push(h),n)for(b=0,e=h.siblings.length;b<e;b++)g=h.siblings[b],g.type.Za().C.push(g)}else{K[c]=h;if(n)for(b=0,e=h.siblings.length;b<e;b++)g=h.siblings[b],g.type.Za().C[c]=g;c++}else if(f){K[c]=h;
if(n)for(b=0,e=h.siblings.length;b<e;b++)g=h.siblings[b],g.type.Za().Ga[c]=g;c++}else if(m&&(k.Ga.push(h),n))for(b=0,e=h.siblings.length;b<e;b++)g=h.siblings[b],g.type.Za().Ga.push(g)}Ha(K,c);if(n)for(q=l.td,a=0,d=q.length;a<d;a++)h=q[a].Za(),f?Ha(h.Ga,c):Ha(h.C,c);c=N;if(f&&!N)for(a=0,d=k.C.length;a<d;a++){h=k.C[a];if(u)for(b=0,e=U.length;b<e;b++)g=U[b],g.we&&(L[b]=g.get(a));b=v?T.apply(h.ta[r],L):T.apply(h,L);if(qb(b,M)){N=!0;break}}l.finish&&l.finish(c||m);return m?N:k.vn()};Lc=g;l.prototype.Nb=
function(){var a,b,c;a=0;for(b=this.Aa.length;a<b;a++)c=this.Aa[a],c.Nb(),c.we&&(this.Qi=!0)};l.prototype.Ho=function(){var a=this.g,b,c,d=this.Aa,e=this.Fb;b=0;for(c=d.length;b<c;++b)e[b]=d[b].get();return this.tc.apply(a.pf,e)};l.prototype.Go=function(){var a=this.type,b=this.Ce,c=a.zf,d=this.Qi,e=this.Aa,g=this.Fb,f=this.tc,h=a.Za().De(),a=a.va,k=-1<b,l,m,n,q,p,r;if(d)for(m=0,q=e.length;m<q;++m)p=e[m],p.we||(g[m]=p.get(0));else for(m=0,q=e.length;m<q;++m)g[m]=e[m].get(0);l=0;for(n=h.length;l<n;++l){r=
h[l];if(d)for(m=0,q=e.length;m<q;++m)p=e[m],p.we&&(g[m]=p.get(l));k?(m=0,a&&(m=r.type.Qh[c]),f.apply(r.ta[b+m],g)):f.apply(r,g)}return!1};Mc=l;var r=[],u=-1;k.prototype.Nb=function(){var a,b;if(11===this.type)this.jh=this.g.jq(this.pk,this.Gd.parent);else if(13===this.type)for(a=0,b=this.Bh.length;a<b;a++)this.Bh[a].Nb();this.bf&&this.bf.Nb()};k.prototype.Uv=function(a){this.we||!a||a.Eb.Xl||(this.we=!0)};k.prototype.ds=function(){this.we=!0};k.prototype.pv=function(a){this.Tf=a||0;a=m();this.bf.get(a);
u--;return a.data};k.prototype.qv=function(a){this.Tf=a||0;a=m();this.bf.get(a);u--;return na(a.data)?a.data:""};k.prototype.wv=function(){return this.object};k.prototype.nv=function(){return this.Op};k.prototype.uv=function(a){this.Tf=a||0;a=m();this.bf.get(a);u--;return a.hc()?this.g.ij(a.data):this.g.ln(a.data)};k.prototype.vv=function(){return this.ic};k.prototype.tv=function(){return this.key};k.prototype.sv=function(){return this.index};k.prototype.rv=function(a){a=a||0;var b=this.qe.type,c=
null,c=b.Za(),d=c.De();if(d.length)c=d[a%d.length].type;else if(c.Ga.length)c=c.Ga[a%c.Ga.length].type;else if(b.C.length)c=b.C[a%b.C.length].type;else return 0;return this.index+c.Wk[b.zf]};k.prototype.ov=function(){return this.jh};k.prototype.mv=function(){return this.bq};k.prototype.xv=function(){var a,b;a=0;for(b=this.Bh.length;a<b;a++)this.ok[a]=this.Bh[a].get();return this.ok};Nc=k;n.prototype.Nb=function(){this.qb=b(this.qb)};n.prototype.Ai=function(a){var b=this.g.iq();this.parent&&!this.Aj&&
b?(this.wh>=b.length&&(b.length=this.wh+1),b[this.wh]=a):this.data=a};n.prototype.fl=function(){var a=this.g.iq();return!this.parent||this.Aj||!a||this.ll?this.data:this.wh>=a.length||"undefined"===typeof a[this.wh]?this.Bn:a[this.wh]};n.prototype.ec=function(){!this.parent||this.Aj||this.ll||this.Ai(this.Bn)};Gc=n;p.prototype.toString=function(){return"include:"+this.oj.toString()};p.prototype.Nb=function(){this.oj=this.g.Zm[this.Ev];this.sheet.sq.add(this);this.qb=b(this.qb);for(var a=this.parent;a;)a.group&&
a.Fk.push(this),a=a.parent;this.Es()};p.prototype.ec=function(){this.parent&&this.g.ak(this.g.Y);this.oj.wn||this.oj.ec(!0);this.parent&&this.g.si(this.g.Y)};p.prototype.Es=function(){for(var a=this.parent;a;){if(a.group&&!a.lj){this.Wc=!1;return}a=a.parent}this.Wc=!0};ad=p;q.prototype.reset=function(a){this.ud=a;this.qd=this.sd=0;H(this.ss);this.Xm=this.sh=!1};Fc=q})();
(function(){function a(a,b){this.qe=a;this.g=a.g;this.type=b[0];this.get=[this.Eu,this.Au,this.Nu,this.Qu,this.pu,this.Ou,this.Iu,this.xu,this.Hu,this.Mu,this.qu,this.Lu,this.yu,this.Ju,this.Fu,this.Gu,this.Bu,this.Cu,this.wu,this.Pu,this.Ku,this.Du,this.vu,this.zu][this.type];var c=null;this.If=this.Aa=this.Fb=this.tc=this.cm=this.second=this.first=this.value=null;this.Ce=-1;this.Ee=null;this.Hs=-1;this.jh=this.pk=null;this.wi=!1;switch(this.type){case 0:case 1:case 2:this.value=b[1];break;case 3:this.first=
new Pc(a,b[1]);break;case 18:this.first=new Pc(a,b[1]);this.second=new Pc(a,b[2]);this.cm=new Pc(a,b[3]);break;case 19:this.tc=this.g.fg(b[1]);this.tc!==I.prototype.Mc.random&&this.tc!==I.prototype.Mc.Dt||this.qe.ds();this.Fb=[];this.Aa=[];3===b.length?(c=b[2],this.Fb.length=c.length+1):this.Fb.length=1;break;case 20:this.If=this.g.Y[b[1]];this.Ce=-1;this.tc=this.g.fg(b[2]);this.wi=b[3];dd.Function&&this.tc===dd.Function.prototype.Mc.nx&&this.qe.ds();b[4]?this.Ee=new Pc(a,b[4]):this.Ee=null;this.Fb=
[];this.Aa=[];6===b.length?(c=b[5],this.Fb.length=c.length+1):this.Fb.length=1;break;case 21:this.If=this.g.Y[b[1]];this.wi=b[2];b[3]?this.Ee=new Pc(a,b[3]):this.Ee=null;this.Hs=b[4];break;case 22:this.If=this.g.Y[b[1]];this.If.cl(b[2]);this.Ce=this.If.en(b[2]);this.tc=this.g.fg(b[3]);this.wi=b[4];b[5]?this.Ee=new Pc(a,b[5]):this.Ee=null;this.Fb=[];this.Aa=[];7===b.length?(c=b[6],this.Fb.length=c.length+1):this.Fb.length=1;break;case 23:this.pk=b[1],this.jh=null}this.qe.Uv(this.If);4<=this.type&&
17>=this.type&&(this.first=new Pc(a,b[1]),this.second=new Pc(a,b[2]));if(c){var d,f;d=0;for(f=c.length;d<f;d++)this.Aa.push(new Pc(a,c[d]))}}function c(){++h;f.length===h&&f.push(new Oc);return f[h]}function b(a,b,c){var d,f;d=0;for(f=a.length;d<f;++d)a[d].get(c),b[d+1]=c.data}function d(a,b){this.type=a||bd.Gh;this.data=b||0;this.zh=null;this.type==bd.Gh&&(this.data=Math.floor(this.data))}a.prototype.Nb=function(){23===this.type&&(this.jh=this.qe.g.jq(this.pk,this.qe.Gd.parent));this.first&&this.first.Nb();
this.second&&this.second.Nb();this.cm&&this.cm.Nb();this.Ee&&this.Ee.Nb();if(this.Aa){var a,b;a=0;for(b=this.Aa.length;a<b;a++)this.Aa[a].Nb()}};var f=[],h=-1;a.prototype.Pu=function(a){var d=this.Aa,f=this.Fb;f[0]=a;a=c();b(d,f,a);--h;this.tc.apply(this.g.pf,f)};a.prototype.Ku=function(a){var d=this.If,f=this.Fb,m=this.Aa,k=this.Ee,n=this.tc,p=this.qe.Tf,q=d.Za(),v=q.De();if(!v.length)if(q.Ga.length)v=q.Ga;else{this.wi?a.Ed(""):a.kb(0);return}f[0]=a;a.zh=d;a=c();b(m,f,a);k&&(k.get(a),a.hc()&&(p=
a.data,v=d.C));--h;d=v.length;if(p>=d||p<=-d)p%=d;0>p&&(p+=d);n.apply(v[p],f)};a.prototype.vu=function(a){var d=this.If,f=this.Fb,m=this.Aa,k=this.Ee,n=this.Ce,p=this.tc,q=this.qe.Tf,v=d.Za(),r=v.De();if(!r.length)if(v.Ga.length)r=v.Ga;else{this.wi?a.Ed(""):a.kb(0);return}f[0]=a;a.zh=d;a=c();b(m,f,a);k&&(k.get(a),a.hc()&&(q=a.data,r=d.C));--h;m=r.length;if(q>=m||q<=-m)q%=m;0>q&&(q+=m);q=r[q];r=0;d.va&&(r=q.type.Qh[d.zf]);p.apply(q.ta[n+r],f)};a.prototype.Du=function(a){var b=this.Ee,d=this.If,f=this.Hs,
k=this.qe.Tf,n=d.Za(),p=n.De();if(!p.length)if(n.Ga.length)p=n.Ga;else{this.wi?a.Ed(""):a.kb(0);return}if(b){n=c();b.get(n);if(n.hc()){k=n.data;p=d.C;0!==p.length&&(k%=p.length,0>k&&(k+=p.length));k=d.kn(k);d=k.Yb[f];na(d)?a.Ed(d):a.la(d);--h;return}--h}b=p.length;if(k>=b||k<=-b)k%=b;0>k&&(k+=b);k=p[k];p=0;d.va&&(p=k.type.Wk[d.zf]);d=k.Yb[f+p];na(d)?a.Ed(d):a.la(d)};a.prototype.Eu=function(a){a.type=bd.Gh;a.data=this.value};a.prototype.Au=function(a){a.type=bd.Fh;a.data=this.value};a.prototype.Nu=
function(a){a.type=bd.String;a.data=this.value};a.prototype.Qu=function(a){this.first.get(a);a.hc()&&(a.data=-a.data)};a.prototype.pu=function(a){this.first.get(a);var b=c();this.second.get(b);a.hc()&&b.hc()&&(a.data+=b.data,b.Xh()&&a.hi());--h};a.prototype.Ou=function(a){this.first.get(a);var b=c();this.second.get(b);a.hc()&&b.hc()&&(a.data-=b.data,b.Xh()&&a.hi());--h};a.prototype.Iu=function(a){this.first.get(a);var b=c();this.second.get(b);a.hc()&&b.hc()&&(a.data*=b.data,b.Xh()&&a.hi());--h};a.prototype.xu=
function(a){this.first.get(a);var b=c();this.second.get(b);a.hc()&&b.hc()&&(a.data/=b.data,a.hi());--h};a.prototype.Hu=function(a){this.first.get(a);var b=c();this.second.get(b);a.hc()&&b.hc()&&(a.data%=b.data,b.Xh()&&a.hi());--h};a.prototype.Mu=function(a){this.first.get(a);var b=c();this.second.get(b);a.hc()&&b.hc()&&(a.data=Math.pow(a.data,b.data),b.Xh()&&a.hi());--h};a.prototype.qu=function(a){this.first.get(a);var b=c();this.second.get(b);b.$h()||a.$h()?this.su(a,b):this.ru(a,b);--h};a.prototype.su=
function(a,b){a.$h()&&b.$h()?this.uu(a,b):this.tu(a,b)};a.prototype.uu=function(a,b){a.data+=b.data};a.prototype.tu=function(a,b){a.$h()?a.data+=(Math.round(1E10*b.data)/1E10).toString():a.Ed(a.data.toString()+b.data)};a.prototype.ru=function(a,b){a.kb(a.data&&b.data?1:0)};a.prototype.Lu=function(a){this.first.get(a);var b=c();this.second.get(b);a.hc()&&b.hc()&&(a.data||b.data?a.kb(1):a.kb(0));--h};a.prototype.wu=function(a){this.first.get(a);a.data?this.second.get(a):this.cm.get(a)};a.prototype.yu=
function(a){this.first.get(a);var b=c();this.second.get(b);a.kb(a.data===b.data?1:0);--h};a.prototype.Ju=function(a){this.first.get(a);var b=c();this.second.get(b);a.kb(a.data!==b.data?1:0);--h};a.prototype.Fu=function(a){this.first.get(a);var b=c();this.second.get(b);a.kb(a.data<b.data?1:0);--h};a.prototype.Gu=function(a){this.first.get(a);var b=c();this.second.get(b);a.kb(a.data<=b.data?1:0);--h};a.prototype.Bu=function(a){this.first.get(a);var b=c();this.second.get(b);a.kb(a.data>b.data?1:0);--h};
a.prototype.Cu=function(a){this.first.get(a);var b=c();this.second.get(b);a.kb(a.data>=b.data?1:0);--h};a.prototype.zu=function(a){var b=this.jh.fl();ma(b)?a.la(b):a.Ed(b)};Pc=a;d.prototype.Xh=function(){return this.type===bd.Fh};d.prototype.hc=function(){return this.type===bd.Gh||this.type===bd.Fh};d.prototype.$h=function(){return this.type===bd.String};d.prototype.hi=function(){this.Xh()||(this.$h()&&(this.data=parseFloat(this.data)),this.type=bd.Fh)};d.prototype.kb=function(a){this.type=bd.Gh;
this.data=Math.floor(a)};d.prototype.la=function(a){this.type=bd.Fh;this.data=a};d.prototype.Ed=function(a){this.type=bd.String;this.data=a};d.prototype.Nw=function(a){ma(a)?(this.type=bd.Fh,this.data=a):na(a)?(this.type=bd.String,this.data=a.toString()):(this.type=bd.Gh,this.data=0)};Oc=d;bd={Gh:0,Fh:1,String:2}})();function I(a){this.g=a;this.kd=[]}
I.prototype.Dd=function(){var a={},c,b,d,f,h,e,g,l;a.waits=[];var m=a.waits,k;c=0;for(b=this.kd.length;c<b;c++){e=this.kd[c];k={t:e.time,st:e.ls,s:e.Mo,ev:e.Ph.La,sm:[],sols:{}};e.Ph.ye[e.qd]&&(k.act=e.Ph.ye[e.qd].La);d=0;for(f=e.qb.length;d<f;d++)k.sm.push(e.qb[d].La);for(h in e.Rc)if(e.Rc.hasOwnProperty(h)){g=this.g.Y[parseInt(h,10)];l={sa:e.Rc[h].Rl,insts:[]};d=0;for(f=e.Rc[h].Bf.length;d<f;d++)l.insts.push(e.Rc[h].Bf[d].uid);k.sols[g.La.toString()]=l}m.push(k)}return a};
I.prototype.me=function(a){a=a.waits;var c,b,d,f,h,e,g,l,m,k,n;H(this.kd);c=0;for(b=a.length;c<b;c++)if(e=a[c],l=this.g.Fp[e.ev.toString()]){m=-1;d=0;for(f=l.ye.length;d<f;d++)if(l.ye[d].La===e.act){m=d;break}if(-1!==m){g={Rc:{},qb:[],Wm:!1};g.time=e.t;g.ls=e.st||"";g.Mo=!!e.s;g.Ph=l;g.qd=m;d=0;for(f=e.sm.length;d<f;d++)(l=this.g.el(e.sm[d]))&&g.qb.push(l);for(h in e.sols)if(e.sols.hasOwnProperty(h)&&(l=this.g.el(parseInt(h,10)))){m=e.sols[h];k={Rl:m.sa,Bf:[]};d=0;for(f=m.insts.length;d<f;d++)(n=
this.g.wg(m.insts[d]))&&k.Bf.push(n);g.Rc[l.index.toString()]=k}this.kd.push(g)}}};
(function(){function a(){}function c(){}function b(){}var d=I.prototype;a.prototype.Rs=function(){return!0};a.prototype.mp=function(){return!0};a.prototype.et=function(){return!0};a.prototype.Os=function(a,b,c){return cd(a.fl(),b,c)};a.prototype.Qs=function(){var a=this.g.Nc();return a.Xm?!1:!a.sh};a.prototype.np=function(){return!0};a.prototype.$s=function(){return!0};a.prototype.vm=function(){return!0};a.prototype.op=function(){return!0};a.prototype.ft=function(){return!0};a.prototype.tm=function(){return!0};
a.prototype.Ks=function(a,b,c){return cb(Sa(a),Sa(c))<=Sa(b)};a.prototype.Ts=function(a,b){return kb(Sa(a),Sa(b))};a.prototype.Ss=function(a,b,c){a=ab(a);b=ab(b);c=ab(c);return kb(c,b)?kb(a,b)&&!kb(a,c):!(!kb(a,b)&&kb(a,c))};d.aa=new a;c.prototype.Ps=function(a,b,c,d){if(b&&a&&(b=this.g.Qp(a,b,c,d))){this.g.He++;var f;this.g.trigger(Object.getPrototypeOf(a.Eb).aa.Oi,b);if(b.wd)for(c=0,d=b.siblings.length;c<d;c++)f=b.siblings[c],this.g.trigger(Object.getPrototypeOf(f.type.Eb).aa.Oi,f);this.g.He--;
a=a.Za();a.gb=!1;H(a.C);a.C[0]=b;if(b.wd)for(c=0,d=b.siblings.length;c<d;c++)f=b.siblings[c],a=f.type.Za(),a.gb=!1,H(a.C),a.C[0]=f}};c.prototype.lt=function(a,b){0===a.dp?ma(b)?a.Ai(b):a.Ai(parseFloat(b)):1===a.dp&&a.Ai(b.toString())};c.prototype.mt=function(a,b){0===a.dp&&(ma(b)?a.Ai(a.fl()-b):a.Ai(a.fl()-parseFloat(b)))};c.prototype.kt=function(a){0>a&&(a=0);this.g.Vf=a};var f=[],h=[];c.prototype.nt=function(a){if(!(0>a)){var b,c,d,k=this.g.Nc(),n;f.length?n=f.pop():n={Rc:{},qb:[]};n.Wm=!1;n.time=
this.g.vc.Oa+a;n.ls="";n.Mo=!1;n.Ph=k.ud;n.qd=k.qd+1;a=0;for(b=this.g.Y.length;a<b;a++)d=this.g.Y[a],c=d.Za(),c.gb&&-1===k.ud.qb.indexOf(d)||(n.qb.push(d),d=void 0,h.length?d=h.pop():d={Bf:[]},d.Rl=!1,d.Rl=c.gb,La(d.Bf,c.C),n.Rc[a.toString()]=d);this.kd.push(n);return!0}};d.qc=new c;b.prototype["int"]=function(a,b){na(b)?(a.kb(parseInt(b,10)),isNaN(a.data)&&(a.data=0)):a.kb(b)};b.prototype["float"]=function(a,b){na(b)?(a.la(parseFloat(b)),isNaN(a.data)&&(a.data=0)):a.la(b)};b.prototype.random=function(a,
b,c){void 0===c?a.la(Math.random()*b):a.la(Math.random()*(c-b)+b)};b.prototype.sqrt=function(a,b){a.la(Math.sqrt(b))};b.prototype.abs=function(a,b){a.la(Math.abs(b))};b.prototype.round=function(a,b){a.kb(Math.round(b))};b.prototype.floor=function(a,b){a.kb(Math.floor(b))};b.prototype.ceil=function(a,b){a.kb(Math.ceil(b))};b.prototype.sin=function(a,b){a.la(Math.sin(Sa(b)))};b.prototype.cos=function(a,b){a.la(Math.cos(Sa(b)))};b.prototype.tan=function(a,b){a.la(Math.tan(Sa(b)))};b.prototype.asin=function(a,
b){a.la(Ta(Math.asin(b)))};b.prototype.acos=function(a,b){a.la(Ta(Math.acos(b)))};b.prototype.atan=function(a,b){a.la(Ta(Math.atan(b)))};b.prototype.exp=function(a,b){a.la(Math.exp(b))};b.prototype.log10=function(a,b){a.la(Math.log(b)/Math.LN10)};b.prototype.max=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,d,f;c=2;for(d=arguments.length;c<d;c++)f=arguments[c],"number"===typeof f&&b<f&&(b=f);a.la(b)};b.prototype.min=function(a){var b=arguments[1];"number"!==typeof b&&(b=0);var c,
d,f;c=2;for(d=arguments.length;c<d;c++)f=arguments[c],"number"===typeof f&&b>f&&(b=f);a.la(b)};b.prototype.xa=function(a){a.la(this.g.xa)};b.prototype.Vf=function(a){a.la(this.g.Vf)};b.prototype.time=function(a){a.la(this.g.vc.Oa)};b.prototype.Ng=function(a){a.kb(this.g.Ng)};b.prototype.Hl=function(a){a.kb(this.g.Hl)};b.prototype.bn=function(a){a.kb(this.g.bn)};b.prototype.O=function(a,b,c,d,f){a.la(Ta(bb(b,c,d,f)))};b.prototype.left=function(a,b,c){a.Ed(na(b)?b.substr(0,c):"")};b.prototype.right=
function(a,b,c){a.Ed(na(b)?b.substr(b.length-c):"")};b.prototype.replace=function(a,b,c,d){na(b)&&na(c)&&na(d)?a.Ed(b.replace(new RegExp(Kb(c),"gi"),d)):a.Ed(na(b)?b:"")};b.prototype.trim=function(a,b){a.Ed(na(b)?b.trim():"")};b.prototype.Dt=function(a){var b=ua(Math.random()*(arguments.length-1));a.Nw(arguments[b+1])};b.prototype.Qm=function(a){a.la(this.g.Qm/1E3)};b.prototype.zl=function(a){a.la(this.g.zl)};d.Mc=new b;d.Aw=function(){var a,b,c,d,k,n,p=this.g.Nc();a=0;for(c=this.kd.length;a<c;a++){d=
this.kd[a];if(-1===d.time){if(!d.Mo)continue}else if(d.time>this.g.vc.Oa)continue;p.ud=d.Ph;p.qd=d.qd;p.sd=0;for(b in d.Rc)d.Rc.hasOwnProperty(b)&&(k=this.g.Y[parseInt(b,10)].Za(),n=d.Rc[b],k.gb=n.Rl,La(k.C,n.Bf),k=n,H(k.Bf),h.push(k));d.Ph.zw();this.g.Om(d.qb);d.Wm=!0}b=a=0;for(c=this.kd.length;a<c;a++)d=this.kd[a],this.kd[b]=d,d.Wm?(ub(d.Rc),H(d.qb),f.push(d)):b++;Ha(this.kd,b)}})();
(function(){Vb=function(a,b){var d=a[1],f=a[3],h=a[4],e=a[5],g=a[6],l=a[7],m=a[8];b.aa||(b.aa={});b.qc||(b.qc={});b.Mc||(b.Mc={});var k=b.aa,n=b.qc,p=b.Mc;f&&(k.ux=function(a,b){return cd(this.x,a,b)},k.wx=function(a,b){return cd(this.y,a,b)},k.Cx=function(){var a=this.V;this.wb();var b=this.Ac;return!(b.right<a.hb||b.bottom<a.ib||b.left>a.sb||b.top>a.rb)},k.Dx=function(){this.wb();var a=this.Ac,b=this.g.cb;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},k.Px=function(a,b,c){var d=this.Za(),
e=d.De();if(!e.length)return!1;var f=e[0],g=f,h=ob(f.x,f.y,b,c),k,l,m;k=1;for(l=e.length;k<l;k++)if(f=e[k],m=ob(f.x,f.y,b,c),0===a&&m<h||1===a&&m>h)h=m,g=f;d.Xj(g);return!0},n.iy=function(a){this.x!==a&&(this.x=a,this.pb())},n.jy=function(a){this.y!==a&&(this.y=a,this.pb())},n.cy=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.pb()},n.dy=function(a,b){var c=a.hv(this);if(c){var d;c.df?(d=c.df(b,!0),c=c.df(b,!1)):(d=c.x,c=c.y);if(this.x!==d||this.y!==c)this.x=d,this.y=c,this.pb()}},
n.Ix=function(a){0!==a&&(this.x+=Math.cos(this.O)*a,this.y+=Math.sin(this.O)*a,this.pb())},n.Hx=function(a,b){0!==b&&(this.x+=Math.cos(Sa(a))*b,this.y+=Math.sin(Sa(a))*b,this.pb())},p.rp=function(a){a.la(this.x)},p.sp=function(a){a.la(this.y)},p.xa=function(a){a.la(this.g.gn(this))});h&&(k.tx=function(a,b){return cd(this.width,a,b)},k.ox=function(a,b){return cd(this.height,a,b)},n.hy=function(a){this.width!==a&&(this.width=a,this.pb())},n.$x=function(a){this.height!==a&&(this.height=a,this.pb())},
n.ey=function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.pb()},p.ny=function(a){a.la(this.width)},p.yx=function(a){a.la(this.height)},p.kx=function(a){this.wb();a.la(this.Ac.left)},p.mx=function(a){this.wb();a.la(this.Ac.top)},p.lx=function(a){this.wb();a.la(this.Ac.right)},p.jx=function(a){this.wb();a.la(this.Ac.bottom)});e&&(k.Ks=function(a,b){return cb(this.O,Sa(b))<=Sa(a)},k.Ts=function(a){return kb(this.O,Sa(a))},k.Ss=function(a,b){var c=ab(a),d=ab(b),e=Za(this.O);
return kb(d,c)?kb(e,c)&&!kb(e,d):!(!kb(e,c)&&kb(e,d))},n.pp=function(a){a=Sa(Ya(a));isNaN(a)||this.O===a||(this.O=a,this.pb())},n.Tx=function(a){0===a||isNaN(a)||(this.O+=Sa(a),this.O=Za(this.O),this.pb())},n.Ux=function(a){0===a||isNaN(a)||(this.O-=Sa(a),this.O=Za(this.O),this.pb())},n.Vx=function(a,b){var c=jb(this.O,Sa(b),Sa(a));isNaN(c)||this.O===c||(this.O=c,this.pb())},n.Wx=function(a,b,c){a=jb(this.O,Math.atan2(c-this.y,b-this.x),Sa(a));isNaN(a)||this.O===a||(this.O=a,this.pb())},n.fy=function(a,
b){var c=Math.atan2(b-this.y,a-this.x);isNaN(c)||this.O===c||(this.O=c,this.pb())},p.ix=function(a){a.la($a(this.O))});d||(k.qx=function(a,b,c){return cd(this.Yb[a],b,c)},k.Ax=function(a){return this.Yb[a]},k.Qx=function(a,b){var c=this.Za(),d=c.De();if(!d.length)return!1;var e=d[0],f=e,g=e.Yb[b],h,k,l;h=1;for(k=d.length;h<k;h++)if(e=d[h],l=e.Yb[b],0===a&&l<g||1===a&&l>g)g=l,f=e;c.Xj(f);return!0},k.Ox=function(a){var b,c,d,e,f;if(this.g.av().Fn){f=this.Za();if(f.gb)for(f.gb=!1,H(f.C),H(f.Ga),d=this.C,
b=0,c=d.length;b<c;b++)e=d[b],e.uid===a?f.Ga.push(e):f.C.push(e);else{d=b=0;for(c=f.C.length;b<c;b++)e=f.C[b],f.C[d]=e,e.uid===a?f.Ga.push(e):d++;Ha(f.C,d)}this.jg();return!!f.C.length}e=this.g.wg(a);if(!e)return!1;f=this.Za();if(!f.gb&&-1===f.C.indexOf(e))return!1;if(this.va)for(a=e.type.tb,b=0,c=a.length;b<c;b++){if(a[b]===this)return f.Xj(e),this.jg(),!0}else if(e.type===this)return f.Xj(e),this.jg(),!0;return!1},k.Oi=function(){return!0},k.bt=function(){return!0},n.ay=function(a,b){var c=this.Yb;
ma(c[a])?c[a]=ma(b)?b:parseFloat(b):na(c[a])&&(c[a]=na(b)?b:b.toString())},n.hx=function(a,b){var c=this.Yb;ma(c[a])?c[a]=ma(b)?c[a]+b:c[a]+parseFloat(b):na(c[a])&&(c[a]=na(b)?c[a]+b:c[a]+b.toString())},n.ky=function(a,b){var c=this.Yb;ma(c[a])&&(c[a]=ma(b)?c[a]-b:c[a]-parseFloat(b))},n.Xx=function(a,b){this.Yb[a]=b?1:0},n.ly=function(a){this.Yb[a]=1-this.Yb[a]},n.Kc=function(){this.g.Rg(this)},n.Vs||(n.Vs=function(a){var b,c;try{b=JSON.parse(a)}catch(d){return}this.g.wl(this,b,!0);this.ze&&this.ze();
if(this.ta)for(a=0,b=this.ta.length;a<b;++a)c=this.ta[a],c.ze&&c.ze()}),p.xx=function(a){var b=a.zh.C.length,c,d,e;c=0;for(d=this.g.Ze.length;c<d;c++)e=this.g.Ze[c],a.zh.va?0<=e.type.tb.indexOf(a.zh)&&b++:e.type===a.zh&&b++;a.kb(b)},p.Sx=function(a){a.kb(a.zh.Za().De().length)},p.my=function(a){a.kb(this.uid)},p.zx=function(a){a.kb(this.kj())},p.Ls||(p.Ls=function(a){a.Ed(JSON.stringify(this.g.Io(this,!0)))}));g&&(k.Ex=function(){return this.visible},n.gy=function(a){!a!==!this.visible&&(this.visible=
!!a,this.g.fb=!0)},k.rx=function(a,b){return cd(Rb(100*this.opacity),a,b)},n.by=function(a){a=a/100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.g.fb=!0)},p.Opacity=function(a){a.la(Rb(100*this.opacity))});l&&(k.Bx=function(a){return a?this.V===a:!1},k.Rx=function(a){var b=this.Za(),c=b.De();if(!c.length)return!1;var d=c[0],e=d,f,g;f=1;for(g=c.length;f<g;f++)if(d=c[f],0===a){if(d.V.index>e.V.index||d.V.index===e.V.index&&d.ef()>e.ef())e=d}else if(d.V.index<e.V.index||d.V.index===e.V.index&&
d.ef()<e.ef())e=d;b.Xj(e);return!0},n.Lx=function(){var a=this.V,b=a.C;b.length&&b[b.length-1]===this||(a.vi(this,!1),a.Si(this,!1),this.g.fb=!0)},n.Jx=function(){var a=this.V,b=a.C;b.length&&b[0]===this||(a.vi(this,!1),a.ow(this),this.g.fb=!0)},n.Kx=function(a){a&&a!=this.V&&(this.V.vi(this,!0),this.V=a,a.Si(this,!0),this.g.fb=!0)},n.qy=function(a,b){var c=0===a;if(b){var d=b.kq(this);d&&d.uid!==this.uid&&(this.V.index!==d.V.index&&(this.V.vi(this,!0),this.V=d.V,d.V.Si(this,!0)),this.V.Vv(this,d,
c),this.g.fb=!0)}},p.Gx=function(a){a.kb(this.V.mr)},p.Fx=function(a){a.Ed(this.V.name)},p.oy=function(a){a.kb(this.ef())});m&&(n.Yx=function(a,b){if(this.g.ba){var c=this.type.jn(b);if(!(0>c)){var d=1===a;this.hg[c]!==d&&(this.hg[c]=d,this.Ne(),this.g.fb=!0)}}},n.Zx=function(a,b,c){if(this.g.ba){var d=this.type.jn(a);0>d||(a=this.type.ua[d],d=this.yb[d],b=Math.floor(b),0>b||b>=d.length||(1===this.g.ba.lv(a.Sb,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.Wc&&(this.g.fb=!0))))}})};oc=function(){this.Im=this.Cm=
!0;this.type.wp=!0;this.g.fb=!0;var a,b,d=this.Dm;a=0;for(b=d.length;a<b;++a)d[a](this);this.V.Zd&&this.wb()};pc=function(a){a&&this.Dm.push(a)};Ac=function(){if(this.Cm){var a=this.Ac,b=this.Cc;a.set(this.x,this.y,this.x+this.width,this.y+this.height);a.offset(-this.bd*this.width,-this.cd*this.height);this.O?(a.offset(-this.x,-this.y),b.es(a,this.O),b.offset(this.x,this.y),b.Gp(a)):b.Wl(a);a.normalize();this.Cm=!1;this.ax()}};var a=new Aa(0,0,0,0);Bc=function(){if(this.V.Zd){var c=this.V.xc,b=this.Ac;
a.set(c.Uc(b.left),c.Vc(b.top),c.Uc(b.right),c.Vc(b.bottom));this.fd.Zi(a)||(this.fd.right<this.fd.left?c.update(this,null,a):c.update(this,this.fd,a),this.fd.Vi(a),this.V.Le=!0)}};Cc=function(){if(this.Im&&this.ah){this.wb();var c=this.type.Mp,b=this.Ac;a.set(c.Uc(b.left),c.Vc(b.top),c.Uc(b.right),c.Vc(b.bottom));this.ng.Zi(a)||(this.ng.right<this.ng.left?c.update(this,null,a):c.update(this,this.ng,a),this.ng.Vi(a),this.Im=!1)}};sc=function(a,b){return this.Ac.ee(a,b)&&this.Cc.ee(a,b)?this.Yc&&!this.Yc.Dq()?
(this.Yc.Kp(this.width,this.height,this.O),this.Yc.ee(a-this.x,b-this.y)):!0:!1};kc=function(){this.type.gm();return this.oh};Dc=function(){this.V.bp();return this.Pe};Ec=function(){H(this.Ua);var a,b,d,f=!0;a=0;for(b=this.hg.length;a<b;a++)this.hg[a]&&(d=this.type.ua[a],this.Ua.push(d),d.Sd||(f=!1));this.Gs=!!this.Ua.length;this.Sf=f};lc=function(){return"Inst"+this.Or};Yb=function(a){if(a&&a.wd&&a.type!=this){var b,d,f;b=0;for(d=a.siblings.length;b<d;b++)if(f=a.siblings[b],f.type==this)return f}a=
this.Za().De();return a.length?a[0]:null};Zb=function(a){var b=this.Za().De();return b.length?b[a.kj()%b.length]:null};Xb=function(){if(this.Ci&&!this.va){var a,b;a=0;for(b=this.C.length;a<b;a++)this.C[a].oh=a;var d=a,f=this.g.Ze;a=0;for(b=f.length;a<b;++a)f[a].type===this&&(f[a].oh=d++);this.Ci=!1}};ic=function(a){if(a<this.C.length)return this.C[a];a-=this.C.length;var b=this.g.Ze,d,f;d=0;for(f=b.length;d<f;++d)if(b[d].type===this){if(0===a)return b[d];--a}return null};$b=function(){return this.Uf[this.$e]};
ac=function(){this.$e++;this.$e===this.Uf.length?this.Uf.push(new Wb(this)):(this.Uf[this.$e].gb=!0,H(this.Uf[this.$e].Ga))};cc=function(){this.$e++;this.$e===this.Uf.length&&this.Uf.push(new Wb(this));var a=this.Uf[this.$e],b=this.Uf[this.$e-1];b.gb?(a.gb=!0,H(a.Ga)):(a.gb=!1,La(a.C,b.C),La(a.Ga,b.Ga))};dc=function(){this.$e--};ec=function(a){var b,d,f,h,e,g=0;if(!this.va)for(b=0,d=this.tb.length;b<d;b++)for(e=this.tb[b],f=0,h=e.xb.length;f<h;f++){if(a===e.xb[f].name)return this.ya.lastBehIndex=
g,e.xb[f];g++}b=0;for(d=this.xb.length;b<d;b++){if(a===this.xb[b].name)return this.ya.lastBehIndex=g,this.xb[b];g++}return null};fc=function(a){return this.cl(a)?this.ya.lastBehIndex:-1};gc=function(a){var b,d;b=0;for(d=this.ua.length;b<d;b++)if(this.ua[b].name===a)return b;return-1};hc=function(){if(this.wd&&!this.va){var a,b,d,f,h,e,g;this.gm();e=this.Za();var l=e.gb,m=(a=this.g.Nc())&&a.ud&&a.ud.Je;a=0;for(b=this.td.length;a<b;a++)if(h=this.td[a],h!==this&&(h.gm(),g=h.Za(),g.gb=l,!l)){H(g.C);d=
0;for(f=e.C.length;d<f;++d)g.C[d]=h.kn(e.C[d].oh);if(m)for(H(g.Ga),d=0,f=e.Ga.length;d<f;++d)g.Ga[d]=h.kn(e.Ga[d].oh)}}};jc=function(){return"Type"+this.La};cd=function(a,b,d){if("undefined"===typeof a||"undefined"===typeof d)return!1;switch(b){case 0:return a===d;case 1:return a!==d;case 2:return a<d;case 3:return a<=d;case 4:return a>d;case 5:return a>=d;default:return!1}}})();
var ld={sharpen:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float pixelWidth;\nuniform mediump float pixelHeight;\nuniform lowp float intensity;\nvoid main(void)\n{\nmediump float centerMultiplier = 1.0 + 4.0 * intensity;\nmediump vec4 front = texture2D(samplerFront, vTex);\nmediump vec3 textureColor = front.rgb;\nmediump vec3 leftTextureColor = texture2D(samplerFront, vTex - vec2(pixelWidth, 0.0)).rgb;\nmediump vec3 rightTextureColor = texture2D(samplerFront, vTex + vec2(pixelWidth, 0.0)).rgb;\nmediump vec3 topTextureColor = texture2D(samplerFront, vTex - vec2(0.0, pixelHeight)).rgb;\nmediump vec3 bottomTextureColor = texture2D(samplerFront, vTex + vec2(0.0, pixelHeight)).rgb;\ngl_FragColor = vec4((textureColor * centerMultiplier - (leftTextureColor * intensity + rightTextureColor * intensity + topTextureColor * intensity + bottomTextureColor * intensity)), front.a);\n}",aj:0,
bj:0,Ik:!1,Sd:!0,Bk:!1,Aa:[["intensity",0,1]]},warp:{src:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump float seconds;\nuniform mediump float pixelWidth;\nuniform mediump float pixelHeight;\nuniform mediump float layerScale;\nuniform mediump float freqX;\nuniform mediump float freqY;\nuniform mediump float ampX;\nuniform mediump float ampY;\nuniform mediump float speedX;\nuniform mediump float speedY;\nvoid main(void)\n{\nmediump float boxLeft = 0.0;\nmediump float boxTop = 0.0;\nmediump float aspect = pixelHeight / pixelWidth;\nmediump vec2 p = vTex;\np.x += (cos((vTex.y - boxTop) * freqX / layerScale / (pixelWidth * 750.0) + (seconds * speedX)) * ampX * pixelWidth * layerScale);\np.y += (sin((vTex.x - boxLeft) * freqY * aspect / layerScale / (pixelHeight * 750.0) + (seconds * speedY)) * ampY * pixelHeight * layerScale);\ngl_FragColor = texture2D(samplerFront, p);\n}",
aj:25,bj:25,Ik:!1,Sd:!1,Bk:!0,Aa:[["freqX",0,0],["freqY",0,0],["ampX",0,0],["ampY",0,0],["speedX",0,0],["speedY",0,0]]}};function od(a){this.g=a}
(function(){function a(a){0>a&&(a=0);1<a&&(a=1);return Math.log(a)/Math.log(10)*20}function c(a){a=a.toLowerCase();return ba.hasOwnProperty(a)&&ba[a].length?ba[a][0].Nd():F.destination}function b(){return F.createGain?F.createGain():F.createGainNode()}function d(a){return F.createDelay?F.createDelay(a):F.createDelayNode(a)}function f(a,b){a.start?a.start(b||0):a.noteOn(b||0)}function h(a,b,c,d){a.start?a.start(d||0,b):a.noteGrainOn(d||0,b,c-b)}function e(a){try{a.stop?a.stop(0):a.noteOff(0)}catch(b){}}
function g(a,c,d,e,f,g){this.type="filter";this.Db=[a,c,d,e,f,g];this.Ma=b();this.ra=b();this.ra.gain.value=g;this.ma=b();this.ma.gain.value=1-g;this.Pb=F.createBiquadFilter();this.Pb.type="number"===typeof this.Pb.type?a:bc[a];this.Pb.frequency.value=c;this.Pb.detune&&(this.Pb.detune.value=d);this.Pb.Q.value=e;this.Pb.gain.value=f;this.Ma.connect(this.Pb);this.Ma.connect(this.ma);this.Pb.connect(this.ra)}function l(a,c,e){this.type="delay";this.Db=[a,c,e];this.Ma=b();this.ra=b();this.ra.gain.value=
e;this.ma=b();this.ma.gain.value=1-e;this.Pj=b();this.he=d(a);this.he.delayTime.value=a;this.Ok=b();this.Ok.gain.value=c;this.Ma.connect(this.Pj);this.Ma.connect(this.ma);this.Pj.connect(this.ra);this.Pj.connect(this.he);this.he.connect(this.Ok);this.Ok.connect(this.Pj)}function m(a,c,d,e){this.type="convolve";this.Db=[c,d,e];this.Ma=b();this.ra=b();this.ra.gain.value=d;this.ma=b();this.ma.gain.value=1-d;this.bh=F.createConvolver();a&&(this.bh.normalize=c,this.bh.buffer=a);this.Ma.connect(this.bh);
this.Ma.connect(this.ma);this.bh.connect(this.ra)}function k(a,c,e,g,h){this.type="flanger";this.Db=[a,c,e,g,h];this.Ma=b();this.ma=b();this.ma.gain.value=1-h/2;this.ra=b();this.ra.gain.value=h/2;this.Xk=b();this.Xk.gain.value=g;this.he=d(a+c);this.he.delayTime.value=a;this.lc=F.createOscillator();this.lc.frequency.value=e;this.Bd=b();this.Bd.gain.value=c;this.Ma.connect(this.he);this.Ma.connect(this.ma);this.he.connect(this.ra);this.he.connect(this.Xk);this.Xk.connect(this.he);this.lc.connect(this.Bd);
this.Bd.connect(this.he.delayTime);f(this.lc)}function n(a,c,d,e,g,h){this.type="phaser";this.Db=[a,c,d,e,g,h];this.Ma=b();this.ma=b();this.ma.gain.value=1-h/2;this.ra=b();this.ra.gain.value=h/2;this.Pb=F.createBiquadFilter();this.Pb.type="number"===typeof this.Pb.type?7:"allpass";this.Pb.frequency.value=a;this.Pb.detune&&(this.Pb.detune.value=c);this.Pb.Q.value=d;this.lc=F.createOscillator();this.lc.frequency.value=g;this.Bd=b();this.Bd.gain.value=e;this.Ma.connect(this.Pb);this.Ma.connect(this.ma);
this.Pb.connect(this.ra);this.lc.connect(this.Bd);this.Bd.connect(this.Pb.frequency);f(this.lc)}function p(a){this.type="gain";this.Db=[a];this.Ta=b();this.Ta.gain.value=a}function q(a,c){this.type="tremolo";this.Db=[a,c];this.Ta=b();this.Ta.gain.value=1-c/2;this.lc=F.createOscillator();this.lc.frequency.value=a;this.Bd=b();this.Bd.gain.value=c/2;this.lc.connect(this.Bd);this.Bd.connect(this.Ta.gain);f(this.lc)}function v(a,c){this.type="ringmod";this.Db=[a,c];this.Ma=b();this.ra=b();this.ra.gain.value=
c;this.ma=b();this.ma.gain.value=1-c;this.dk=b();this.dk.gain.value=0;this.lc=F.createOscillator();this.lc.frequency.value=a;this.lc.connect(this.dk.gain);f(this.lc);this.Ma.connect(this.dk);this.Ma.connect(this.ma);this.dk.connect(this.ra)}function r(a,c,d,e,f){this.type="distortion";this.Db=[a,c,d,e,f];this.Ma=b();this.Nl=b();this.Ml=b();this.Hw(d,Math.pow(10,e/20));this.ra=b();this.ra.gain.value=f;this.ma=b();this.ma.gain.value=1-f;this.lm=F.createWaveShaper();this.Mk=new Float32Array(65536);this.Xu(a,
c);this.lm.Mk=this.Mk;this.Ma.connect(this.Nl);this.Ma.connect(this.ma);this.Nl.connect(this.lm);this.lm.connect(this.Ml);this.Ml.connect(this.ra)}function u(a,b,c,d,e){this.type="compressor";this.Db=[a,b,c,d,e];this.Ta=F.createDynamicsCompressor();try{this.Ta.threshold.value=a,this.Ta.knee.value=b,this.Ta.ratio.value=c,this.Ta.attack.value=d,this.Ta.release.value=e}catch(f){}}function t(a,b){this.type="analyser";this.Db=[a,b];this.Ta=F.createAnalyser();this.Ta.fftSize=a;this.Ta.smoothingTimeConstant=
b;this.Vu=new Float32Array(this.Ta.frequencyBinCount);this.js=new Uint8Array(a);this.Wj=0}function z(){this.qa=null;this.yl=0;this.Mg=[];this.co=this.ql=this.pl=0}function D(a,c){this.src=a;this.Ha=O;this.ke=c;this.Ak=!1;var d=this;this.bo=this.no=null;this.qi=[];this.Sl=0;this.fp=this.Vk=this.ps=this.Il=!1;1===O&&c&&!la&&(this.Ha=0,this.no=b());this.uf=this.Va=null;var e;switch(this.Ha){case 0:this.Va=new Audio;this.Va.crossOrigin="anonymous";this.Va.addEventListener("canplaythrough",function(){d.fp=
!0});1===O&&F.createMediaElementSource&&!/wiiu/i.test(navigator.userAgent)&&(this.ps=!0,this.Va.addEventListener("canplay",function(){d.bo||(d.bo=F.createMediaElementSource(d.Va),d.bo.connect(d.no))}));this.Va.autoplay=!1;this.Va.xy="auto";this.Va.src=a;break;case 1:w.yj?w.$p(a,function(a){d.uf=a;d.Tp()},function(){d.Vk=!0}):(e=new XMLHttpRequest,e.open("GET",a,!0),e.responseType="arraybuffer",e.onload=function(){d.uf=e.response;d.Tp()},e.onerror=function(){d.Vk=!0},e.send());break;case 2:this.Va=
!0;break;case 3:this.Va=!0}}function C(a,d){var e=this;this.tag=d;this.hd=this.cf=!0;this.src=a.src;this.buffer=a;this.Ha=O;this.ke=a.ke;this.playbackRate=1;this.Sh=!0;this.xd=this.Td=!1;this.gd=0;this.zj=this.Yh=this.jf=!1;this.volume=1;this.lo=function(a){if(!e.xd&&!e.Td){var b=this;b||(b=a.target);b===e.zk&&(e.Sh=!0,e.hd=!0,J=e.tag,w.trigger(od.prototype.aa.wk,A))}};this.zk=null;this.Vh=1===U&&!this.ke||2===U;this.ki=1;this.startTime=this.Vh?w.vc.Oa:w.Zf.Oa;this.Mb=this.Wb=null;this.kf=!1;this.Lb=
null;this.yr=this.xr=this.wr=this.ur=this.Br=this.Ar=0;this.N=null;var f=!1;1!==this.Ha||0!==this.buffer.Ha||this.buffer.ps||(this.Ha=0);switch(this.Ha){case 0:this.ke?(this.N=a.Va,f=!a.Ak,a.Ak=!0):(this.N=new Audio,this.N.crossOrigin="anonymous",this.N.autoplay=!1,this.N.src=a.Va.src,f=!0);f&&this.N.addEventListener("ended",function(){J=e.tag;e.hd=!0;w.trigger(od.prototype.aa.wk,A)});break;case 1:this.Wb=b();this.Wb.connect(c(d));1===this.buffer.Ha?a.Va&&(this.N=F.createBufferSource(),this.N.buffer=
a.Va,this.N.connect(this.Wb)):(this.N=this.buffer.Va,this.buffer.no.connect(this.Wb),this.buffer.Ak||(this.buffer.Ak=!0,this.buffer.Va.addEventListener("ended",function(){J=e.tag;e.hd=!0;w.trigger(od.prototype.aa.wk,A)})));break;case 2:this.N=new window.Media(V+this.src,null,null,function(a){a===window.Media.MEDIA_STOPPED&&(e.Sh=!0,e.hd=!0,J=e.tag,w.trigger(od.prototype.aa.wk,A))});break;case 3:this.N=!0}}function E(a,b){ba.hasOwnProperty(a)?ba[a].push(b):ba[a]=[b];var c,d,e,f,g=F.destination;if(ba.hasOwnProperty(a)&&
(e=ba[a],e.length))for(g=e[0].Nd(),c=0,d=e.length;c<d;c++)f=e[c],c+1===d?f.de(F.destination):f.de(e[c+1].Nd());H(rb);if(a.length)for(c=0,d=G.length;c<d;c++)e=G[c],Sb(a,e.tag)&&rb.push(e);else ja&&!ja.nh()&&(H(rb),rb[0]=ja);c=0;for(d=rb.length;c<d;c++)rb[c].sw(g);Ja&&Jc===a&&(Ja.disconnect(),Ja.connect(g))}function B(){}var y=od.prototype;y.Tc=function(a){this.Eb=a;this.g=a.g};y.Tc.prototype.ub=function(){};var w=null,A=null,J="",V="",O=0,F=null,P=[],G=[],ja=null,ka=!1,U=0,L=!1,M=1,T=0,K=0,N=!1,Y=
1,Da=1,X=10,Ia=1E4,va=1,Ja=null,Jc="",Ka=!1,lb=[],la=!1,ba={},bc="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");g.prototype.de=function(a){this.ra.disconnect();this.ra.connect(a);this.ma.disconnect();this.ma.connect(a)};g.prototype.remove=function(){this.Ma.disconnect();this.Pb.disconnect();this.ra.disconnect();this.ma.disconnect()};g.prototype.Nd=function(){return this.Ma};l.prototype.de=function(a){this.ra.disconnect();this.ra.connect(a);this.ma.disconnect();this.ma.connect(a)};
l.prototype.remove=function(){this.Ma.disconnect();this.Pj.disconnect();this.he.disconnect();this.Ok.disconnect();this.ra.disconnect();this.ma.disconnect()};l.prototype.Nd=function(){return this.Ma};m.prototype.de=function(a){this.ra.disconnect();this.ra.connect(a);this.ma.disconnect();this.ma.connect(a)};m.prototype.remove=function(){this.Ma.disconnect();this.bh.disconnect();this.ra.disconnect();this.ma.disconnect()};m.prototype.Nd=function(){return this.Ma};k.prototype.de=function(a){this.ma.disconnect();
this.ma.connect(a);this.ra.disconnect();this.ra.connect(a)};k.prototype.remove=function(){this.Ma.disconnect();this.he.disconnect();this.lc.disconnect();this.Bd.disconnect();this.ma.disconnect();this.ra.disconnect();this.Xk.disconnect()};k.prototype.Nd=function(){return this.Ma};n.prototype.de=function(a){this.ma.disconnect();this.ma.connect(a);this.ra.disconnect();this.ra.connect(a)};n.prototype.remove=function(){this.Ma.disconnect();this.Pb.disconnect();this.lc.disconnect();this.Bd.disconnect();
this.ma.disconnect();this.ra.disconnect()};n.prototype.Nd=function(){return this.Ma};p.prototype.de=function(a){this.Ta.disconnect();this.Ta.connect(a)};p.prototype.remove=function(){this.Ta.disconnect()};p.prototype.Nd=function(){return this.Ta};q.prototype.de=function(a){this.Ta.disconnect();this.Ta.connect(a)};q.prototype.remove=function(){this.lc.disconnect();this.Bd.disconnect();this.Ta.disconnect()};q.prototype.Nd=function(){return this.Ta};v.prototype.de=function(a){this.ra.disconnect();this.ra.connect(a);
this.ma.disconnect();this.ma.connect(a)};v.prototype.remove=function(){this.lc.disconnect();this.dk.disconnect();this.Ma.disconnect();this.ra.disconnect();this.ma.disconnect()};v.prototype.Nd=function(){return this.Ma};r.prototype.Hw=function(a,b){.01>a&&(a=.01);this.Nl.gain.value=a;this.Ml.gain.value=Math.pow(1/a,.6)*b};r.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/d)*(a-b)));return b*c};r.prototype.Xu=function(a,b){for(var c=Math.pow(10,a/20),
d=Math.pow(10,b/20),e=0,f=0;32768>f;++f)e=f/32768,e=this.shape(e,c,d),this.Mk[32768+f]=e,this.Mk[32768-f-1]=-e};r.prototype.de=function(a){this.ra.disconnect();this.ra.connect(a);this.ma.disconnect();this.ma.connect(a)};r.prototype.remove=function(){this.Ma.disconnect();this.Nl.disconnect();this.lm.disconnect();this.Ml.disconnect();this.ra.disconnect();this.ma.disconnect()};r.prototype.Nd=function(){return this.Ma};u.prototype.de=function(a){this.Ta.disconnect();this.Ta.connect(a)};u.prototype.remove=
function(){this.Ta.disconnect()};u.prototype.Nd=function(){return this.Ta};t.prototype.Jc=function(){this.Ta.getFloatFrequencyData(this.Vu);this.Ta.getByteTimeDomainData(this.js);for(var b=this.Ta.fftSize,c=0,d=this.Wj=0,e=0;c<b;c++)e=(this.js[c]-128)/128,0>e&&(e=-e),this.Wj<e&&(this.Wj=e),d+=e*e;this.Wj=a(this.Wj);a(Math.sqrt(d/b))};t.prototype.de=function(a){this.Ta.disconnect();this.Ta.connect(a)};t.prototype.remove=function(){this.Ta.disconnect()};t.prototype.Nd=function(){return this.Ta};z.prototype.ek=
function(a){if(this.qa=a)this.pl=this.qa.x,this.ql=this.qa.y;H(this.Mg)};z.prototype.hl=function(){return!!this.qa};z.prototype.Jc=function(a){this.qa&&0!==a&&(this.co=bb(this.pl,this.ql,this.qa.x,this.qa.y),a=ob(this.pl,this.ql,this.qa.x,this.qa.y)/a,4>this.Mg.length||this.Mg.shift(),this.Mg.push(a),this.pl=this.qa.x,this.ql=this.qa.y)};z.prototype.nq=function(){if(!this.Mg.length)return 0;var a,b,c=0;a=0;for(b=this.Mg.length;a<b;a++)c+=this.Mg[a];return c/this.Mg.length};z.prototype.qn=function(){return Math.cos(this.co)*
this.nq()};z.prototype.rn=function(){return Math.sin(this.co)*this.nq()};var Ob=!1;D.prototype.uw=function(){var a,b,c,d;c=a=0;for(b=G.length;a<b;++a)d=G[a],G[c]=d,d.buffer===this?d.stop():++c;G.length=c;this.uf=this.Va=null};D.prototype.Tp=function(){if(!this.Va&&this.uf){var a=this;if(F.decodeAudioData)F.decodeAudioData(this.uf,function(b){a.Va=b;a.uf=null;var c,d,e;if(ia(a.Kl)||L)ia(a.Hk)||(c=a.Hk.bh,c.normalize=a.lr,c.buffer=b);else if(a.qi.length){c=0;for(d=a.qi.length;c<d;c++){b=a.qi[c];e=new C(a,
b.ts);e.bs(!0);if("undefined"!==typeof b.nr&&(b.qa=w.wg(b.nr),!b.qa))continue;if(b.qa){var f=nb(b.qa.x,b.qa.y,-b.qa.V.Xb(),T,K,!0),g=nb(b.qa.x,b.qa.y,-b.qa.V.Xb(),T,K,!1);e.Ko(f,g,Ta(b.qa.O-b.qa.V.Xb()),b.yn,b.fo,b.io);e.ek(b.qa)}else e.Ko(b.x,b.y,b.K,b.yn,b.fo,b.io);e.play(a.$n,a.ep,a.Sl);a.Il&&e.pause();G.push(e)}H(a.qi)}else e=new C(a,a.Kl||""),e.play(a.$n,a.ep,a.Sl),a.Il&&e.pause(),G.push(e)},function(){a.Vk=!0});else if(this.Va=F.createBuffer(this.uf,!1),this.uf=null,ia(this.Kl)||L)ia(this.Hk)||
(b=this.Hk.bh,b.normalize=this.lr,b.buffer=this.Va);else{var b=new C(this,this.Kl);b.play(this.$n,this.ep,this.Sl);this.Il&&b.pause();G.push(b)}}};D.prototype.yq=function(){switch(this.Ha){case 0:var a=4<=this.Va.readyState;a&&(this.fp=!0);return a||this.fp;case 1:return!!this.uf||!!this.Va;case 2:return!0;case 3:return!0}return!1};D.prototype.Kv=function(){switch(this.Ha){case 0:return this.yq();case 1:return!!this.Va;case 2:return!0;case 3:return!0}return!1};D.prototype.Cv=function(){switch(this.Ha){case 0:return!!this.Va.error;
case 1:return this.Vk}return!1};C.prototype.nh=function(){switch(this.Ha){case 0:return this.N.ended;case 1:return 1===this.buffer.Ha?!this.cf&&!this.hd&&this.N.loop||this.xd?!1:this.Sh:this.N.ended;case 2:return this.Sh;case 3:!0}return!0};C.prototype.Bt=function(){return this.cf||this.hd?!0:this.nh()};C.prototype.bs=function(a){1===O&&(!this.kf&&a?this.Wb&&(this.Mb||(this.Mb=F.createPanner(),this.Mb.panningModel="number"===typeof this.Mb.panningModel?Y:["equalpower","HRTF","soundfield"][Y],this.Mb.distanceModel=
"number"===typeof this.Mb.distanceModel?Da:["linear","inverse","exponential"][Da],this.Mb.refDistance=X,this.Mb.maxDistance=Ia,this.Mb.rolloffFactor=va),this.Wb.disconnect(),this.Wb.connect(this.Mb),this.Mb.connect(c(this.tag)),this.kf=!0):this.kf&&!a&&this.Wb&&(this.Mb.disconnect(),this.Wb.disconnect(),this.Wb.connect(c(this.tag)),this.kf=!1))};C.prototype.Ko=function(a,b,c,d,e,f){this.kf&&1===O&&(this.Mb.setPosition(a,b,0),this.Mb.setOrientation(Math.cos(Sa(c)),Math.sin(Sa(c)),0),this.Mb.coneInnerAngle=
d,this.Mb.coneOuterAngle=e,this.Mb.coneOuterGain=f,this.Ar=a,this.Br=b,this.ur=c,this.wr=d,this.xr=e,this.yr=f)};C.prototype.ek=function(a){this.kf&&1===O&&(this.Lb||(this.Lb=new z),this.Lb.ek(a))};C.prototype.Jc=function(a){if(this.kf&&1===O&&this.Lb&&this.Lb.hl()&&this.wj()){this.Lb.Jc(a);a=this.Lb.qa;var b=nb(a.x,a.y,-a.V.Xb(),T,K,!0),c=nb(a.x,a.y,-a.V.Xb(),T,K,!1);this.Mb.setPosition(b,c,0);b=0;"undefined"!==typeof this.Lb.qa.O&&(b=a.O-a.V.Xb(),this.Mb.setOrientation(Math.cos(b),Math.sin(b),0));
b=nb(this.Lb.qn(),this.Lb.rn(),-a.V.Xb(),0,0,!0);c=nb(this.Lb.qn(),this.Lb.rn(),-a.V.Xb(),0,0,!1);this.Mb.setVelocity(b,c,0)}};C.prototype.play=function(a,b,c,d){var e=this.N;this.jf=a;this.volume=b;c=c||0;d=d||0;switch(this.Ha){case 0:1!==e.playbackRate&&(e.playbackRate=1);e.volume!==b*M&&(e.volume=b*M);e.loop!==a&&(e.loop=a);e.muted&&(e.muted=!1);if(e.currentTime!==c)try{e.currentTime=c}catch(g){}if(this.ke&&Ka&&!w.vd)lb.push(this);else try{this.N.play()}catch(k){console&&console.log&&console.log("[C2] WARNING: exception trying to play audio '"+
this.buffer.src+"': ",k)}break;case 1:this.muted=!1;this.ki=1;if(1===this.buffer.Ha)this.Wb.gain.value=b*M,this.cf||(this.N=F.createBufferSource(),this.N.buffer=this.buffer.Va,this.N.connect(this.Wb)),this.N.onended=this.lo,this.zk=this.N,this.N.loop=a,this.Sh=!1,0===c?f(this.N,d):h(this.N,c,this.lh(),d);else{1!==e.playbackRate&&(e.playbackRate=1);e.loop!==a&&(e.loop=a);e.volume=b*M;if(e.currentTime!==c)try{e.currentTime=c}catch(l){}this.ke&&Ka&&!w.vd?lb.push(this):e.play()}break;case 2:(!this.cf&&
this.hd||0!==c)&&e.seekTo(c);e.play();this.Sh=!1;break;case 3:w.dd?AppMobi.context.playSound(this.src,a):AppMobi.player.playSound(this.src,a)}this.playbackRate=1;this.startTime=(this.Vh?w.vc.Oa:w.Zf.Oa)-c;this.xd=this.hd=this.cf=!1};C.prototype.stop=function(){switch(this.Ha){case 0:this.N.paused||this.N.pause();break;case 1:1===this.buffer.Ha?e(this.N):this.N.paused||this.N.pause();break;case 2:this.N.stop();break;case 3:w.dd&&AppMobi.context.stopSound(this.src)}this.hd=!0;this.xd=!1};C.prototype.pause=
function(){if(!(this.cf||this.hd||this.nh()||this.xd)){switch(this.Ha){case 0:this.N.paused||this.N.pause();break;case 1:1===this.buffer.Ha?(this.gd=this.mn(!0),this.jf&&(this.gd=this.gd%this.lh()),this.xd=!0,e(this.N)):this.N.paused||this.N.pause();break;case 2:this.N.pause();break;case 3:w.dd&&AppMobi.context.stopSound(this.src)}this.xd=!0}};C.prototype.yw=function(){if(!(this.cf||this.hd||this.nh())&&this.xd){switch(this.Ha){case 0:this.N.play();break;case 1:1===this.buffer.Ha?(this.N=F.createBufferSource(),
this.N.buffer=this.buffer.Va,this.N.connect(this.Wb),this.N.onended=this.lo,this.zk=this.N,this.N.loop=this.jf,this.Wb.gain.value=M*this.volume*this.ki,this.hm(),this.startTime=(this.Vh?w.vc.Oa:w.Zf.Oa)-this.gd/(this.playbackRate||.001),h(this.N,this.gd,this.lh())):this.N.play();break;case 2:this.N.play();break;case 3:w.dd&&AppMobi.context.resumeSound(this.src)}this.xd=!1}};C.prototype.seek=function(a){if(!(this.cf||this.hd||this.nh()))switch(this.Ha){case 0:try{this.N.currentTime=a}catch(b){}break;
case 1:if(1===this.buffer.Ha)this.xd?this.gd=a:(this.pause(),this.gd=a,this.yw());else try{this.N.currentTime=a}catch(c){}break;case 3:w.dd&&AppMobi.context.seekSound(this.src,a)}};C.prototype.sw=function(a){1===this.Ha&&(this.kf?(this.Mb.disconnect(),this.Mb.connect(a)):(this.Wb.disconnect(),this.Wb.connect(a)))};C.prototype.lh=function(){var a=0;switch(this.Ha){case 0:"undefined"!==typeof this.N.duration&&(a=this.N.duration);break;case 1:a=this.buffer.Va.duration;break;case 2:a=this.N.getDuration();
break;case 3:w.dd&&(a=AppMobi.context.getDurationSound(this.src))}return a};C.prototype.mn=function(a){var b=this.lh(),c=0;switch(this.Ha){case 0:"undefined"!==typeof this.N.currentTime&&(c=this.N.currentTime);break;case 1:if(1===this.buffer.Ha){if(this.xd)return this.gd;c=(this.Vh?w.vc.Oa:w.Zf.Oa)-this.startTime}else"undefined"!==typeof this.N.currentTime&&(c=this.N.currentTime);break;case 3:w.dd&&(c=AppMobi.context.getPlaybackTimeSound(this.src))}a&&(c*=this.playbackRate);!this.jf&&c>b&&(c=b);return c};
C.prototype.wj=function(){return!this.xd&&!this.cf&&!this.hd&&!this.nh()};C.prototype.Ow=function(){return!this.cf&&!this.hd&&!this.nh()};C.prototype.Zw=function(){var a=this.volume*M;isFinite(a)||(a=0);switch(this.Ha){case 0:"undefined"!==typeof this.N.volume&&this.N.volume!==a&&(this.N.volume=a);break;case 1:1===this.buffer.Ha?this.Wb.gain.value=a*this.ki:"undefined"!==typeof this.N.volume&&this.N.volume!==a&&(this.N.volume=a)}};C.prototype.Sk=function(a){switch(this.Ha){case 0:this.N.muted!==!!a&&
(this.N.muted=!!a);break;case 1:1===this.buffer.Ha?(this.ki=a?0:1,this.Wb.gain.value=M*this.volume*this.ki):this.N.muted!==!!a&&(this.N.muted=!!a)}};C.prototype.Jw=function(){this.Yh=!0;this.Sk(this.Yh||this.zj)};C.prototype.cs=function(a){this.zj=!!a;this.Sk(this.Yh||this.zj)};C.prototype.hm=function(){var a=this.playbackRate;this.Vh&&(a*=w.Vf);switch(this.Ha){case 0:this.N.playbackRate!==a&&(this.N.playbackRate=a);break;case 1:1===this.buffer.Ha?this.N.playbackRate.value!==a&&(this.N.playbackRate.value=
a):this.N.playbackRate!==a&&(this.N.playbackRate=a)}};C.prototype.Lw=function(a){switch(this.Ha){case 0:a?this.wj()?(this.Td=!0,this.N.pause()):this.Td=!1:this.Td&&(this.N.play(),this.Td=!1);break;case 1:a?this.wj()?(this.Td=!0,1===this.buffer.Ha?(this.gd=this.mn(!0),this.jf&&(this.gd=this.gd%this.lh()),e(this.N)):this.N.pause()):this.Td=!1:this.Td&&(1===this.buffer.Ha?(this.N=F.createBufferSource(),this.N.buffer=this.buffer.Va,this.N.connect(this.Wb),this.N.onended=this.lo,this.zk=this.N,this.N.loop=
this.jf,this.Wb.gain.value=M*this.volume*this.ki,this.hm(),this.startTime=(this.Vh?w.vc.Oa:w.Zf.Oa)-this.gd/(this.playbackRate||.001),h(this.N,this.gd,this.lh())):this.N.play(),this.Td=!1);break;case 2:a?this.wj()?(this.N.pause(),this.Td=!0):this.Td=!1:this.Td&&(this.Td=!1,this.N.play())}};y.oc=function(a){function b(){if(!N&&F.createBuffer){var a=F.createBuffer(1,220,22050),c=F.createBufferSource();c.buffer=a;c.connect(F.destination);f(c)}}this.type=a;w=this.g=a.g;A=this;this.Oc=null;this.Hj=-600;
this.g.yj&&(la=!0);!(this.g.Bj||this.g.il&&(this.g.qj||this.g.jl))||this.g.rj||this.g.uc||this.g.Gn||la||(Ka=!0);F=null;"undefined"!==typeof AudioContext?(O=1,F=new AudioContext):"undefined"!==typeof webkitAudioContext&&(O=1,F=new webkitAudioContext);this.g.Bj&&F&&(F.close&&F.close(),"undefined"!==typeof AudioContext?F=new AudioContext:"undefined"!==typeof webkitAudioContext&&(F=new webkitAudioContext));Ka?document.addEventListener("touchend",function(){!Ob&&F&&(b(),Ob=!0);var a,c,d;if(Ka){if(!L)for(a=
0,c=lb.length;a<c;++a)d=lb[a],d.hd||d.xd||d.N.play();H(lb)}},!0):la&&document.addEventListener("touchend",function(){!Ob&&F&&(b(),Ob=!0)},!0);1!==O&&(this.g.gf&&"undefined"!==typeof window.Media?O=2:this.g.xq&&(O=3));2===O&&(V=location.href,a=V.lastIndexOf("/"),-1<a&&(V=V.substr(0,a+1)),V=V.replace("file://",""));if(this.g.Lv&&this.g.Mv&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.g.Rg(this);
else{if(this.g.dd)ka=this.g.il;else try{ka=!!(new Audio).canPlayType('audio/ogg; codecs="vorbis"')}catch(c){ka=!1}this.g.vs(this)}};var wa=y.oc.prototype;wa.ub=function(){this.g.Lh=this;U=this.bb[0];this.Rf=this.bb[1];this.iw=0!==this.bb[2];Y=this.bb[3];Da=this.bb[4];this.Hj=-this.bb[5];X=this.bb[6];Ia=this.bb[7];va=this.bb[8];this.Oc=new z;var a=this.g.ka||this.g.width,b=this.g.ja||this.g.height;1===O&&("undefined"!==typeof F.listener.dopplerFactor&&(F.listener.dopplerFactor=0),F.listener.setPosition(a/
2,b/2,this.Hj),F.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){Ja&&Ja.disconnect();Jc=b.toLowerCase();Ja=F.createMediaStreamSource(a);Ja.connect(c(Jc))});this.g.pt(function(a){A.fw(a)});var d=this;this.g.ym(function(a){d.Uj(a)})};wa.Uj=function(a){var b,c,d;b=0;for(c=G.length;b<c;b++)d=G[b],d.Lb&&d.Lb.qa===a&&(d.Lb.qa=null,d.kf&&d.wj()&&d.jf&&d.stop());this.Oc.qa===a&&(this.Oc.qa=null)};wa.Dd=function(){var a={silent:L,masterVolume:M,listenerZ:this.Hj,listenerUid:this.Oc.hl()?
this.Oc.qa.uid:-1,playing:[],effects:{}},b=a.playing,c,d,e,f,g,h;c=0;for(d=G.length;c<d;c++)e=G[c],!e.Ow()||3===this.Rf||e.ke&&1===this.Rf||!e.ke&&2===this.Rf||(f=e.mn(),e.jf&&(f=f%e.lh()),f={tag:e.tag,buffersrc:e.buffer.src,is_music:e.ke,playbackTime:f,volume:e.volume,looping:e.jf,muted:e.Yh,playbackRate:e.playbackRate,paused:e.xd,resume_position:e.gd},e.kf&&(f.pan={},h=f.pan,e.Lb&&e.Lb.hl()?h.objUid=e.Lb.qa.uid:(h.x=e.Ar,h.y=e.Br,h.a=e.ur),h.ia=e.wr,h.oa=e.xr,h.og=e.yr),b.push(f));b=a.effects;for(g in ba)if(ba.hasOwnProperty(g)){e=
[];c=0;for(d=ba[g].length;c<d;c++)e.push({type:ba[g][c].type,params:ba[g][c].Db});b[g]=e}return a};var Bb=[];wa.me=function(a){var b=a.silent;M=a.masterVolume;this.Hj=a.listenerZ;this.Oc.ek(null);var c=a.listenerUid;-1!==c&&(this.Oc.yl=c,Bb.push(this.Oc));var c=a.playing,d,e,f,h,w,A,C,D,B,y,F;if(3!==this.Rf)for(d=0,e=G.length;d<e;d++)B=G[d],B.ke&&1===this.Rf||(B.ke||2!==this.Rf)&&B.stop();for(w in ba)if(ba.hasOwnProperty(w))for(d=0,e=ba[w].length;d<e;d++)ba[w][d].remove();ub(ba);for(w in a.effects)if(a.effects.hasOwnProperty(w))for(A=
a.effects[w],d=0,e=A.length;d<e;d++)switch(f=A[d].type,y=A[d].params,f){case "filter":E(w,new g(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "delay":E(w,new l(y[0],y[1],y[2]));break;case "convolve":f=y[2];B=this.bl(f,!1);B.Va?f=new m(B.Va,y[0],y[1],f):(f=new m(null,y[0],y[1],f),B.lr=y[0],B.Hk=f);E(w,f);break;case "flanger":E(w,new k(y[0],y[1],y[2],y[3],y[4]));break;case "phaser":E(w,new n(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "gain":E(w,new p(y[0]));break;case "tremolo":E(w,new q(y[0],y[1]));break;
case "ringmod":E(w,new v(y[0],y[1]));break;case "distortion":E(w,new r(y[0],y[1],y[2],y[3],y[4]));break;case "compressor":E(w,new u(y[0],y[1],y[2],y[3],y[4]));break;case "analyser":E(w,new t(y[0],y[1]))}d=0;for(e=c.length;d<e;d++)3===this.Rf||(a=c[d],f=a.buffersrc,h=a.is_music,w=a.tag,A=a.playbackTime,C=a.looping,D=a.volume,F=(y=a.pan)&&y.hasOwnProperty("objUid")?y.objUid:-1,h&&1===this.Rf)||!h&&2===this.Rf||((B=this.Zu(f,w,h,C,D))?(B.gd=a.resume_position,B.bs(!!y),B.play(C,D,A),B.hm(),B.Zw(),B.Sk(B.Yh||
B.zj),a.paused&&B.pause(),a.muted&&B.Jw(),B.Sk(B.Yh||B.zj),y&&(-1!==F?(B.Lb=B.Lb||new z,B.Lb.yl=F,Bb.push(B.Lb)):B.Ko(y.x,y.y,y.a,y.ia,y.oa,y.og))):(B=this.bl(f,h),B.Sl=A,B.Il=a.paused,y&&(-1!==F?B.qi.push({nr:F,yn:y.ia,fo:y.oa,io:y.og,ts:w}):B.qi.push({x:y.x,y:y.y,K:y.a,yn:y.ia,fo:y.oa,io:y.og,ts:w}))));if(b&&!L){d=0;for(e=G.length;d<e;d++)G[d].cs(!0);L=!0}else if(!b&&L){d=0;for(e=G.length;d<e;d++)G[d].cs(!1);L=!1}};wa.ze=function(){var a,b,c,d;a=0;for(b=Bb.length;a<b;a++)c=Bb[a],d=this.g.wg(c.yl),
c.ek(d),c.yl=-1,d&&(T=d.x,K=d.y);H(Bb)};wa.fw=function(a){if(!this.iw){!a&&F&&F.resume&&(F.resume(),N=!1);var b,c;b=0;for(c=G.length;b<c;b++)G[b].Lw(a);a&&F&&F.suspend&&(F.suspend(),N=!0)}};wa.Jc=function(){var a=this.g.xa,b,c,d;b=0;for(c=G.length;b<c;b++)d=G[b],d.Jc(a),0!==U&&d.hm();var e,f;for(e in ba)if(ba.hasOwnProperty(e))for(d=ba[e],b=0,c=d.length;b<c;b++)f=d[b],f.Jc&&f.Jc();1===O&&this.Oc.hl()&&(this.Oc.Jc(a),T=this.Oc.qa.x,K=this.Oc.qa.y,F.listener.setPosition(this.Oc.qa.x,this.Oc.qa.y,this.Hj),
F.listener.setVelocity(this.Oc.qn(),this.Oc.rn(),0))};var sb=[];wa.Kw=function(a){var b,c,d,e,f,g=0;b=0;for(c=a.length;b<c;++b)if(d=a[b],e=d[0],d=2*d[1],(f=4<e.length&&".ogg"===e.substr(e.length-4))&&ka||!f&&!ka)sb.push({filename:e,size:d,qa:null}),g+=d;return g};wa.Qw=function(){var a,b,c,d;a=0;for(b=sb.length;a<b;++a)c=sb[a],d=this.g.cq+c.filename,c.qa=this.bl(d,!1)};wa.iv=function(){var a=0,b,c,d;b=0;for(c=sb.length;b<c;++b)d=sb[b],d.qa.Kv()||d.qa.Cv()||this.g.uc||this.g.jl?a+=d.size:d.qa.yq()&&
(a+=Math.floor(d.size/2));return a};wa.vw=function(){var a,b,c,d;c=a=0;for(b=P.length;a<b;++a)d=P[a],P[c]=d,d.ke?d.uw():++c;P.length=c};wa.bl=function(a,b){var c,d,e,f=null;c=0;for(d=P.length;c<d;c++)if(e=P[c],e.src===a){f=e;break}f||(la&&b&&this.vw(),f=new D(a,b),P.push(f));return f};wa.Zu=function(a,b,c,d,e){var f,g,h;f=0;for(g=G.length;f<g;f++)if(h=G[f],h.src===a&&(h.Bt()||c))return h.tag=b,h;a=this.bl(a,c);if(!a.Va)return"<preload>"!==b&&(a.Kl=b,a.$n=d,a.ep=e),null;h=new C(a,b);G.push(h);return h};
var rb=[];B.prototype.wk=function(a){return Sb(J,a)};y.aa=new B;y.qc=new function(){};y.Mc=new function(){}})();function pd(a){this.g=a}
(function(){function a(){}var c=pd.prototype;c.Tc=function(a){this.Eb=a;this.g=a.g};c.Tc.prototype.ub=function(){};c.oc=function(a){this.type=a;this.g=a.g;this.Dj=Array(256);this.nk=Array(256);this.Xf=0};var b=c.oc.prototype;b.ub=function(){var a=this;this.g.uc||(jQuery(document).keydown(function(b){a.$v(b)}),jQuery(document).keyup(function(b){a.aw(b)}))};var d=[32,33,34,35,36,37,38,39,40,44];b.$v=function(a){var b=!1;window!=window.top&&-1<d.indexOf(a.which)&&(a.preventDefault(),b=!0,a.stopPropagation());
if(this.Dj[a.which])this.nk[a.which]&&!b&&a.preventDefault();else{this.Dj[a.which]=!0;this.Xf=a.which;this.g.vd=!0;this.g.trigger(pd.prototype.aa.Zs,this);var c=this.g.trigger(pd.prototype.aa.ct,this),g=this.g.trigger(pd.prototype.aa.dt,this);this.g.vd=!1;if(c||g)this.nk[a.which]=!0,b||a.preventDefault()}};b.aw=function(a){this.Dj[a.which]=!1;this.Xf=a.which;this.g.vd=!0;this.g.trigger(pd.prototype.aa.ip,this);var b=this.g.trigger(pd.prototype.aa.lp,this),c=this.g.trigger(pd.prototype.aa.kp,this);
this.g.vd=!1;if(b||c||this.nk[a.which])this.nk[a.which]=!0,a.preventDefault()};b.pi=function(){var a;for(a=0;256>a;++a)if(this.Dj[a]){this.Dj[a]=!1;this.Xf=a;this.g.trigger(pd.prototype.aa.ip,this);var b=this.g.trigger(pd.prototype.aa.lp,this),c=this.g.trigger(pd.prototype.aa.kp,this);if(b||c)this.nk[a]=!0}};b.Dd=function(){return{triggerKey:this.Xf}};b.me=function(a){this.Xf=a.triggerKey};a.prototype.ct=function(a){return a===this.Xf};a.prototype.Zs=function(){return!0};a.prototype.ip=function(){return!0};
a.prototype.lp=function(a){return a===this.Xf};a.prototype.dt=function(a){return a===this.Xf};a.prototype.kp=function(a){return a===this.Xf};c.aa=new a;c.qc=new function(){};c.Mc=new function(){}})();function qd(a){this.g=a}
(function(){function a(){}function c(){}var b=qd.prototype;b.Tc=function(a){this.Eb=a;this.g=a.g};b.Tc.prototype.ub=function(){};b.oc=function(a){this.type=a;this.g=a.g;this.Em=Array(4);this.xs=this.em=this.Ei=this.Gg=this.Fg=0;this.un=!1};var d=b.oc.prototype;d.ub=function(){var a=this;if(!this.g.uc){jQuery(document).mousemove(function(b){a.cw(b)});jQuery(document).mousedown(function(b){a.bw(b)});jQuery(document).mouseup(function(b){a.dw(b)});jQuery(document).dblclick(function(b){a.Zv(b)});var b=
function(b){a.gw(b)};document.addEventListener("mousewheel",b,!1);document.addEventListener("DOMMouseScroll",b,!1)}};var f={left:0,top:0};d.cw=function(a){var b=this.g.uc?f:jQuery(this.g.canvas).offset();this.Fg=a.pageX-b.left;this.Gg=a.pageY-b.top};d.hr=function(){return 0<this.g.$c?!0:0<=this.Fg&&0<=this.Gg&&this.Fg<this.g.width&&this.Gg<this.g.height};d.bw=function(a){this.hr()&&(this.Em[a.which]=!0,this.g.vd=!0,this.g.trigger(qd.prototype.aa.Ys,this),this.Ei=a.which-1,this.em=0,this.g.trigger(qd.prototype.aa.jp,
this),this.g.trigger(qd.prototype.aa.um,this),this.g.vd=!1)};d.dw=function(a){this.Em[a.which]&&(this.g.oq&&!this.g.Th&&a.preventDefault(),this.g.oq=!0,this.Em[a.which]=!1,this.g.vd=!0,this.Ei=a.which-1,this.g.trigger(qd.prototype.aa.gt,this),this.g.vd=!1)};d.Zv=function(a){this.hr()&&(a.preventDefault(),this.g.vd=!0,this.Ei=a.which-1,this.em=1,this.g.trigger(qd.prototype.aa.jp,this),this.g.trigger(qd.prototype.aa.um,this),this.g.vd=!1)};d.gw=function(a){this.xs=0>(a.wheelDelta?a.wheelDelta:a.detail?
-a.detail:0)?0:1;this.un=!1;this.g.vd=!0;this.g.trigger(qd.prototype.aa.ht,this);this.g.vd=!1;this.un&&Tb(a)&&a.preventDefault()};a.prototype.jp=function(a,b){return a===this.Ei&&b===this.em};a.prototype.Ys=function(){return!0};a.prototype.gt=function(a){return a===this.Ei};a.prototype.um=function(a,b,c){return a!==this.Ei||b!==this.em?!1:this.g.Uw(c,this.Fg,this.Gg)};a.prototype.ht=function(a){this.un=!0;return a===this.xs};b.aa=new a;b.qc=new function(){};c.prototype.rp=function(a,b){var c,d,f,
k,n;ia(b)?(c=this.g.ij(0),d=c.scale,f=c.bg,k=c.Kf,n=c.O,c.scale=1,c.bg=1,c.Kf=1,c.O=0,a.la(c.Lc(this.Fg,this.Gg,!0)),c.scale=d,c.bg=f,c.Kf=k,c.O=n):(c=ma(b)?this.g.ij(b):this.g.ln(b))?a.la(c.Lc(this.Fg,this.Gg,!0)):a.la(0)};c.prototype.sp=function(a,b){var c,d,f,k,n;ia(b)?(c=this.g.ij(0),d=c.scale,f=c.bg,k=c.Lf,n=c.O,c.scale=1,c.bg=1,c.Lf=1,c.O=0,a.la(c.Lc(this.Fg,this.Gg,!1)),c.scale=d,c.bg=f,c.Lf=k,c.O=n):(c=ma(b)?this.g.ij(b):this.g.ln(b))?a.la(c.Lc(this.Fg,this.Gg,!1)):a.la(0)};b.Mc=new c})();
function nd(a){this.g=a}
(function(){function a(){if(0===this.Um.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.Bi?b.drawImage(this.Ia,this.mi,this.ni,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Ia,0,0,this.width,this.height);this.Um=a.toDataURL("image/png")}return this.Um}function c(){}var b=nd.prototype;b.Tc=function(a){this.Eb=a;this.g=a.g};var d=b.Tc.prototype;d.ub=function(){if(!this.va){var b,c,d,e,f,g,h,r,u;this.Ae=[];this.nj=
!1;b=0;for(c=this.rd.length;b<c;b++){f=this.rd[b];h={};h.name=f[0];h.speed=f[1];h.loop=f[2];h.Co=f[3];h.Do=f[4];h.Fr=f[5];h.La=f[6];h.frames=[];d=0;for(e=f[7].length;d<e;d++)g=f[7][d],r={},r.Oo=g[0],r.Po=g[1],r.mi=g[2],r.ni=g[3],r.width=g[4],r.height=g[5],r.duration=g[6],r.bd=g[7],r.cd=g[8],r.zn=g[9],r.Ll=g[10],r.Gr=g[11],r.Bi=0!==r.width,r.Um="",r.uy=a,u={left:0,top:0,right:1,bottom:1},r.Lo=u,r.lb=null,(u=this.g.Tu(g[0]))?r.Ia=u:(r.Ia=new Image,r.Ia.Gt=g[0],r.Ia.Pp=g[1],r.Ia.At=null,this.g.Is(r.Ia,
g[0])),h.frames.push(r),this.Ae.push(r);this.rd[b]=h}}};d.Fs=function(){var a,b,c;a=0;for(b=this.C.length;a<b;a++)c=this.C[a],c.Kk=c.rc.lb};d.jo=function(){if(!this.va){var a,b,c;a=0;for(b=this.Ae.length;a<b;++a)c=this.Ae[a],c.Ia.At=null,c.lb=null;this.nj=!1;this.Fs()}};d.ko=function(){if(!this.va&&this.C.length){var a,b,c;a=0;for(b=this.Ae.length;a<b;++a)c=this.Ae[a],c.lb=this.g.ba.xl(c.Ia,!1,this.g.Ja,c.Gr);this.Fs()}};d.Vn=function(){if(!this.va&&!this.nj&&this.g.ba){var a,b,c;a=0;for(b=this.Ae.length;a<
b;++a)c=this.Ae[a],c.lb=this.g.ba.xl(c.Ia,!1,this.g.Ja,c.Gr);this.nj=!0}};d.Yo=function(){if(!this.va&&!this.C.length&&this.nj){var a,b,c;a=0;for(b=this.Ae.length;a<b;++a)c=this.Ae[a],this.g.ba.deleteTexture(c.lb),c.lb=null;this.nj=!1}};var f=[];d.ro=function(a){var b,c,d;H(f);b=0;for(c=this.Ae.length;b<c;++b)d=this.Ae[b].Ia,-1===f.indexOf(d)&&(a.drawImage(d,0,0),f.push(d))};b.oc=function(a){this.type=a;this.g=a.g;a=this.type.rd[0].frames[0].Ll;this.se?this.Yc.gk(a):this.Yc=new Lb(a)};var h=b.oc.prototype;
h.ub=function(){this.visible=0===this.bb[0];this.ah=0!==this.bb[3];this.ab=this.hq(this.bb[1])||this.type.rd[0];this.da=this.bb[2];0>this.da&&(this.da=0);this.da>=this.ab.frames.length&&(this.da=this.ab.frames.length-1);var a=this.ab.frames[this.da];this.Yc.gk(a.Ll);this.bd=a.bd;this.cd=a.cd;this.Nh=this.ab.speed;this.qg=this.ab.Do;1===this.type.rd.length&&1===this.type.rd[0].frames.length||0===this.Nh||this.g.vs(this);this.se?this.We.reset():this.We=new Jb;this.Af=this.We.Oa;this.Xg=!0;this.tf=0;
this.Wg=!0;this.Mm=this.vp="";this.Ct=0;this.Lm=-1;this.type.Vn();var b,c,d,e,f,g,h,a=0;for(b=this.type.rd.length;a<b;a++)for(e=this.type.rd[a],c=0,d=e.frames.length;c<d;c++)f=e.frames[c],0===f.width&&(f.width=f.Ia.width,f.height=f.Ia.height),f.Bi&&(h=f.Ia,g=f.Lo,g.left=f.mi/h.width,g.top=f.ni/h.height,g.right=(f.mi+f.width)/h.width,g.bottom=(f.ni+f.height)/h.height,0===f.mi&&0===f.ni&&f.width===h.width&&f.height===h.height&&(f.Bi=!1));this.rc=this.ab.frames[this.da];this.Kk=this.rc.lb};h.Dd=function(){var a=
{a:this.ab.La,f:this.da,cas:this.Nh,fs:this.Af,ar:this.tf,at:this.We.Oa,rt:this.qg};this.Xg||(a.ap=this.Xg);this.Wg||(a.af=this.Wg);return a};h.me=function(a){var b=this.Yu(a.a);b&&(this.ab=b);this.da=a.f;0>this.da&&(this.da=0);this.da>=this.ab.frames.length&&(this.da=this.ab.frames.length-1);this.Nh=a.cas;this.Af=a.fs;this.tf=a.ar;this.We.reset();this.We.Oa=a.at;this.Xg=a.hasOwnProperty("ap")?a.ap:!0;this.Wg=a.hasOwnProperty("af")?a.af:!0;a.hasOwnProperty("rt")?this.qg=a.rt:this.qg=this.ab.Do;this.rc=
this.ab.frames[this.da];this.Kk=this.rc.lb;this.Yc.gk(this.rc.Ll);this.bd=this.rc.bd;this.cd=this.rc.cd};h.Bm=function(a){this.da=a?0:this.ab.frames.length-1;this.Xg=!1;this.vp=this.ab.name;this.g.trigger(nd.prototype.aa.Xs,this);this.g.trigger(nd.prototype.aa.Ws,this);this.tf=0};h.c=function(){return this.We.Oa};h.Jc=function(){this.We.add(this.g.gn(this));this.Mm.length&&this.Mt();0<=this.Lm&&this.Nt();var a=this.We.Oa,b=this.ab,c=b.frames[this.da],d=c.duration/this.Nh;this.Xg&&a>=this.Af+d&&(this.Wg?
this.da++:this.da--,this.Af+=d,this.da>=b.frames.length&&(b.Fr?(this.Wg=!1,this.da=b.frames.length-2):b.loop?this.da=this.qg:(this.tf++,this.tf>=b.Co?this.Bm(!1):this.da=this.qg)),0>this.da&&(b.Fr?(this.da=1,this.Wg=!0,b.loop||(this.tf++,this.tf>=b.Co&&this.Bm(!0))):b.loop?this.da=this.qg:(this.tf++,this.tf>=b.Co?this.Bm(!0):this.da=this.qg)),0>this.da?this.da=0:this.da>=b.frames.length&&(this.da=b.frames.length-1),a>this.Af+b.frames[this.da].duration/this.Nh&&(this.Af=a),a=b.frames[this.da],this.Ih(c,
a),this.g.fb=!0)};h.hq=function(a){var b,c,d;b=0;for(c=this.type.rd.length;b<c;b++)if(d=this.type.rd[b],Sb(d.name,a))return d;return null};h.Yu=function(a){var b,c,d;b=0;for(c=this.type.rd.length;b<c;b++)if(d=this.type.rd[b],d.La===a)return d;return null};h.Mt=function(){var a=this.ab.frames[this.da],b=this.hq(this.Mm);this.Mm="";!b||Sb(b.name,this.ab.name)&&this.Xg||(this.ab=b,this.Nh=b.speed,this.qg=b.Do,0>this.da&&(this.da=0),this.da>=this.ab.frames.length&&(this.da=this.ab.frames.length-1),1===
this.Ct&&(this.da=0),this.Xg=!0,this.Af=this.We.Oa,this.Wg=!0,this.Ih(a,this.ab.frames[this.da]),this.g.fb=!0)};h.Nt=function(){var a=this.ab.frames[this.da],b=this.da;this.da=ua(this.Lm);0>this.da&&(this.da=0);this.da>=this.ab.frames.length&&(this.da=this.ab.frames.length-1);b!==this.da&&(this.Ih(a,this.ab.frames[this.da]),this.Af=this.We.Oa,this.g.fb=!0);this.Lm=-1};h.Ih=function(a,b){var c=a.width,d=a.height,e=b.width,f=b.height;c!=e&&(this.width*=e/c);d!=f&&(this.height*=f/d);this.bd=b.bd;this.cd=
b.cd;this.Yc.gk(b.Ll);this.pb();this.rc=b;this.Kk=b.lb;c=0;for(d=this.ta.length;c<d;c++)e=this.ta[c],e.ew&&e.ew(a,b);this.g.trigger(nd.prototype.aa.Ih,this)};h.sg=function(a){a.globalAlpha=this.opacity;var b=this.rc,c=b.Bi,d=b.Ia,e=this.x,f=this.y,g=this.width,h=this.height;if(0===this.O&&0<=g&&0<=h)e-=this.bd*g,f-=this.cd*h,this.g.Nf&&(e=Math.round(e),f=Math.round(f)),c?a.drawImage(d,b.mi,b.ni,b.width,b.height,e,f,g,h):a.drawImage(d,e,f,g,h);else{this.g.Nf&&(e=Math.round(e),f=Math.round(f));a.save();
var u=0<g?1:-1,t=0<h?1:-1;a.translate(e,f);1===u&&1===t||a.scale(u,t);a.rotate(this.O*u*t);e=0-this.bd*qa(g);f=0-this.cd*qa(h);c?a.drawImage(d,b.mi,b.ni,b.width,b.height,e,f,qa(g),qa(h)):a.drawImage(d,e,f,qa(g),qa(h));a.restore()}};h.eh=function(a){this.Ld(a)};h.Ld=function(a){a.Ud(this.Kk);a.xi(this.opacity);var b=this.rc,c=this.Cc;if(this.g.Nf){var d=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;b.Bi?a.Qf(c.Vd+d,c.Wd+e,c.Xd+d,c.Yd+e,c.Jd+d,c.Kd+e,c.Hd+d,c.Id+e,b.Lo):a.bk(c.Vd+d,c.Wd+e,c.Xd+
d,c.Yd+e,c.Jd+d,c.Kd+e,c.Hd+d,c.Id+e)}else b.Bi?a.Qf(c.Vd,c.Wd,c.Xd,c.Yd,c.Jd,c.Kd,c.Hd,c.Id,b.Lo):a.bk(c.Vd,c.Wd,c.Xd,c.Yd,c.Jd,c.Kd,c.Hd,c.Id)};h.cv=function(a){var b=this.rc,c,d;c=0;for(d=b.zn.length;c<d;c++)if(Sb(a,b.zn[c][0]))return c;return-1};h.df=function(a,b){var c=this.rc,d=c.zn,e;na(a)?e=this.cv(a):e=a-1;e=ua(e);if(0>e||e>=d.length)return b?this.x:this.y;var f=(d[e][1]-c.bd)*this.width,d=d[e][2],d=(d-c.cd)*this.height,c=Math.cos(this.O);e=Math.sin(this.O);var g=f*c-d*e,d=d*c+f*e,f=g+this.x,
d=d+this.y;return b?f:d};var e=new ca,g=!1;new Aa(0,0,0,0);d.finish=function(a){if(g){if(a){var b=this.g.Nc().ud.Je;a=null.Za();var c=e.rf(),d,f;if(a.gb){a.gb=!1;H(a.C);d=0;for(f=c.length;d<f;++d)a.C[d]=c[d];if(b)for(H(a.Ga),d=0,f=null.C.length;d<f;++d)c=null.C[d],e.contains(c)||a.Ga.push(c)}else if(b)for(b=a.C.length,d=0,f=c.length;d<f;++d)a.C[b+d]=c[d],Oa(a.Ga,c[d]);else La(a.C,c);null.jg()}e.clear();g=!1}};c.prototype.Ws=function(a){return Sb(this.vp,a)};c.prototype.Xs=function(){return!0};c.prototype.Ih=
function(){return!0};b.aa=new c;b.qc=new function(){};b.Mc=new function(){}})();function rd(a){this.g=a}
(function(){var a=rd.prototype;a.Tc=function(a){this.Eb=a;this.g=a.g};var c=a.Tc.prototype;c.ub=function(){this.va||(this.Ia=new Image,this.Ia.Pp=this.Po,this.g.Is(this.Ia,this.Oo),this.lb=this.pattern=null)};c.jo=function(){this.va||(this.lb=null)};c.ko=function(){if(!this.va&&this.C.length){this.lb||(this.lb=this.g.ba.xl(this.Ia,!0,this.g.Ja,this.Qo));var a,c;a=0;for(c=this.C.length;a<c;a++)this.C[a].lb=this.lb}};c.Vn=function(){this.va||this.lb||!this.g.ba||(this.lb=this.g.ba.xl(this.Ia,!0,this.g.Ja,
this.Qo))};c.Yo=function(){this.va||this.C.length||!this.lb||(this.g.ba.deleteTexture(this.lb),this.lb=null)};c.ro=function(a){a.drawImage(this.Ia,0,0)};a.oc=function(a){this.type=a;this.g=a.g};c=a.oc.prototype;c.ub=function(){this.visible=0===this.bb[0];this.ck=new Aa(0,0,0,0);this.rq=!1;this.Ia=this.type.Ia;this.g.ba?(this.type.Vn(),this.lb=this.type.lb):(this.type.pattern||(this.type.pattern=this.g.Xa.createPattern(this.type.Ia,"repeat")),this.pattern=this.type.pattern)};c.ze=function(){this.rq=
!1;this.Ia=this.type.Ia};c.oi=function(){this.g.ba&&this.rq&&this.lb&&(this.g.ba.deleteTexture(this.lb),this.lb=null)};c.sg=function(a){a.globalAlpha=this.opacity;a.save();a.fillStyle=this.pattern;var c=this.x,f=this.y;this.g.Nf&&(c=Math.round(c),f=Math.round(f));var h=-(this.bd*this.width),e=-(this.cd*this.height),g=h%this.Ia.width,l=e%this.Ia.height;0>g&&(g+=this.Ia.width);0>l&&(l+=this.Ia.height);a.translate(c,f);a.rotate(this.O);a.translate(g,l);a.fillRect(h-g,e-l,this.width,this.height);a.restore()};
c.eh=function(a){this.Ld(a)};c.Ld=function(a){a.Ud(this.lb);a.xi(this.opacity);var c=this.ck;c.right=this.width/this.Ia.width;c.bottom=this.height/this.Ia.height;var f=this.Cc;if(this.g.Nf){var h=Math.round(this.x)-this.x,e=Math.round(this.y)-this.y;a.Qf(f.Vd+h,f.Wd+e,f.Xd+h,f.Yd+e,f.Jd+h,f.Kd+e,f.Hd+h,f.Id+e,c)}else a.Qf(f.Vd,f.Wd,f.Xd,f.Yd,f.Jd,f.Kd,f.Hd,f.Id,c)};a.aa=new function(){};a.qc=new function(){};a.Mc=new function(){}})();
function W(a,c){for(var b in c.prototype)c.prototype.hasOwnProperty(b)&&(a.prototype[b]=c.prototype[b])}var td=2/180*Math.PI,ud=8/180*Math.PI,vd=.5*Math.PI,wd=vd*vd,xd=2/180*Math.PI,yd=Number.MIN_VALUE*Number.MIN_VALUE;function zd(a,c){return a.x*c.x+a.y*c.y}function Ad(a,c){return a.x*c.y-a.y*c.x}function Bd(a){return Z(1*a.y,-1*a.x)}function Cd(a,c){return Z(a.k.x*c.x+a.n.x*c.y,a.k.y*c.x+a.n.y*c.y)}function Dd(a,c){return Z(zd(c,a.k),zd(c,a.n))}
function Ed(a,c){var b=Cd(a.r,c);b.x+=a.position.x;b.y+=a.position.y;return b}function Fd(a,c){var b=Gd(c,a.position),d=b.x*a.r.k.x+b.y*a.r.k.y;b.y=b.x*a.r.n.x+b.y*a.r.n.y;b.x=d;return b}function Gd(a,c){return Z(a.x-c.x,a.y-c.y)}function Hd(a,c,b){return a<c?c:a>b?b:a}function Id(){this.k=Z(0,0);this.n=Z(0,0);this.k.Set(1,0);this.n.Set(0,1)}function Jd(a){var c=new Id;c.Set(a);return c}Id.prototype.Set=function(a){var c=Math.cos(a);a=Math.sin(a);this.k.Set(c,a);this.n.Set(-a,c)};
Id.prototype.Tb=function(){var a=new Id;Kd(a,this);return a};function Kd(a,c){a.k.J(c.k);a.n.J(c.n)}Id.prototype.ha=function(){this.k.Set(0,0);this.n.Set(0,0)};Id.prototype.Sg=function(){return Math.atan2(this.k.y,this.k.x)};function ae(a,c){var b=a.k.x*a.n.y-a.n.x*a.k.y;0!==b&&(b=1/b);c.k.x=b*a.n.y;c.n.x=-b*a.n.x;c.k.y=-b*a.k.y;c.n.y=b*a.k.x}function be(a,c,b,d){var f=a.k.x*a.n.y-a.n.x*a.k.y;0!==f&&(f=1/f);c.x=f*(a.n.y*b-a.n.x*d);c.y=f*(a.k.x*d-a.k.y*b);return c}
function ce(a,c,b){this.k=new de(0,0,0);this.n=new de(0,0,0);this.c=new de(0,0,0);a&&this.k.J(a);c&&this.n.J(c);b&&this.c.J(b)}ce.prototype.Tb=function(){return new ce(this.k,this.n,this.c)};ce.prototype.ha=function(){this.k.Set(0,0,0);this.n.Set(0,0,0);this.c.Set(0,0,0)};function ee(a,c,b,d){var f=a.k.x,h=a.n.x,e=a.k.y;a=a.n.y;var g=f*a-h*e;0!=g&&(g=1/g);c.x=g*(a*b-h*d);c.y=g*(f*d-e*b);return c}
function fe(a,c,b,d,f){var h=a.k.x,e=a.k.y,g=a.k.z,l=a.n.x,m=a.n.y,k=a.n.z,n=a.c.x,p=a.c.y;a=a.c.z;var q=h*(m*a-k*p)+e*(k*n-l*a)+g*(l*p-m*n);0!=q&&(q=1/q);c.x=q*(b*(m*a-k*p)+d*(k*n-l*a)+f*(l*p-m*n));c.y=q*(h*(d*a-f*p)+e*(f*n-b*a)+g*(b*p-d*n));c.z=q*(h*(m*f-k*d)+e*(k*b-l*f)+g*(l*d-m*b));return c}function ge(){this.L=Z(0,0);this.gc=Z(0,0);this.A=Z(0,0)}ge.prototype.Set=function(a){this.L.J(a.L);this.gc.J(a.gc);this.A.J(a.A);this.ae=a.ae;this.K=a.K;this.Ic=a.Ic};
ge.prototype.Tb=function(){var a=new ge;a.L.J(this.L);a.gc.J(this.gc);a.A.J(this.A);a.ae=this.ae;a.K=this.K;a.Ic=this.Ic;return a};ge.prototype.nd=function(a,c){void 0===c&&(c=0);a.position.x=(1-c)*this.gc.x+c*this.A.x;a.position.y=(1-c)*this.gc.y+c*this.A.y;a.r.Set((1-c)*this.ae+c*this.K);var b=a.r;a.position.x-=b.k.x*this.L.x+b.n.x*this.L.y;a.position.y-=b.k.y*this.L.x+b.n.y*this.L.y};
ge.prototype.dg=function(a){void 0===a&&(a=0);if(this.Ic<a&&1-this.Ic>Number.MIN_VALUE){var c=(a-this.Ic)/(1-this.Ic);this.gc.x=(1-c)*this.gc.x+c*this.A.x;this.gc.y=(1-c)*this.gc.y+c*this.A.y;this.ae=(1-c)*this.ae+c*this.K;this.Ic=a}};function he(a,c){this.position=Z(0,0);this.r=new Id;a&&this.position.J(a);c&&Kd(this.r,c)}he.prototype.Set=function(a){this.position.J(a.position);Kd(this.r,a.r)};he.prototype.Sg=function(){return Math.atan2(this.r.k.y,this.r.k.x)};
function ie(a,c){this.x=a;this.y=c}var je=[];function Z(a,c){if(0<je.length){var b=je.pop();b.Set(a,c);return b}return new ie(a,c)}function ke(a){je.push(a)}x=ie.prototype;x.ha=function(){this.y=this.x=0};x.Set=function(a,c){this.x=a;this.y=c};x.J=function(a){this.x=a.x;this.y=a.y};x.eg=function(){return Z(-this.x,-this.y)};x.Tb=function(){return Z(this.x,this.y)};x.Qe=function(a){this.x+=a.x;this.y+=a.y};x.qp=function(a){this.x-=a.x;this.y-=a.y};x.Fd=function(a){this.x*=a;this.y*=a};
function le(a){return Math.sqrt(me(a))}function me(a){return a.x*a.x+a.y*a.y}function ne(a){var c=le(a);c<Number.MIN_VALUE||(c=1/c,a.x*=c,a.y*=c)}function de(a,c,b){this.x=a;this.y=c;this.z=b}x=de.prototype;x.ha=function(){this.z=this.y=this.x=0};x.Set=function(a,c,b){this.x=a;this.y=c;this.z=b};x.J=function(a){this.x=a.x;this.y=a.y;this.z=a.z};x.eg=function(){return new de(-this.x,-this.y,-this.z)};x.Tb=function(){return new de(this.x,this.y,this.z)};
x.Qe=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};x.qp=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};x.Fd=function(a){this.x*=a;this.y*=a;this.z*=a};function oe(){this.Na=.005}x=oe.prototype;x.Ug=function(){};x.Tb=function(){};x.Set=function(a){this.Na=a.Na};x.Eh=function(){};x.Ji=function(){};x.uk=function(){};x.xm=function(){};function pe(a){this.Na=.005;this.Na=a;this.c=a*a;this.Wa=Z(0,0)}W(pe,oe);x=pe.prototype;x.Ug=function(){return"b2CircleShape"};
x.Tb=function(){var a=new pe(this.Na);a.Set(this);return a};x.Set=function(a){oe.prototype.Set.call(this,a);a instanceof pe&&this.Wa.J(a.Wa)};x.Eh=function(a,c){var b=c.r,d=c.position.x+(b.k.x*this.Wa.x+b.n.x*this.Wa.y),b=c.position.y+(b.k.y*this.Wa.x+b.n.y*this.Wa.y);a.c.Set(d-this.Na,b-this.Na);a.i.Set(d+this.Na,b+this.Na)};x.Ji=function(a,c){a.c=c*Math.PI*this.c;a.i.J(this.Wa);a.p=a.c*(.5*this.c+(this.Wa.x*this.Wa.x+this.Wa.y*this.Wa.y))};
x.uk=function(a,c,b,d){b=Ed(b,this.Wa);var f=-(zd(a,b)-c);if(f<-this.Na+Number.MIN_VALUE)return 0;if(f>this.Na)return d.J(b),Math.PI*this.c;c=f*f;f=this.c*(Math.asin(f/this.Na)+Math.PI/2)+f*Math.sqrt(this.c-c);c=-2/3*Math.pow(this.c-c,1.5)/f;d.x=b.x+a.x*c;d.y=b.y+a.y*c;return f};x.xm=function(a){a.M=[this.Wa];a.c=1;a.Na=this.Na};
function qe(a,c){this.Na=.005;this.c=a;this.i=c;this.p=Z(this.i.x-this.c.x,this.i.y-this.c.y);ne(this.p);this.u=Z(this.p.y,-this.p.x);Z(-.04*(this.u.x-this.p.x)+this.c.x,-.04*(this.u.y-this.p.y)+this.c.y);Z(-.04*(this.u.x+this.p.x)+this.i.x,-.04*(this.u.y+this.p.y)+this.i.y);Z(-this.u.x,-this.u.y)}W(qe,oe);qe.prototype.Ug=function(){return"b2EdgeShape"};
qe.prototype.Eh=function(a,c){var b=c.r,d=c.position.x+(b.k.x*this.c.x+b.n.x*this.c.y),f=c.position.y+(b.k.y*this.c.x+b.n.y*this.c.y),h=c.position.x+(b.k.x*this.i.x+b.n.x*this.i.y),b=c.position.y+(b.k.y*this.i.x+b.n.y*this.i.y);d<h?(a.c.x=d,a.i.x=h):(a.c.x=h,a.i.x=d);f<b?(a.c.y=f,a.i.y=b):(a.c.y=b,a.i.y=f)};qe.prototype.Ji=function(a){a.c=0;a.i.J(this.c);a.p=0};
qe.prototype.uk=function(a,c,b,d){void 0===c&&(c=0);var f=Z(a.x*c,a.y*c),h=Ed(b,this.c);b=Ed(b,this.i);var e=zd(a,h)-c;a=zd(a,b)-c;if(0<e){if(0<a)return 0;h.x=-a/(e-a)*h.x+e/(e-a)*b.x;h.y=-a/(e-a)*h.y+e/(e-a)*b.y}else 0<a&&(b.x=-a/(e-a)*h.x+e/(e-a)*b.x,b.y=-a/(e-a)*h.y+e/(e-a)*b.y);d.x=(f.x+h.x+b.x)/3;d.y=(f.y+h.y+b.y)/3;return.5*((h.x-f.x)*(b.y-f.y)-(h.y-f.y)*(b.x-f.x))};function re(){this.c=0;this.i=Z(0,0);this.p=0}function se(){this.Na=.005;this.c=Z(0,0);this.M=[];this.$a=[]}W(se,oe);x=se.prototype;
x.Ug=function(){return"b2PolygonShape"};x.Tb=function(){var a=new se;a.Set(this);return a};x.Set=function(a){oe.prototype.Set.call(this,a);if(a instanceof se){this.c.J(a.c);this.Sa=a.Sa;te(this,this.Sa);for(var c=0;c<this.Sa;c++)this.M[c].J(a.M[c]),this.$a[c].J(a.$a[c])}};
function ue(a,c){var b=c.length;a.Sa=b;te(a,b);for(b=b=0;b<a.Sa;b++)a.M[b].J(c[b]);for(b=0;b<a.Sa;++b){var d=Gd(a.M[b+1<a.Sa?b+1:0],a.M[b]);a.$a[b].J(Bd(d));ne(a.$a[b])}for(var b=a.M,d=a.Sa,f=Z(0,0),h=0,e=1/3,g=0;g<d;++g){var l=b[g],m=g+1<d?b[g+1]:b[0],k=.5*((l.x-0)*(m.y-0)-(l.y-0)*(m.x-0)),h=h+k;f.x+=k*e*(0+l.x+m.x);f.y+=k*e*(0+l.y+m.y)}f.x*=1/h;f.y*=1/h;a.c=f}
function ve(a,c,b){a.Sa=4;te(a,4);a.M[0].Set(-c,-b);a.M[1].Set(c,-b);a.M[2].Set(c,b);a.M[3].Set(-c,b);a.$a[0].Set(0,-1);a.$a[1].Set(1,0);a.$a[2].Set(0,1);a.$a[3].Set(-1,0);a.c.ha()}
x.Eh=function(a,c){for(var b=c.r,d=this.M[0],f=c.position.x+(b.k.x*d.x+b.n.x*d.y),h=c.position.y+(b.k.y*d.x+b.n.y*d.y),e=f,g=h,l=1;l<this.Sa;++l)var d=this.M[l],m=c.position.x+(b.k.x*d.x+b.n.x*d.y),d=c.position.y+(b.k.y*d.x+b.n.y*d.y),f=f<m?f:m,h=h<d?h:d,e=e>m?e:m,g=g>d?g:d;a.c.x=f-this.Na;a.c.y=h-this.Na;a.i.x=e+this.Na;a.i.y=g+this.Na};
x.Ji=function(a,c){if(2==this.Sa)a.i.x=.5*(this.M[0].x+this.M[1].x),a.i.y=.5*(this.M[0].y+this.M[1].y),a.c=0,a.p=0;else{for(var b=0,d=0,f=0,h=0,e=1/3,g=0;g<this.Sa;++g)var l=this.M[g],m=g+1<this.Sa?this.M[g+1]:this.M[0],k=l.x-0,n=l.y-0,p=m.x-0,q=m.y-0,v=k*q-n*p,r=.5*v,f=f+r,b=b+r*e*(0+l.x+m.x),d=d+r*e*(0+l.y+m.y),l=k,h=h+v*(e*(.25*(l*l+p*l+p*p)+(0*l+0*p))+0+(e*(.25*(n*n+q*n+q*q)+(0*n+0*q))+0));a.c=c*f;a.i.Set(1/f*b,1/f*d);a.p=c*h}};
x.uk=function(a,c,b,d){var f=Dd(b.r,a),h=c-zd(a,b.position),e=[],g=0,l=-1;c=-1;var m=!1;for(a=a=0;a<this.Sa;++a){e[a]=zd(f,this.M[a])-h;var k=e[a]<-Number.MIN_VALUE;0<a&&(k?m||(l=a-1,g++):m&&(c=a-1,g++));m=k}switch(g){case 0:return m?(a=new re,this.Ji(a,1),d.J(Ed(b,a.i)),a.c):0;case 1:-1==l?l=this.Sa-1:c=this.Sa-1}a=(l+1)%this.Sa;f=(c+1)%this.Sa;h=(0-e[l])/(e[a]-e[l]);e=(0-e[c])/(e[f]-e[c]);l=Z(this.M[l].x*(1-h)+this.M[a].x*h,this.M[l].y*(1-h)+this.M[a].y*h);c=Z(this.M[c].x*(1-e)+this.M[f].x*e,this.M[c].y*
(1-e)+this.M[f].y*e);e=0;h=Z(0,0);for(g=this.M[a];a!=f;)a=(a+1)%this.Sa,m=a==f?c:this.M[a],k=.5*((g.x-l.x)*(m.y-l.y)-(g.y-l.y)*(m.x-l.x)),e+=k,h.x+=k*(l.x+g.x+m.x)/3,h.y+=k*(l.y+g.y+m.y)/3,g=m;h.Fd(1/e);d.J(Ed(b,h));return e};x.xm=function(a){a.M=this.M;a.c=this.Sa;a.Na=this.Na};x.vk=function(a){for(var c=0,b=this.M[0].x*a.x+this.M[0].y*a.y,d=1;d<this.Sa;++d){var f=this.M[d].x*a.x+this.M[d].y*a.y;f>b&&(c=d,b=f)}return c};
x.Mi=function(a){for(var c=0,b=this.M[0].x*a.x+this.M[0].y*a.y,d=1;d<this.Sa;++d){var f=this.M[d].x*a.x+this.M[d].y*a.y;f>b&&(c=d,b=f)}return this.M[c]};function te(a,c){a.M=[];a.$a=[];for(var b=a.M.length;b<c;b++)a.M[b]=Z(0,0),a.$a[b]=Z(0,0)}new Id;function we(){this.i=this.c=this.p=this.Hb=0}function xe(a,c){a.Hb=c;a.p=a.Hb&255;a.c=(a.Hb&65280)>>8&255;a.i=(a.Hb&16711680)>>16&255;a.u=(a.Hb&4278190080)>>24&255}we.prototype.Set=function(a){xe(this,a.Hb)};
we.prototype.Tb=function(){var a=new we;a.Set(this);return a};function ye(){this.$d=Z(0,0);this.id=new we}ye.prototype.Set=function(a){this.$d.J(a.$d);this.id.Set(a.id)};function ze(){this.c=Z(0,0);this.i=Z(0,0)}var De=[];function Ee(){if(0<De.length){var a=De.pop();a.ha();return a}return new ze}ze.prototype.ha=function(){this.c.Set(0,0);this.i.Set(0,0)};function Fe(a,c){var b;return b=(b=(b=(b=a.c.x<=c.c.x)&&a.c.y<=c.c.y)&&c.i.x<=a.i.x)&&c.i.y<=a.i.y}
ze.prototype.Pi=function(a){return 0<a.c.x-this.i.x||0<a.c.y-this.i.y||0<this.c.x-a.i.x||0<this.c.y-a.i.y?!1:!0};function Ge(a,c,b){a.c.x=Math.min(c.c.x,b.c.x);a.c.y=Math.min(c.c.y,b.c.y);a.i.x=Math.max(c.i.x,b.i.x);a.i.y=Math.max(c.i.y,b.i.y)}function He(a,c,b,d){var f=0,h=c[0].$d,e=c[1].$d,g=b.x*h.x+b.y*h.y-d;b=b.x*e.x+b.y*e.y-d;0>=g&&a[f++].Set(c[0]);0>=b&&a[f++].Set(c[1]);0>g*b&&(b=g/(g-b),d=a[f].$d,d.x=h.x+b*(e.x-h.x),d.y=h.y+b*(e.y-h.y),a[f].id=0<g?c[0].id:c[1].id,f++);return f}
function Ie(a,c,b,d,f){for(var h=c.r.k.x*a.$a[b].x+c.r.n.x*a.$a[b].y,e=c.r.k.y*a.$a[b].x+c.r.n.y*a.$a[b].y,g=f.r.k.x*h+f.r.k.y*e,l=f.r.n.x*h+f.r.n.y*e,m=0,k=Number.MAX_VALUE,n=0;n<d.Sa;n++){var p=d.M[n].x*g+d.M[n].y*l;p<k&&(k=p,m=n)}return(f.position.x+(f.r.k.x*d.M[m].x+f.r.n.x*d.M[m].y)-(c.position.x+(c.r.k.x*a.M[b].x+c.r.n.x*a.M[b].y)))*h+(f.position.y+(f.r.k.y*d.M[m].x+f.r.n.y*d.M[m].y)-(c.position.y+(c.r.k.y*a.M[b].x+c.r.n.y*a.M[b].y)))*e}
function Je(a,c,b,d){for(var f=d.position.x+(d.r.k.x*b.c.x+d.r.n.x*b.c.y),h=d.position.y+(d.r.k.y*b.c.x+d.r.n.y*b.c.y),f=f-(c.position.x+(c.r.k.x*a.c.x+c.r.n.x*a.c.y)),h=h-(c.position.y+(c.r.k.y*a.c.x+c.r.n.y*a.c.y)),e=f*c.r.k.x+h*c.r.k.y,h=f*c.r.n.x+h*c.r.n.y,f=0,g=-Number.MAX_VALUE,l=0;l<a.Sa;++l){var m=a.$a[l].x*e+a.$a[l].y*h;m>g&&(g=m,f=l)}e=Ie(a,c,f,b,d);h=f-1;0>h&&(h=a.Sa-1);g=Ie(a,c,h,b,d);l=f+1;l>=a.Sa&&(l=0);var m=Ie(a,c,l,b,d),k=0,n=0;if(g>e&&g>m)for(k=h,n=g;;)if(f=k-1,0>f&&(f=a.Sa-1),e=
Ie(a,c,f,b,d),e>n)k=f,n=e;else break;else if(m>e)for(k=l,n=m;;)if(f=k+1,f>=a.Sa&&(f=0),e=Ie(a,c,f,b,d),e>n)k=f,n=e;else break;else k=f,n=e;return{Ep:k,Tl:n}}
function Ke(a,c,b){var d=new Le,f=b.Of,h=b.c,e=b.Pf,g=b.i,l,m;d.c=c.count;for(var k=d.M,n=0;n<d.c;n++){var p=k[n];p.Ib=c.Ib[n];p.Jb=c.Jb[n];l=Me(f,p.Ib);m=Me(e,p.Jb);p.yc=Ed(h,l);p.xe=Ed(g,m);p.mc=Gd(p.xe,p.yc);p.K=0}1<d.c&&(l=c.c,m=Ne(d),m<.5*l||2*l<m||m<Number.MIN_VALUE)&&(d.c=0);0==d.c&&(p=k[0],p.Ib=0,p.Jb=0,l=Me(f,0),m=Me(e,0),p.yc=Ed(h,l),p.xe=Ed(g,m),p.mc=Gd(p.xe,p.yc),d.c=1);for(f=0;20>f;){h=[];for(e=0;e<d.c;e++)h[e]={},h[e].Ib=d.M[e].Ib,h[e].Jb=d.M[e].Jb;if(2==d.c)e=d,g=e.i.mc,k=e.p.mc,l=
Gd(k,g),g=-(g.x*l.x+g.y*l.y),0>=g?(e.i.K=1,e.c=1):(k=k.x*l.x+k.y*l.y,0>=k?(e.p.K=1,e.c=1,e.i.Set(e.p)):(l=1/(k+g),e.i.K=k*l,e.p.K=g*l,e.c=2));else if(3==d.c){var e=d,q=e.i.mc,v=e.p.mc,r=e.u.mc,u=Gd(v,q),g=zd(v,u),k=-zd(q,u),t=Gd(r,q);l=zd(r,t);m=-zd(q,t);p=Gd(r,v);n=zd(r,p);p=-zd(v,p);t=Ad(u,t);u=t*Ad(v,r);r=t*Ad(r,q);q=t*Ad(q,v);0>=k&&0>=m?(e.i.K=1,e.c=1):0<g&&0<k&&0>=q?(l=1/(g+k),e.i.K=g*l,e.p.K=k*l,e.c=2):0<l&&0<m&&0>=r?(g=1/(l+m),e.i.K=l*g,e.u.K=m*g,e.c=2,e.p.Set(e.u)):0>=g&&0>=p?(e.p.K=1,e.c=
1,e.i.Set(e.p)):0>=l&&0>=n?(e.u.K=1,e.c=1,e.i.Set(e.u)):0<n&&0<p&&0>=u?(g=1/(n+p),e.p.K=n*g,e.u.K=p*g,e.c=2,e.i.Set(e.u)):(g=1/(u+r+q),e.i.K=u*g,e.p.K=r*g,e.u.K=q*g,e.c=3)}if(3==d.c)break;e=d;1==e.c?e=e.i.mc.eg():2==e.c?(g=Gd(e.p.mc,e.i.mc),e=0<Ad(g,e.i.mc.eg())?Z(-1*g.y,1*g.x):Bd(g)):e=Z(0,0);if(me(e)<yd)break;g=e.eg();d.M[d.c].Ib=b.Of.vk(Dd(b.c.r,g));d.M[d.c].yc=Ed(b.c,Me(b.Of,d.M[d.c].Ib));d.M[d.c].Jb=b.Pf.vk(Dd(b.i.r,e));d.M[d.c].xe=Ed(b.i,Me(b.Pf,d.M[d.c].Jb));d.M[d.c].mc=Gd(d.M[d.c].xe,d.M[d.c].yc);
ke(e);ke(g);f++;g=!1;for(e=0;e<h.length;e++)if(d.M[d.c].Ib==h[e].Ib&&d.M[d.c].Jb==h[e].Jb){g=!0;break}if(g)break;d.c++}f=a.c;h=a.i;1==d.c?(f.J(d.i.yc),h.J(d.i.xe)):2==d.c?(f.x=d.i.K*d.i.yc.x+d.p.K*d.p.yc.x,f.y=d.i.K*d.i.yc.y+d.p.K*d.p.yc.y,h.x=d.i.K*d.i.xe.x+d.p.K*d.p.xe.x,h.y=d.i.K*d.i.xe.y+d.p.K*d.p.xe.y):3==d.c&&(h.x=f.x=d.i.K*d.i.yc.x+d.p.K*d.p.yc.x+d.u.K*d.u.yc.x,h.y=f.y=d.i.K*d.i.yc.y+d.p.K*d.p.yc.y+d.u.K*d.u.yc.y);a.p=le(Gd(a.c,a.i));c.c=Ne(d);c.count=d.c;f=d.M;for(h=0;h<d.c;h++)c.Ib[h]=f[h].Ib,
c.Jb[h]=f[h].Jb;b.p&&(c=b.Of.Na,b=b.Pf.Na,a.p>c+b&&a.p>Number.MIN_VALUE?(a.p-=c+b,d=Gd(a.i,a.c),ne(d),a.c.x+=c*d.x,a.c.y+=c*d.y,a.i.x-=b*d.x,a.i.y-=b*d.y,ke(d)):(b=Z(0,0),b.x=.5*(a.c.x+a.i.x),b.y=.5*(a.c.y+a.i.y),a.c.x=a.i.x=b.x,a.c.y=a.i.y=b.y,a.p=0,ke(b)))}function Oe(){}function Pe(){this.c=Z(0,0);this.i=Z(0,0);this.p=0}function Qe(){}Qe.prototype.Set=function(a){a.xm(this)};
Qe.prototype.vk=function(a){for(var c=0,b=this.M[0].x*a.x+this.M[0].y*a.y,d=1;d<this.c;d++){var f=this.M[d].x*a.x+this.M[d].y*a.y;f>b&&(c=d,b=f)}return c};Qe.prototype.Mi=function(a){return this.M[this.vk(a)]};function Me(a,c){void 0===c&&(c=0);return a.M[c]}function Re(){this.c=null}Re.prototype.Ki=function(a){Se(this,a);a.Kc()};function Te(a,c,b){if(null!==a.c){var d=[];for(d.push(a.c);0<d.length;)if(a=d.pop(),a.Fa.Pi(b))if(null===a.Xc){if(!c(a.ie))break}else d.push(a.Xc),d.push(a.Ye)}}
function Ue(a,c){if(null===a.c)a.c=c,a.c.parent=null;else{var b;b=c.Fa;b=Z((b.c.x+b.i.x)/2,(b.c.y+b.i.y)/2);for(var d=a.c;null!==d.Xc;)var f=d.Xc,d=d.Ye,h=Math.abs((f.Fa.c.x+f.Fa.i.x)/2-b.x)+Math.abs((f.Fa.c.y+f.Fa.i.y)/2-b.y),e=Math.abs((d.Fa.c.x+d.Fa.i.x)/2-b.x)+Math.abs((d.Fa.c.y+d.Fa.i.y)/2-b.y),d=h<e?f:d;ke(b);b=d;f=b.parent;d=Ve();d.parent=f;Ge(d.Fa,c.Fa,b.Fa);if(f)for(b.parent.Xc==b?f.Xc=d:f.Ye=d,d.Xc=b,d.Ye=c,b.parent=d,c.parent=d;f&&!Fe(f.Fa,d.Fa);)Ge(f.Fa,f.Xc.Fa,f.Ye.Fa),d=f,f=f.parent;
else d.Xc=b,d.Ye=c,b.parent=d,c.parent=d,a.c=d}}function Se(a,c){if(c==a.c)a.c=null;else{var b=c.parent,d=b.parent,f;f=b.Xc==c?b.Ye:b.Xc;if(d)for(d.Xc==b?d.Xc=f:d.Ye=f,f.parent=d;d;){f=d.Fa;Ge(d.Fa,d.Xc.Fa,d.Ye.Fa);if(Fe(f,d.Fa))break;d=d.parent}else a.c=f,f.parent=null;b.Kc()}}function We(){this.i=new Re;this.c=[]}We.prototype.Ki=function(a){Oa(this.c,a);this.i.Ki(a)};We.prototype.Pi=function(a,c){return a.Fa.Pi(c.Fa)};
function Xe(a,c){for(var b=[];0<a.c.length;){var d=a.c.pop();Te(a.i,function(a){a!=d.ie&&b.push(new Ye(d.ie,a));return!0},d.Fa)}for(var f=0;f<b.length;){var h=b[f];c(h.ej,h.fj);for(f++;f<b.length;){var e=b[f];if(!(e.ej==h.ej&&e.fj==h.fj||e.ej==h.fj&&e.fj==h.ej))break;f++}}}function Ze(a){this.Fa=Ee();this.ie=this.parent=this.Ye=this.Xc=null;"undefined"!=typeof a&&(this.ie=a)}var $e=[];
function Ve(a){if(0<$e.length){var c=$e.pop();"undefined"!=typeof a&&(c.ie=a);c.Fa.ha();return c}return new Ze(a)}Ze.prototype.Kc=function(){this.ie=this.parent=this.Ye=this.Xc=null;$e.push(this)};function Ye(a,c){this.ej=a;this.fj=c}function af(){this.Ka=this.Bb=0;this.ga=[];for(var a=0;2>a;a++)this.ga[a]=new bf;this.jc=Z(0,0);this.na=Z(0,0)}af.prototype.fc=function(){for(var a=0;2>a;a++)this.ga[a].fc();this.jc.ha();this.na.ha();this.Bb=this.Ka=0};
af.prototype.Set=function(a){this.Bb=a.Bb;for(var c=0;2>c;c++)this.ga[c].Set(a.ga[c]);this.jc.J(a.jc);this.na.J(a.na);this.Ka=a.Ka};af.prototype.Tb=function(){var a=new af;a.Set(this);return a};function bf(){this.na=Z(0,0);this.oe=new we;this.fc()}bf.prototype.fc=function(){this.na.ha();this.yh=this.xh=0;xe(this.oe,0)};bf.prototype.Set=function(a){this.na.J(a.na);this.xh=a.xh;this.yh=a.yh;this.oe.Set(a.oe)};
function cf(){var a=kf,c=pf,b=wf,d,f,h=0;switch(a.Ka){case xf:d=Dd(c.r,a.c);f=Dd(b.r,a.c.eg());d=a.i.Mi(d);f=a.p.Mi(f);c=Ed(c,d);b=Ed(b,f);h=(b.x-c.x)*a.c.x+(b.y-c.y)*a.c.y;break;case yf:h=Cd(c.r,a.c);c=Ed(c,a.na);f=Dd(b.r,h.eg());f=a.p.Mi(f);b=Ed(b,f);h=(b.x-c.x)*h.x+(b.y-c.y)*h.y;break;case zf:h=Cd(b.r,a.c),b=Ed(b,a.na),d=Dd(c.r,h.eg()),d=a.i.Mi(d),c=Ed(c,d),h=(c.x-b.x)*h.x+(c.y-b.y)*h.y}return h}var xf=1,yf=2,zf=4;
function Le(){this.i=new Af;this.p=new Af;this.u=new Af;this.M=[this.i,this.p,this.u]}function Ne(a){return 1==a.c?0:2==a.c?le(Gd(a.i.mc,a.p.mc)):3==a.c?Ad(Gd(a.p.mc,a.i.mc),Gd(a.u.mc,a.i.mc)):0}function Bf(){this.Ib=[0,0,0];this.Jb=[0,0,0]}function Af(){}Af.prototype.Set=function(a){this.yc.J(a.yc);this.xe.J(a.xe);this.mc.J(a.mc);this.K=a.K;this.Ib=a.Ib;this.Jb=a.Jb};function Cf(){this.Of=new Qe;this.Pf=new Qe;this.qs=new ge;this.rs=new ge}
function Df(a,c){this.T="Body"+Ef++;this.B=new he;this.B.position.J(a.position);this.B.r.Set(a.O);this.j=new ge;this.j.L.ha();this.j.Ic=1;this.j.ae=this.j.K=a.O;this.j.A.x=this.B.r.k.x*this.j.L.x+this.B.r.n.x*this.j.L.y;this.j.A.y=this.B.r.k.y*this.j.L.x+this.B.r.n.y*this.j.L.y;this.j.A.x+=this.B.position.x;this.j.A.y+=this.B.position.y;this.j.gc.J(this.j.A);this.q=a.I.Tb();this.i=Z(0,0);this.D=a.Mh;this.Ya=a.c;this.wa=a.i;this.yd=a.u;this.Z=a.Wc;this.zd=c;this.mb=null;this.Zc=new Ff;this.W=new Gf;
this.F=a.p;this.Pa=a.di;this.Ba=a.Kh;this.I=this.u=0;this.Ka=a.type;this.R=2==this.Ka?1:0;this.H=2==this.Ka?1:0;this.P=this.c=0;this.Ca=a.D;this.p=new Hf;this.G=[]}function If(a,c){var b=new Jf(a,0,c);if(a.Z){var d=a.zd.c.c;b.Rb.Eh(b.c,a.B);var f=d.i,h=b.c,e=Ve(b);e.Fa.c.x=h.c.x-.1;e.Fa.c.y=h.c.y-.1;e.Fa.i.x=h.i.x+.1;e.Fa.i.y=h.i.y+.1;Ue(f,e);d.c.push(e);b.i=e}d=a.p;f=b.hp;null==d.c[f]&&(h=new Kf(b),e=d.p,null!=e?e.next=h:d.i=h,h.sf(e),d.p=h,d.c[f]=h);b.ao=a;0<b.u&&Lf(a);a.zd.i=!0}x=Df.prototype;
x.Kc=function(){ke(this.q);ke(this.i)};function Mf(a,c,b){a.B.r.Set(b);a.B.position.J(c);c=a.B.r;var d=a.j.L;a.j.A.x=c.k.x*d.x+c.n.x*d.y;a.j.A.y=c.k.y*d.x+c.n.y*d.y;a.j.A.x+=a.B.position.x;a.j.A.y+=a.B.position.y;a.j.gc.J(a.j.A);a.j.ae=a.j.K=b;b=a.zd.c.c;for(c=a.p.Ra();c;c=c.Ea())Nf(c.ie,b,a.B,a.B);Of(a.zd.c)}x.nd=function(){return this.B};x.Sg=function(){return this.j.K};x.pp=function(a){Mf(this,this.B.position,a)};function Pf(a,c){0!=a.Ka&&a.q.J(c)}
x.yk=function(a){void 0===a&&(a=0);0!=this.Ka&&(this.F=a)};x.Pg=function(a,c){2==this.Ka&&(Qf(this,!0),this.i.x+=a.x,this.i.y+=a.y,this.u+=(c.x-this.j.A.x)*a.y-(c.y-this.j.A.y)*a.x)};x.qm=function(a){void 0===a&&(a=0);2==this.Ka&&(Qf(this,!0),this.u+=a)};x.pm=function(a,c){2==this.Ka&&(Qf(this,!0),this.q.x+=this.H*a.x,this.q.y+=this.H*a.y,this.F+=this.P*((c.x-this.j.A.x)*a.y-(c.y-this.j.A.y)*a.x))};
function Lf(a){a.R=0;a.H=0;a.c=0;a.P=0;a.j.L.ha();if(0!=a.Ka&&1!=a.Ka){for(var c=Z(0,0),b=a.p.Ra();b;b=b.Ea()){var d=b.ie;if(0!=d.u){var f=void 0,f=new re;d.Rb.Ji(f,d.u);d=f;a.R+=d.c;c.x+=d.i.x*d.c;c.y+=d.i.y*d.c;a.c+=d.p}}0<a.R?(a.H=1/a.R,c.x*=a.H,c.y*=a.H):(a.R=1,a.H=1);0<a.c&&!a.Ya?(a.c-=a.R*(c.x*c.x+c.y*c.y),a.c*=a.Ca,a.P=1/a.c):(a.c=0,a.P=0);b=a.j.A.Tb();a.j.L.J(c);a.j.gc.J(Ed(a.B,a.j.L));a.j.A.J(a.j.gc);a.q.x+=a.F*-(a.j.A.y-b.y);a.q.y+=a.F*+(a.j.A.x-b.x);ke(c);ke(b)}}
function Rf(a,c){var b=a.B.r,b=Z(b.k.x*c.x+b.n.x*c.y,b.k.y*c.x+b.n.y*c.y);b.x+=a.B.position.x;b.y+=a.B.position.y;return b}x.nc=function(){return this.Ka};function Qf(a,c){if(a.yd!=c){a.yd=c;a.I=0;c||(a.q.ha(),a.F=0,a.i.ha(),a.u=0);for(var b=0;b<a.G.length;b++)Sf(a.G[b],a)}}x.Hh=function(){return this.Z};x.Tg=function(){return this.Zc};
function Tf(a){Uf.r.Set(a.j.ae);var c=Uf.r,b=a.j.L;Uf.position.x=a.j.gc.x-(c.k.x*b.x+c.n.x*b.y);Uf.position.y=a.j.gc.y-(c.k.y*b.x+c.n.y*b.y);c=a.zd.c.c;for(b=a.p.Ra();b;b=b.Ea())Nf(b.ie,c,Uf,a.B)}function Vf(a){a.B.r.Set(a.j.K);var c=a.B.r,b=a.j.L;a.B.position.x=a.j.A.x-(c.k.x*b.x+c.n.x*b.y);a.B.position.y=a.j.A.y-(c.k.y*b.x+c.n.y*b.y)}function Wf(a,c){if(2!=a.Ka&&2!=c.Ka)return!1;for(var b=a.mb;b;b=b.next)if(b.Rd==c&&0==b.Ef.dr)return!1;return!0}
x.dg=function(a){this.j.dg(a);this.j.A.J(this.j.gc);this.j.K=this.j.ae;Vf(this)};var Ef=0;function Xf(){this.position=Z(0,0);this.I=Z(0,0);this.Kh=this.di=this.p=this.O=0;this.u=this.i=!0;this.Mh=this.c=!1;this.type=0;this.Wc=!0;this.D=1}function Yf(){this.i=[];for(var a=0;a<=Zf;a++)this.i[a]=null;this.p=[];for(a=0;a<=Zf;a++)this.p[a]=null;this.c={}}Yf.prototype.Ra=function(a){return this.i[a]};
function Sf(a,c){var b=c.nc(),d=c.T,f=c.yd,h=c.Hh();2==b?$f(a,c,d,ag):bg(a,d,ag);0!=b?$f(a,c,d,cg):bg(a,d,cg);0!=b&&h&&f?$f(a,c,d,dg):bg(a,d,dg);f?$f(a,c,d,eg):bg(a,d,eg);h?$f(a,c,d,fg):bg(a,d,fg)}Yf.prototype.xk=function(a){var c=a.T;if(null!=this.c[c]){Oa(a.G,this);for(a=0;a<=Zf;a++)bg(this,c,a);delete this.c[c]}};function bg(a,c,b){var d=a.c[c];null!=d&&(c=d[b],null!=c&&(d[b]=null,d=c.c,c=c.Ea(),null==d?a.i[b]=c:d.next=c,null==c?a.p[b]=d:c.sf(d)))}
function $f(a,c,b,d){var f=a.c[b];if(null==f){for(var f=[],h=0;h<=Zf;h++)f[h]=null;a.c[b]=f}null==f[d]&&(f[d]=new gg(c),c=a.p[d],null!=c?c.next=f[d]:a.i[d]=f[d],f[d].sf(c),a.p[d]=f[d])}var ag=0,cg=1,fg=2,dg=3,eg=4,Zf=5;function gg(a){this.body=a;this.c=this.next=null}gg.prototype.sf=function(a){this.c=a};gg.prototype.Qa=function(){return this.body};gg.prototype.Ea=function(){return this.next};function hg(){}
hg.prototype.c=function(a,c){var b=a.D.Tb(),d=c.D.Tb();return b.c==d.c&&0!=b.c?0<b.c:0!=(b.p&d.i)&&0!=(b.i&d.p)};var ig=new hg;function jg(){this.c=[];this.i=[]}function kg(){}kg.prototype.BeginContact=function(){};kg.prototype.EndContact=function(){};function lg(a){this.zd=a;this.p=ig;this.i=mg;this.u=new ng;this.c=new We}
function Of(a){Xe(a.c,function(c,b){a:{var d=c.Qa(),f=b.Qa();if(d!=f&&Wf(f,d)&&a.p.c(c,b)){for(d=f.Zc.Ra(og);d;d=d.Ea())if(f=d.Vb.Kb,f==c){if(f=d.Vb.Ab,f==b)break a}else if(f==b&&(f=d.Vb.Ab,f==c))break a;a.u.p(c,b)}}})}lg.prototype.Kc=function(a){a.Ch&&this.i.EndContact(a);0<a.Pd.Bb&&(Qf(a.Kb.Qa(),!0),Qf(a.Ab.Qa(),!0));pg(a.Ck,a);pg(a.Dk,a);pg(a.mm,a);this.u.Kc(a)};function qg(){this.i=1;this.p=65535;this.c=0}qg.prototype.Tb=function(){var a=new qg;a.i=this.i;a.p=this.p;a.c=this.c;return a};
function Jf(a,c,b){this.hp="Fixture"+rg++;this.D=b.c.Tb();this.c=Ee();this.ao=a;this.Rb=b.shape.Tb();this.u=b.rg;this.I=b.ug;this.G=b.Jg;this.p=b.i}Jf.prototype.Qa=function(){return this.ao};Jf.prototype.Kc=function(){De.push(this.c)};Jf.prototype.Ki=function(a){null!=this.i&&(a.Ki(this.i),this.i=null)};
function Nf(a,c,b,d){if(a.i){var f=Ee(),h=Ee();a.Rb.Eh(f,b);a.Rb.Eh(h,d);Ge(a.c,f,h);De.push(f);De.push(h);b=Gd(d.position,b.position);d=a.i;f=c.i;a=a.c;if(Fe(d.Fa,a))a=!1;else{Se(f,d);var h=.1+2*Math.abs(b.x),e=.1+2*Math.abs(b.y);d.Fa.c.x=a.c.x-h;d.Fa.c.y=a.c.y-e;d.Fa.i.x=a.i.x+h;d.Fa.i.y=a.i.y+e;Ue(f,d);a=!0}a&&c.c.push(d);ke(b)}}var rg=0;function sg(){this.c=new qg;this.c.i=1;this.c.p=65535;this.c.c=0;this.shape=null;this.ug=.2;this.rg=this.Jg=0;this.i=!1}
function Hf(){this.p=this.i=null;this.c={}}Hf.prototype.Ra=function(){return this.i};function Kf(a){this.ie=a;this.c=this.next=null}Kf.prototype.sf=function(a){this.c=a};Kf.prototype.Ea=function(){return this.next};function tg(a,c){this.Z=a;this.u=c;this.i=[];this.I=[];this.D=[];this.p=[];this.c=[]}function ug(a){a.i=[];a.I=[];a.D=[];a.p=[];a.c=[]}function vg(a,c){if(null!=a.Z)for(var b=0;b<a.p.length;++b)for(var d=c[b],f=new jg,h=0;h<d.D;++h)f.c[h]=d.p[h].Cb,f.i[h]=d.p[h].qf}
function wg(a,c){a.i.push(c);0!=c.nc()&&(a.D.push(c),2==c.nc()&&a.I.push(c))}function xg(a,c,b,d,f){this.xa=a;var h=0;0<a&&(h=1/a);this.c=h;this.Ob=c;this.Zj=b;this.rk=d;this.$f=f}function yg(a,c){this.c=new lg(this);this.p=new zg;this.i=!1;this.Qg=new Yf;this.Zc=new Ff;this.mb=null;this.I=new Gf;this.G=0;this.T=c;this.u=a;this.D=0;this.Sv=Ag(this,new Xf)}var Bg=1-100*Number.MIN_VALUE;function Ag(a,c){var b=new Df(c,a),d=a.Qg,f=b.T;null==d.c[f]&&($f(d,b,f,Zf),Sf(d,b),b.G.push(d));return b}
function Cg(a,c){for(var b=c.mb;b;){var d=b,b=b.next;Dg(a,d.Ef)}for(b=c.W.Ra();b;b=b.Ea())b.Ft.xk(c);for(b=c.Zc.Ra(og);b;b=b.Ea())a.c.Kc(b.Vb);for(b=c.p.Ra();b;b=b.Ea()){var d=c,f=b.ie,h=d.p,e=f.hp,g=h.c[e];if(null!=g){var l=g.c,g=g.Ea();null==l?h.i=g:l.next=g;null==g?h.p=l:g.sf(l);delete h.c[e]}for(h=d.Zc.Ra(og);h;h=h.Ea())f!=h.Vb.Kb&&f!=h.Vb.Ab||d.zd.c.Kc(h.Vb);d.Z&&f.Ki(d.zd.c.c);f.Kc();f.ao=null;Lf(d)}c.Kc();a.Qg.xk(c)}
function Eg(a,c){var b=c.p();b.gi=null;if(b.Eg=a.mb)a.mb.gi=b;a.mb=b;a.G++;b.Pc.Ef=b;b.Pc.Rd=b.U;b.Pc.prev=null;if(b.Pc.next=b.S.mb)b.S.mb.prev=b.Pc;b.S.mb=b.Pc;b.Qc.Ef=b;b.Qc.Rd=b.S;b.Qc.prev=null;if(b.Qc.next=b.U.mb)b.U.mb.prev=b.Qc;b.U.mb=b.Qc;var d=c.c,f=c.i;if(!c.I)for(var h=f.Zc.Ra(og);h;h=h.Ea())Mg(h.Vb,f)==d&&(h.Vb.dj=!0);return b}
function Dg(a,c){var b=c.dr;c.gi&&(c.gi.Eg=c.Eg);c.Eg&&(c.Eg.gi=c.gi);c==a.mb&&(a.mb=c.Eg);var d=c.S,f=c.U;Qf(d,!0);Qf(f,!0);c.Pc.prev&&(c.Pc.prev.next=c.Pc.next);c.Pc.next&&(c.Pc.next.prev=c.Pc.prev);c.Pc==d.mb&&(d.mb=c.Pc.next);c.Pc.prev=null;c.Pc.next=null;c.Qc.prev&&(c.Qc.prev.next=c.Qc.next);c.Qc.next&&(c.Qc.next.prev=c.Qc.prev);c.Qc==f.mb&&(f.mb=c.Qc.next);c.Qc.prev=null;c.Qc.next=null;a.G--;if(!b)for(b=f.Zc.Ra(og);b;b=b.Ea())Mg(b.Vb,f)==d&&(b.Vb.dj=!0)}
yg.prototype.gg=function(a,c,b){var d,f;this.i&&(Of(this.c),this.i=!1);for(var h=new xg(a,this.D*a,c,b,!0),e=this.c,g=e.zd.Zc.Ra(og);g;g=g.Ea()){var l=g.Vb,m=l.Kb,k=l.Ab,n=m.Qa(),p=k.Qa();if(0!=n.yd||0!=p.yd){if(l.dj){if(0==Wf(p,n)){e.Kc(l);continue}if(0==e.p.c(m,k)){e.Kc(l);continue}l.dj=!1}0==e.c.Pi(m.i,k.i)?e.Kc(l):Ng(l,e.i)}}if(0<h.xa){for(var q=this.I.Ra();q;q=q.Ea())q.Ft.gg(h);for(var v=new tg(this.c.i,this.p),r=this.Qg.Ra(Zf);r;r=r.Ea())r.body.eb=!1;for(var u=this.Zc.Ra(og);u;u=u.Ea())u.Vb.eb=
!1;for(var t=this.mb;t;t=t.Eg)t.eb=!1;for(r=this.Qg.Ra(dg);r;r=r.Ea()){var z=r.body;if(!z.eb){ug(v);Og.length=0;var D=Og;D.push(z);for(z.eb=!0;0<D.length;){var C=D.pop();wg(v,C);C.yd||Qf(C,!0);if(0!=C.nc()){for(u=C.Zc.Ra(Pg);u;u=u.Ea()){var E=u.Vb;if(!E.eb){v.p.push(E);E.eb=!0;var B=Mg(E,C);B.eb||(D.push(B),B.eb=!0)}}for(var y=C.mb;y;y=y.next)!y.Ef.eb&&y.Rd.Hh()&&(v.c.push(y.Ef),y.Ef.eb=!0,y.Rd.eb||(D.push(y.Rd),y.Rd.eb=!0))}}for(var w=v,A=h,J=this.T,V=w,O=A,F=this.u,P=0;P<V.I.length;P++){var G=V.I[P];
G.q.x+=O.xa*(F.x+G.H*G.i.x);G.q.y+=O.xa*(F.y+G.H*G.i.y);G.F+=O.xa*G.P*G.u;G.q.Fd(Hd(1-O.xa*G.Pa,0,1));G.F*=Hd(1-O.xa*G.Ba,0,1)}Qg(w.u,w.p,w.p.length);for(var ja=w,ka=A,U=ja.u,L=0;L<U.i;++L){var M=U.c[L],T=M.c,K=M.i,N=T.H,Y=T.P,Da=K.H,X=K.P,Ia=M.u.x,va=M.u.y,Ja=va,Jc=-Ia,Ka=0,lb=0;if(ka.$f)for(lb=M.D,Ka=0;Ka<lb;++Ka){var la=M.p[Ka];la.Cb*=ka.Ob;la.qf*=ka.Ob;var ba=la.Cb*Ia+la.qf*Ja,bc=la.Cb*va+la.qf*Jc;T.F-=Y*(la.nb.x*bc-la.nb.y*ba);T.q.x-=N*ba;T.q.y-=N*bc;K.F+=X*(la.ob.x*bc-la.ob.y*ba);K.q.x+=Da*
ba;K.q.y+=Da*bc}else for(lb=M.D,Ka=0;Ka<lb;++Ka){var Ob=M.p[Ka];Ob.Cb=0;Ob.qf=0}}for(var wa=0;wa<ja.c.length;wa++)ja.c[wa].Re(ka);for(var Bb=0;Bb<ka.rk;Bb++){for(var sb=0;sb<ja.c.length;sb++)ja.c[sb].Te(ka);Rg(ja.u)}for(var rb=0;rb<ja.c.length;rb++);for(var Fg=ja.u,Ae=0;Ae<Fg.i;++Ae)for(var Be=Fg.c[Ae],mi=Be.Z,sd=0;sd<Be.D;++sd){var Gg=mi.ga[sd],Hg=Be.p[sd];Gg.xh=Hg.Cb;Gg.yh=Hg.qf}for(var Ig=w,mb=A,Ce=0;Ce<Ig.D.length;++Ce){var da=Ig.D[Ce],Jg=mb.xa*da.q.x,Kg=mb.xa*da.q.y;4<Jg*Jg+Kg*Kg&&(ne(da.q),
da.q.x=2*da.q.x*mb.c,da.q.y=2*da.q.y*mb.c);var Lg=mb.xa*da.F;Lg*Lg>wd&&(da.F=0>da.F?-vd*mb.c:vd*mb.c);da.j.gc.J(da.j.A);da.j.ae=da.j.K;da.j.A.x+=mb.xa*da.q.x;da.j.A.y+=mb.xa*da.q.y;da.j.K+=mb.xa*da.F;Vf(da)}for(var df=w,Ai=A,zh=0;zh<Ai.Zj;zh++){for(var Bi=Sg(df.u,.2),ef=!0,ff=0;ff<df.c.length;ff++)var Ci=df.c[ff].Se(.2),ef=ef&&Ci;if(Bi&&ef)break}vg(w,w.u.c);if(J){for(var Ld=w,Di=A,Md=Number.MAX_VALUE,gf=0;gf<Ld.D.length;gf++){var Db=Ld.D[gf];!Db.wa||Math.abs(Db.F)>xd||1E-4<zd(Db.q,Db.q)?Md=Db.I=0:
(Db.I+=Di.xa,Md=Math.min(Md,Db.I))}if(.5<=Md)for(var hf=0;hf<Ld.i.length;hf++)Qf(Ld.i[hf],!1)}}}for(r=this.Qg.Ra(dg);r;r=r.Ea())Tf(r.body);Of(this.c);for(var ra=new tg(this.c.i,this.p),Nd=this.Qg.Ra(Zf);Nd;Nd=Nd.Ea()){var pb=Nd.body;pb.eb=!1;pb.j.Ic=0}for(var Ea=this.Zc.Ra(og);Ea;Ea=Ea.Ea())Ea.Vb.eb=!1,Ea.Vb.c=null;for(var Od=this.mb;Od;Od=Od.Eg)Od.eb=!1;for(;;){for(var Bh=null,jf=1,Pd=this.Zc.Ra(Tg);Pd;Pd=Pd.Ea()){var db=Pd.Vb,Ch=db.Kb.Qa(),Dh=db.Ab.Qa();if(2==Ch.nc()&&Ch.yd||2==Dh.nc()&&Dh.yd){var Ua=
1;if(null!=db.c)Ua=db.c;else if(db.Ch)Ua=1,db.c=Ua;else{var qc=db.Kb.Qa(),Rc=db.Ab.Qa(),Sc=qc.j.Ic;qc.j.Ic<Rc.j.Ic?(Sc=Rc.j.Ic,qc.j.dg(Sc)):Rc.j.Ic<qc.j.Ic&&(Sc=qc.j.Ic,Rc.j.dg(Sc));var Eh=db,Ei=qc.j,Fi=Rc.j;Ug.Of.Set(Eh.Kb.Rb);Ug.Pf.Set(Eh.Ab.Rb);Ug.qs=Ei;Ug.rs=Fi;Ug.Yw=.005;var Tc=Ug;Vg++;var lf=Tc.Of,mf=Tc.Pf,nf=Tc.qs,of=Tc.rs,Qd=lf.Na+mf.Na,Rd=Tc.Yw,eb=0,Uc=0,rc=0;Wg.count=0;for(Xg.p=!1;;){nf.nd(pf,eb);of.nd(wf,eb);Xg.Of=lf;Xg.Pf=mf;Xg.c=pf;Xg.i=wf;Ke(Yg,Wg,Xg);if(0>=Yg.p){eb=1;break}var Hi=mf,
Q=kf,xa=Wg,fb=pf,gb=wf;Q.i=lf;Q.p=Hi;var Eb=void 0,hb=void 0,wb=void 0,Fb=void 0,ib=void 0,xb=void 0,tc=0,uc=0,vc=0,wc=0,Sd=0,Td=0,R=void 0,S=void 0,Va=0;if(1==xa.count)Q.Ka=xf,Eb=Me(Q.i,xa.Ib[0]),Fb=Me(Q.p,xa.Jb[0]),S=Eb,R=fb.r,tc=fb.position.x+(R.k.x*S.x+R.n.x*S.y),uc=fb.position.y+(R.k.y*S.x+R.n.y*S.y),S=Fb,R=gb.r,vc=gb.position.x+(R.k.x*S.x+R.n.x*S.y),wc=gb.position.y+(R.k.y*S.x+R.n.y*S.y),Q.c.x=vc-tc,Q.c.y=wc-uc,ne(Q.c);else{if(xa.Jb[0]==xa.Jb[1])Q.Ka=yf,hb=Me(Q.i,xa.Ib[0]),wb=Me(Q.i,xa.Ib[1]),
Fb=Me(Q.p,xa.Jb[0]),Q.na.x=.5*(hb.x+wb.x),Q.na.y=.5*(hb.y+wb.y),Q.c=Bd(Gd(wb,hb)),ne(Q.c),S=Q.c,R=fb.r,Sd=R.k.x*S.x+R.n.x*S.y,Td=R.k.y*S.x+R.n.y*S.y,S=Q.na,R=fb.r,tc=fb.position.x+(R.k.x*S.x+R.n.x*S.y),uc=fb.position.y+(R.k.y*S.x+R.n.y*S.y),S=Fb,R=gb.r,vc=gb.position.x+(R.k.x*S.x+R.n.x*S.y),wc=gb.position.y+(R.k.y*S.x+R.n.y*S.y),Va=(vc-tc)*Sd+(wc-uc)*Td;else if(xa.Ib[0]==xa.Ib[0])Q.Ka=zf,ib=Me(Q.p,xa.Jb[0]),xb=Me(Q.p,xa.Jb[1]),Eb=Me(Q.i,xa.Ib[0]),Q.na.x=.5*(ib.x+xb.x),Q.na.y=.5*(ib.y+xb.y),Q.c=Bd(Gd(xb,
ib)),ne(Q.c),S=Q.c,R=gb.r,Sd=R.k.x*S.x+R.n.x*S.y,Td=R.k.y*S.x+R.n.y*S.y,S=Q.na,R=gb.r,vc=gb.position.x+(R.k.x*S.x+R.n.x*S.y),wc=gb.position.y+(R.k.y*S.x+R.n.y*S.y),S=Eb,R=fb.r,tc=fb.position.x+(R.k.x*S.x+R.n.x*S.y),uc=fb.position.y+(R.k.y*S.x+R.n.y*S.y),Va=(tc-vc)*Sd+(uc-wc)*Td;else{var hb=Me(Q.i,xa.Ib[0]),wb=Me(Q.i,xa.Ib[1]),ib=Me(Q.p,xa.Jb[0]),xb=Me(Q.p,xa.Jb[1]),yb=Cd(fb.r,Gd(wb,hb)),zb=Cd(gb.r,Gd(xb,ib)),Gh=yb.x*yb.x+yb.y*yb.y,qf=zb.x*zb.x+zb.y*zb.y,Ud=Gd(zb,yb),Hh=yb.x*Ud.x+yb.y*Ud.y,Ih=zb.x*
Ud.x+zb.y*Ud.y,Vc=yb.x*zb.x+yb.y*zb.y,Jh=Gh*qf-Vc*Vc,Va=0;0!=Jh&&(Va=Hd((Vc*Ih-Hh*qf)/Jh,0,1));0>(Vc*Va+Ih)/qf&&(Va=Hd((Vc-Hh)/Gh,0,1));Eb=Z(0,0);Eb.x=hb.x+Va*(wb.x-hb.x);Eb.y=hb.y+Va*(wb.y-hb.y);Fb=Z(0,0);Fb.x=ib.x+Va*(xb.x-ib.x);Fb.y=ib.y+Va*(xb.y-ib.y);0==Va||1==Va?(Q.Ka=zf,Q.c=Bd(Gd(xb,ib)),ne(Q.c),Q.na=Fb):(Q.Ka=yf,Q.c=Bd(Gd(wb,hb)),Q.na=Eb)}if(0>Va){var Vd=Q.c;Vd.x=-Vd.x;Vd.y=-Vd.y}}var Wc=cf();if(0>=Wc){eb=1;break}0==Uc&&(rc=Wc>Qd?Math.max(Qd-Rd,.75*Qd):Math.max(Wc-Rd,.02*Qd));if(Wc-rc<.5*
Rd){if(0==Uc){eb=1;break}break}var rf=eb,Wd=eb,Xc=1,sf=Wc;nf.nd(pf,Xc);of.nd(wf,Xc);var tf=cf();if(tf>=rc){eb=1;break}for(var Xd=0;;){var xc=0,xc=Xd&1?Wd+(rc-sf)*(Xc-Wd)/(tf-sf):.5*(Wd+Xc);nf.nd(pf,xc);of.nd(wf,xc);var Yd=cf();if(Math.abs(Yd-rc)<.025*Rd){rf=xc;break}Yd>rc?(Wd=xc,sf=Yd):(Xc=xc,tf=Yd);Xd++;Zg++;if(50==Xd)break}$g=Math.max($g,Xd);if(rf<(1+100*Number.MIN_VALUE)*eb)break;eb=rf;Uc++;ah++;if(1E3==Uc)break}bh=Math.max(bh,Uc);Ua=eb;0<Ua&&1>Ua&&(Ua=(1-Ua)*Sc+Ua);db.c=Ua}Number.MIN_VALUE<Ua&&
Ua<jf&&(Bh=db,jf=Ua)}}d=Bh;f=jf;var Gb=d,yc=f;if(null===Gb||Bg<yc)break;var Yc=Gb.Kb.Qa(),Zc=Gb.Ab.Qa();ch.Set(Yc.j);dh.Set(Zc.j);Yc.dg(yc);Zc.dg(yc);Ng(Gb,this.c.i);Gb.c=null;if(Gb.D||!Gb.enabled)Yc.j.Set(ch),Zc.j.Set(dh),Vf(Yc),Vf(Zc);else if(Gb.Ch){var Zd=Yc;2!=Zd.nc()&&(Zd=Zc);ug(ra);Og.length=0;var $c=Og;$c.push(Zd);for(Zd.eb=!0;0<$c.length;)if(pb=$c.pop(),wg(ra,pb),pb.yd||Qf(pb,!0),2==pb.nc()){for(Ea=pb.Zc.Ra(Pg);Ea&&32!=ra.T;Ea=Ea.Ea()){var $d=Ea.Vb;if(!$d.eb){ra.p.push($d);$d.eb=!0;var zc=
Mg($d,pb);zc.eb||(0!=zc.nc()&&(zc.dg(yc),Qf(zc,!0),$c.push(zc)),zc.eb=!0)}}for(var Wa=pb.mb;Wa;Wa=Wa.next)32!=ra.G&&!Wa.Ef.eb&&Wa.Rd.Hh()&&(ra.c.push(Wa.Ef),Wa.Ef.eb=!0,Wa.Rd.eb||(0!=Wa.Rd.nc()&&(Wa.Rd.dg(yc),Qf(Wa.Rd,!0),$c.push(Wa.Rd)),Wa.Rd.eb=!0))}var Xa=ra,Pa=new xg((1-yc)*h.xa,0,h.rk,h.Zj,!1),Qa=0,Hb=0;Qg(Xa.u,Xa.p,Xa.p.length);for(var uf=Xa.u,Qa=0;Qa<Xa.c.length;++Qa)Xa.c[Qa].Re(Pa);for(Qa=0;Qa<Pa.rk;++Qa)for(Rg(uf),Hb=0;Hb<Xa.c.length;++Hb)Xa.c[Hb].Te(Pa);for(Qa=0;Qa<Xa.D.length;++Qa){var fa=
Xa.D[Qa],Oh=Pa.xa*fa.q.x,Ph=Pa.xa*fa.q.y;4<Oh*Oh+Ph*Ph&&(ne(fa.q),fa.q.x=2*fa.q.x*Pa.c,fa.q.y=2*fa.q.y*Pa.c);var Qh=Pa.xa*fa.F;Qh*Qh>wd&&(fa.F=0>fa.F?-vd*Pa.c:vd*Pa.c);fa.j.gc.J(fa.j.A);fa.j.ae=fa.j.K;fa.j.A.x+=Pa.xa*fa.q.x;fa.j.A.y+=Pa.xa*fa.q.y;fa.j.K+=Pa.xa*fa.F;Vf(fa)}for(Qa=0;Qa<Pa.Zj;++Qa){for(var Ki=Sg(uf,.75),vf=!0,Hb=0;Hb<Xa.c.length;++Hb)var Li=Xa.c[Hb].Se(.2),vf=vf&&Li;if(Ki&&vf)break}vg(Xa,uf.c);for(var Ba=0;Ba<ra.i.length;Ba++)if(ra.i[Ba].eb=!1,ra.i[Ba].yd&&2==ra.i[Ba].nc())for(Tf(ra.i[Ba]),
Ea=ra.i[Ba].Zc.Ra(og);Ea;Ea=Ea.Ea())Ea.Vb.c=null;for(Ba=0;Ba<ra.T;Ba++)ra.p[Ba].eb=!1,ra.p[Ba].c=null;for(Ba=0;Ba<ra.G;Ba++)ra.c[Ba].eb=!1;Of(this.c)}}this.D=h.c}};yg.prototype.Tg=function(){return this.Zc};var Og=[];function eh(a,c){this.i="Contact"+fh++;this.Pd=new af;this.u=new af;this.Ch=!1;var b=a.Qa(),d=c.Qa();this.I=2!=b.nc()||b.D||2!=d.nc()||d.D;this.D=a.p||c.p;this.dj=!1;this.Kb=a;this.Ab=c;this.enabled=!0;this.Ck=b.Tg();this.Dk=d.Tg();this.mm=d.zd.Tg();gh(this)}
eh.prototype.fc=function(a,c){this.Pd.fc();this.u.fc();this.Ch=!1;var b=a.Qa(),d=c.Qa();this.I=2!=b.nc()||b.D||2!=d.nc()||d.D;this.D=a.p||c.p;this.dj=!1;this.Kb=a;this.Ab=c;this.enabled=!0;this.Ck=b.Tg();this.Dk=d.Tg();this.mm=d.zd.Tg();gh(this)};function gh(a){hh(a.Ck,a);hh(a.Dk,a);hh(a.mm,a);ih(a)}function ih(a){var c=!1,b=!1;!a.D&&a.enabled&&(a.Ch&&(c=!0),a.I&&(b=!0));jh(a.Ck,a,c,b);jh(a.Dk,a,c,b);jh(a.mm,a,c,b)}function Mg(a,c){var b=a.Kb.Qa();return b!=c?b:a.Ab.Qa()}
function Ng(a,c){var b=a.u;a.u=a.Pd;a.Pd=b;a.enabled=!0;var d=!1,b=a.Ch,f=a.Kb.Qa(),h=a.Ab.Qa(),e=a.Kb.c.Pi(a.Ab.c);if(a.D){if(e){var d=a.Kb.Rb,f=f.nd(),e=a.Ab.Rb,g=h.nd(),h=new Oe;h.Of=new Qe;h.Of.Set(d);h.Pf=new Qe;h.Pf.Set(e);h.c=f;h.i=g;h.p=!0;f=new Bf;f.count=0;d=new Pe;Ke(d,f,h);d=d.p<10*Number.MIN_VALUE}a.Pd.Bb=0}else{a.I=2!=f.nc()||f.D||2!=h.nc()||h.D?!0:!1;if(e)for(a.p(),d=0<a.Pd.Bb,e=0;e<a.Pd.Bb;e++){g=a.Pd.ga[e];g.xh=0;for(var l=g.yh=0;l<a.u.Bb;l++){var m=a.u.ga[l];if(m.oe.Hb==g.oe.Hb){g.xh=
m.xh;g.yh=m.yh;break}}}else a.Pd.Bb=0;d!=b&&(Qf(f,!0),Qf(h,!0))}a.Ch=d;d!=b&&ih(a);!b&&d&&c.BeginContact(a);b&&!d&&c.EndContact(a)}eh.prototype.p=function(){};var Ug=new Cf,fh=0;function kh(a,c){eh.call(this,a,c)}W(kh,eh);kh.prototype.fc=function(a,c){eh.prototype.fc.call(this,a,c)};
kh.prototype.p=function(){var a=this.Pd,c=this.Kb.Rb,b=this.Kb.Qa().B,d=this.Ab.Rb,f=this.Ab.Qa().B;a.Bb=0;var h=f.position.x+(f.r.k.x*d.Wa.x+f.r.n.x*d.Wa.y)-(b.position.x+(b.r.k.x*c.Wa.x+b.r.n.x*c.Wa.y)),b=f.position.y+(f.r.k.y*d.Wa.x+f.r.n.y*d.Wa.y)-(b.position.y+(b.r.k.y*c.Wa.x+b.r.n.y*c.Wa.y)),f=c.Na+d.Na;h*h+b*b>f*f||(a.Ka=1,a.na.J(c.Wa),a.jc.ha(),a.Bb=1,a.ga[0].na.J(d.Wa),xe(a.ga[0].oe,0))};
function lh(){this.I=Z(0,0);this.zb=Z(0,0);this.u=Z(0,0);this.Hf=new Id;this.G=new Id;this.p=[];for(var a=0;2>a;a++)this.p[a]=new mh}function mh(){this.zb=Z(0,0);this.nb=Z(0,0);this.ob=Z(0,0)}mh.prototype.fc=function(){this.zb.Set(0,0);this.nb.Set(0,0);this.ob.Set(0,0)};
function ng(){this.c={};this.i={};nh(this,kh,"b2CircleShape","b2CircleShape");nh(this,oh,"b2PolygonShape","b2CircleShape");nh(this,ph,"b2PolygonShape","b2PolygonShape");nh(this,qh,"b2EdgeShape","b2CircleShape");nh(this,rh,"b2PolygonShape","b2EdgeShape")}function nh(a,c,b,d){a.i[b]=a.i[b]||{};a.i[b][d]=a.i[b][d]||[];a.c[b]=a.c[b]||{};a.c[b][d]=new sh;a.c[b][d].Rp=c;a.c[b][d].Lr=!0;b!=d&&(a.c[d]=a.c[d]||{},a.c[d][b]=new sh,a.c[d][b].Rp=c,a.c[d][b].Lr=!1)}
ng.prototype.p=function(a,c){var b=a.Rb.Ug(),d=c.Rb.Ug(),f=this.c[b][d],h=f.Rp;return null!=h?f.Lr?0<this.i[b][d].length?(b=this.i[b][d].pop(),b.fc(a,c),b):new h(a,c):0<this.i[d][b].length?(b=this.i[d][b].pop(),b.fc(c,a),b):new h(c,a):null};ng.prototype.Kc=function(a){this.i[a.Kb.Rb.Ug()][a.Ab.Rb.Ug()].push(a)};function Ff(){this.i=[];for(var a=0;a<=og;a++)this.i[a]=null;this.p=[];for(a=0;a<=og;a++)this.p[a]=null;this.c={}}Ff.prototype.Ra=function(a){return this.i[a]};
function hh(a,c){var b=c.i;if(null==a.c[b]){a.c[b]=[];for(var d=0;d<=og;d++)a.c[b][d]=null;th(a,c,b,og)}}function jh(a,c,b,d){b?th(a,c,c.i,Pg):uh(a,c.i,Pg);d?th(a,c,c.i,Tg):uh(a,c.i,Tg)}function pg(a,c){var b=c.i;if(null!=a.c[b]){for(var d=0;d<=og;d++)uh(a,b,d);delete a.c[b]}}function uh(a,c,b){var d=a.c[c];if(null!=d&&(c=d[b],null!=c)){d[b]=null;var d=c.c,f=c.Ea();null==d?a.i[b]=f:d.next=f;null==f?a.p[b]=d:f.sf(d);vh.push(c)}}
function th(a,c,b,d){b=a.c[b];if(null==b[d]){if(0<vh.length){var f=vh.pop();f.next=null;f.c=null;f.Vb=c;c=f}else c=new wh(c);b[d]=c;c=a.p[d];null!=c?(c.next=b[d],b[d].sf(c)):a.i[d]=b[d];a.p[d]=b[d]}}var Pg=0,Tg=1,og=2;function wh(a){this.Vb=a;this.c=this.next=null}var vh=[];wh.prototype.sf=function(a){this.c=a};wh.prototype.Ea=function(){return this.next};function sh(){}function zg(){this.c=[]}
function Qg(a,c,b){for(a.i=b;a.c.length<a.i;)a.c[a.c.length]=new lh;for(var d=0;d<b;d++){var f=c[d],h=f.Kb,e=f.Ab,g=h.Rb.Na,l=e.Rb.Na,m=h.Qa(),k=e.Qa(),f=f.Pd,n=Math.sqrt(h.I*e.I),p,h=h.G,e=e.G;p=h>e?h:e;var e=m.q.x,h=m.q.y,q=k.q.x,v=k.q.y,r=m.F,u=k.F,t=f,z=m.B,D=g,C=k.B,E=l,B=xh;if(0!=t.Bb){var y=0,w=void 0,A=void 0,J=0,V=0,O=0,F=0,P=0,w=0;switch(t.Ka){case 1:A=z.r;w=t.na;y=z.position.x+A.k.x*w.x+A.n.x*w.y;z=z.position.y+A.k.y*w.x+A.n.y*w.y;A=C.r;w=t.ga[0].na;t=C.position.x+A.k.x*w.x+A.n.x*w.y;C=
C.position.y+A.k.y*w.x+A.n.y*w.y;w=t-y;A=C-z;J=w*w+A*A;J>yd?(J=Math.sqrt(J),B.c.x=w/J,B.c.y=A/J):(B.c.x=1,B.c.y=0);w=z+D*B.c.y;C=C-E*B.c.y;B.ga[0].x=.5*(y+D*B.c.x+(t-E*B.c.x));B.ga[0].y=.5*(w+C);break;case 2:A=z.r;w=t.jc;J=A.k.x*w.x+A.n.x*w.y;V=A.k.y*w.x+A.n.y*w.y;A=z.r;w=t.na;O=z.position.x+A.k.x*w.x+A.n.x*w.y;F=z.position.y+A.k.y*w.x+A.n.y*w.y;B.c.x=J;B.c.y=V;for(y=0;y<t.Bb;y++)A=C.r,w=t.ga[y].na,P=C.position.x+A.k.x*w.x+A.n.x*w.y,w=C.position.y+A.k.y*w.x+A.n.y*w.y,B.ga[y].x=P+.5*(D-(P-O)*J-(w-
F)*V-E)*J,B.ga[y].y=w+.5*(D-(P-O)*J-(w-F)*V-E)*V;break;case 4:for(A=C.r,w=t.jc,J=A.k.x*w.x+A.n.x*w.y,V=A.k.y*w.x+A.n.y*w.y,A=C.r,w=t.na,O=C.position.x+A.k.x*w.x+A.n.x*w.y,F=C.position.y+A.k.y*w.x+A.n.y*w.y,B.c.x=-J,B.c.y=-V,y=0;y<t.Bb;y++)A=z.r,w=t.ga[y].na,P=z.position.x+A.k.x*w.x+A.n.x*w.y,w=z.position.y+A.k.y*w.x+A.n.y*w.y,B.ga[y].x=P+.5*(E-(P-O)*J-(w-F)*V-D)*J,B.ga[y].y=w+.5*(E-(P-O)*J-(w-F)*V-D)*V}}E=xh.c.x;B=xh.c.y;D=a.c[d];D.c=m;D.i=k;D.Z=f;D.u.x=E;D.u.y=B;D.D=f.Bb;D.ug=n;D.Jg=p;D.I.x=f.jc.x;
D.I.y=f.jc.y;D.zb.x=f.na.x;D.zb.y=f.na.y;D.T=g+l;D.type=f.Ka;for(g=0;g<D.D;++g)n=f.ga[g],l=D.p[g],l.Cb=n.xh,l.qf=n.yh,l.zb.J(n.na),n=l.nb.x=xh.ga[g].x-m.j.A.x,p=l.nb.y=xh.ga[g].y-m.j.A.y,C=l.ob.x=xh.ga[g].x-k.j.A.x,y=l.ob.y=xh.ga[g].y-k.j.A.y,t=n*B-p*E,w=C*B-y*E,t*=t,w*=w,l.Hf=1/(m.H+k.H+m.P*t+k.P*w),A=m.R*m.H+k.R*k.H,A+=m.R*m.P*t+k.R*k.P*w,l.ou=1/A,w=B,A=-E,t=n*A-p*w,w=C*A-y*w,t*=t,w*=w,l.Tw=1/(m.H+k.H+m.P*t+k.P*w),l.qk=0,n=D.u.x*(q+-u*y-e- -r*p)+D.u.y*(v+u*C-h-r*n),-1>n&&(l.qk+=-D.Jg*n);2==D.D&&
(v=D.p[0],q=D.p[1],f=m.H,m=m.P,e=k.H,k=k.P,h=v.nb.x*B-v.nb.y*E,v=v.ob.x*B-v.ob.y*E,r=q.nb.x*B-q.nb.y*E,g=q.ob.x*B-q.ob.y*E,q=f+e+m*h*h+k*v*v,u=f+e+m*r*r+k*g*g,k=f+e+m*h*r+k*v*g,q*q<100*(q*u-k*k)?(D.G.k.Set(q,k),D.G.n.Set(k,u),ae(D.G,D.Hf)):D.D=1)}}
function Rg(a){for(var c=0;c<a.i;c++){for(var b=a.c[c],d=b.u.x,f=b.u.y,h=0;h<b.D;h++){var e=b,g=b.p[h],l=e.u.y,m=-e.u.x,k=e.ug*g.Cb,k=Hd(g.qf-g.Tw*((e.i.q.x-e.i.F*g.ob.y-e.c.q.x+e.c.F*g.nb.y)*l+(e.i.q.y+e.i.F*g.ob.x-e.c.q.y-e.c.F*g.nb.x)*m),-k,k),n=k-g.qf,l=n*l,m=n*m;e.c.q.x-=e.c.H*l;e.c.q.y-=e.c.H*m;e.c.F-=e.c.P*(g.nb.x*m-g.nb.y*l);e.i.q.x+=e.i.H*l;e.i.q.y+=e.i.H*m;e.i.F+=e.i.P*(g.ob.x*m-g.ob.y*l);g.qf=k}if(1==b.D)h=b.p[0],e=h.Cb-h.Hf*((b.i.q.x-b.i.F*h.ob.y-b.c.q.x+b.c.F*h.nb.y)*d+(b.i.q.y+b.i.F*
h.ob.x-b.c.q.y-b.c.F*h.nb.x)*f-h.qk),e=0<e?e:0,g=e-h.Cb,d=g*d,f=g*f,b.c.q.x-=b.c.H*d,b.c.q.y-=b.c.H*f,b.c.F-=b.c.P*(h.nb.x*f-h.nb.y*d),b.i.q.x+=b.i.H*d,b.i.q.y+=b.i.H*f,b.i.F+=b.i.P*(h.ob.x*f-h.ob.y*d),h.Cb=e;else for(h=b.p[0],e=b.p[1],g=h.Cb,m=e.Cb,k=(b.i.q.x-b.i.F*h.ob.y-b.c.q.x+b.c.F*h.nb.y)*d+(b.i.q.y+b.i.F*h.ob.x-b.c.q.y-b.c.F*h.nb.x)*f-h.qk,f=(b.i.q.x-b.i.F*e.ob.y-b.c.q.x+b.c.F*e.nb.y)*d+(b.i.q.y+b.i.F*e.ob.x-b.c.q.y-b.c.F*e.nb.x)*f-e.qk,k-=b.G.k.x*g+b.G.n.x*m,f-=b.G.k.y*g+b.G.n.y*m;;){d=-(b.Hf.k.x*
k+b.Hf.n.x*f);if(0<=d&&(l=-(b.Hf.k.y*k+b.Hf.n.y*f),0<=l)){yh(b,h,e,d-g,l-m);h.Cb=d;e.Cb=l;break}d=-h.Hf*k;if(0<=d&&0<=b.G.k.y*d+f){yh(b,h,e,d-g,-m);h.Cb=d;e.Cb=0;break}d=-e.Hf*f;if(0<=d&&0<=b.G.n.x*d+k){yh(b,h,e,-g,d-m);h.Cb=0;e.Cb=d;break}if(0<=k&&0<=f){yh(b,h,e,-g,-m);h.Cb=0;e.Cb=0;break}break}}}
function yh(a,c,b,d,f){var h=d*a.u.x;d*=a.u.y;var e=f*a.u.x;f*=a.u.y;a.c.q.x-=a.c.H*(h+e);a.c.q.y-=a.c.H*(d+f);a.c.F-=a.c.P*(c.nb.x*d-c.nb.y*h+b.nb.x*f-b.nb.y*e);a.i.q.x+=a.i.H*(h+e);a.i.q.y+=a.i.H*(d+f);a.i.F+=a.i.P*(c.ob.x*d-c.ob.y*h+b.ob.x*f-b.ob.y*e);c.Cb=0;b.Cb=0}
function Sg(a,c){void 0===c&&(c=0);for(var b=0,d=0;d<a.i;d++){var f=a.c[d],h=f.c,e=f.i,g=h.R*h.H,l=h.R*h.P,m=e.R*e.H,k=e.R*e.P,n=f,p=Ah;switch(n.type){case 1:var q=n.c.B.r,v=n.zb,r=n.c.B.position.x+(q.k.x*v.x+q.n.x*v.y),u=n.c.B.position.y+(q.k.y*v.x+q.n.y*v.y),q=n.i.B.r,v=n.p[0].zb,t=n.i.B.position.x+(q.k.x*v.x+q.n.x*v.y),q=n.i.B.position.y+(q.k.y*v.x+q.n.y*v.y),v=t-r,z=q-u,D=v*v+z*z;D>yd?(D=Math.sqrt(D),p.c.x=v/D,p.c.y=z/D):(p.c.x=1,p.c.y=0);p.ga[0].x=.5*(r+t);p.ga[0].y=.5*(u+q);p.i[0]=v*p.c.x+z*
p.c.y-n.T;break;case 2:p.c.x=n.c.B.r.k.x*n.I.x+n.c.B.r.n.x*n.I.y;p.c.y=n.c.B.r.k.y*n.I.x+n.c.B.r.n.y*n.I.y;r=n.c.B.position.x+(n.c.B.r.k.x*n.zb.x+n.c.B.r.n.x*n.zb.y);u=n.c.B.position.y+(n.c.B.r.k.y*n.zb.x+n.c.B.r.n.y*n.zb.y);for(t=0;t<n.D;t++)q=n.i.B.position.x+(n.i.B.r.k.x*n.p[t].zb.x+n.i.B.r.n.x*n.p[t].zb.y),v=n.i.B.position.y+(n.i.B.r.k.y*n.p[t].zb.x+n.i.B.r.n.y*n.p[t].zb.y),p.i[t]=(q-r)*p.c.x+(v-u)*p.c.y-n.T,p.ga[t].x=q,p.ga[t].y=v;break;case 4:p.c.x=n.i.B.r.k.x*n.I.x+n.i.B.r.n.x*n.I.y;p.c.y=
n.i.B.r.k.y*n.I.x+n.i.B.r.n.y*n.I.y;r=n.i.B.position.x+(n.i.B.r.k.x*n.zb.x+n.i.B.r.n.x*n.zb.y);u=n.i.B.position.y+(n.i.B.r.k.y*n.zb.x+n.i.B.r.n.y*n.zb.y);for(t=0;t<n.D;t++)q=n.c.B.position.x+(n.c.B.r.k.x*n.p[t].zb.x+n.c.B.r.n.x*n.p[t].zb.y),v=n.c.B.position.y+(n.c.B.r.k.y*n.p[t].zb.x+n.c.B.r.n.y*n.p[t].zb.y),p.i[t]=(q-r)*p.c.x+(v-u)*p.c.y-n.T,p.ga[t].Set(q,v);p.c.x*=-1;p.c.y*=-1}p=Ah.c;for(n=0;n<f.D;n++)v=f.p[n],q=Ah.ga[n],z=Ah.i[n],r=q.x-h.j.A.x,u=q.y-h.j.A.y,t=q.x-e.j.A.x,q=q.y-e.j.A.y,b=b<z?b:
z,z=-v.ou*Hd(c*(z+.005),-.2,0),v=z*p.x,z*=p.y,h.j.A.x-=g*v,h.j.A.y-=g*z,h.j.K-=l*(r*z-u*v),Vf(h),e.j.A.x+=m*v,e.j.A.y+=m*z,e.j.K+=k*(t*z-q*v),Vf(e)}return-.0075<b}function qh(a,c){eh.call(this,a,c)}W(qh,eh);qh.prototype.fc=function(a,c){eh.prototype.fc.call(this,a,c)};qh.prototype.p=function(){};function oh(a,c){eh.call(this,a,c)}W(oh,eh);oh.prototype.fc=function(a,c){eh.prototype.fc.call(this,a,c)};
oh.prototype.p=function(){a:{var a=this.Pd,c=this.Kb.Rb,b=this.Kb.Qa().B,d=this.Ab.Rb,f=this.Ab.Qa().B;a.Bb=0;for(var h=f.position.x+(f.r.k.x*d.Wa.x+f.r.n.x*d.Wa.y)-b.position.x,e=f.position.y+(f.r.k.y*d.Wa.x+f.r.n.y*d.Wa.y)-b.position.y,f=h*b.r.k.x+e*b.r.k.y,b=h*b.r.n.x+e*b.r.n.y,h=0,e=-Number.MAX_VALUE,g=c.Na+d.Na,l=0;l<c.Sa;++l){var m=c.$a[l].x*(f-c.M[l].x)+c.$a[l].y*(b-c.M[l].y);if(m>g)break a;m>e&&(e=m,h=l)}m=h+1;m>=c.Sa&&(m=0);var l=c.M[h],k=c.M[m];e<Number.MIN_VALUE?(a.Bb=1,a.Ka=2,a.jc.J(c.$a[h]),
a.na.x=.5*(l.x+k.x),a.na.y=.5*(l.y+k.y),a.ga[0].na.J(d.Wa),xe(a.ga[0].oe,0)):0>=(f-l.x)*(k.x-l.x)+(b-l.y)*(k.y-l.y)?(f-l.x)*(f-l.x)+(b-l.y)*(b-l.y)>g*g||(a.Bb=1,a.Ka=2,a.jc.x=f-l.x,a.jc.y=b-l.y,ne(a.jc),a.na.J(l),a.ga[0].na.J(d.Wa),xe(a.ga[0].oe,0)):0>=(f-k.x)*(l.x-k.x)+(b-k.y)*(l.y-k.y)?(f-k.x)*(f-k.x)+(b-k.y)*(b-k.y)>g*g||(a.Bb=1,a.Ka=2,a.jc.x=f-k.x,a.jc.y=b-k.y,ne(a.jc),a.na.J(k),a.ga[0].na.J(d.Wa),xe(a.ga[0].oe,0)):(m=.5*(l.x+k.x),l=.5*(l.y+k.y),e=(f-m)*c.$a[h].x+(b-l)*c.$a[h].y,e>g||(a.Bb=1,
a.Ka=2,a.jc.x=c.$a[h].x,a.jc.y=c.$a[h].y,ne(a.jc),a.na.Set(m,l),a.ga[0].na.J(d.Wa),xe(a.ga[0].oe,0)))}};function rh(a,c){eh.call(this,a,c)}W(rh,eh);rh.prototype.fc=function(a,c){eh.prototype.fc.call(this,a,c)};rh.prototype.p=function(){};function ph(a,c){eh.call(this,a,c)}W(ph,eh);ph.prototype.fc=function(a,c){eh.prototype.fc.call(this,a,c)};
ph.prototype.p=function(){var a=this.Pd,c=this.Kb.Rb,b=this.Kb.Qa().B,d=this.Ab.Rb,f=this.Ab.Qa().B;a.Bb=0;var h=c.Na+d.Na,e=Je(c,b,d,f),g=e.Ep;if(!(e.Tl>h)){var l=Je(d,f,c,b);if(!(l.Tl>h)){var m=c,k=d,n=b,p=f,q=0;a.Ka=2;l.Tl>.98*e.Tl+.001&&(m=d,k=c,n=f,p=b,g=l.Ep,a.Ka=4,q=1);c=g;b=k;d=p;k=Fh;void 0===c&&(c=0);for(var e=n.r.k.x*m.$a[c].x+n.r.n.x*m.$a[c].y,l=n.r.k.y*m.$a[c].x+n.r.n.y*m.$a[c].y,f=d.r.k.x*e+d.r.k.y*l,l=d.r.n.x*e+d.r.n.y*l,e=f,f=0,v=Number.MAX_VALUE,r=0;r<b.Sa;r++){var u=e*b.$a[r].x+
l*b.$a[r].y;u<v&&(v=u,f=r)}e=f+1;e>=b.Sa&&(e=0);k[0].$d.x=d.position.x+(d.r.k.x*b.M[f].x+d.r.n.x*b.M[f].y);k[0].$d.y=d.position.y+(d.r.k.y*b.M[f].x+d.r.n.y*b.M[f].y);l=k[0].id;l.p=c;l.Hb=l.Hb&4294967040|l.p&255;l=k[0].id;l.c=f;l.Hb=l.Hb&4294902015|l.c<<8&65280;f=k[0].id;f.i=0;f.Hb=f.Hb&4278255615|f.i<<16&16711680;k[1].$d.x=d.position.x+(d.r.k.x*b.M[e].x+d.r.n.x*b.M[e].y);k[1].$d.y=d.position.y+(d.r.k.y*b.M[e].x+d.r.n.y*b.M[e].y);b=k[1].id;b.p=c;b.Hb=b.Hb&4294967040|b.p&255;c=k[1].id;c.c=e;c.Hb=c.Hb&
4294902015|c.c<<8&65280;c=k[1].id;c.i=1;c.Hb=c.Hb&4278255615|c.i<<16&16711680;c=m.M[g];g=g+1<m.Sa?m.M[g+1]:m.M[0];Kh.Set(g.x-c.x,g.y-c.y);ne(Kh);Lh.x=Kh.y;Lh.y=-Kh.x;Mh.Set(.5*(c.x+g.x),.5*(c.y+g.y));Nh.x=n.r.k.x*Kh.x+n.r.n.x*Kh.y;Nh.y=n.r.k.y*Kh.x+n.r.n.y*Kh.y;Rh.x=-Nh.x;Rh.y=-Nh.y;Sh.x=Nh.y;Sh.y=-Nh.x;Th.x=n.position.x+(n.r.k.x*c.x+n.r.n.x*c.y);Th.y=n.position.y+(n.r.k.y*c.x+n.r.n.y*c.y);Uh.x=n.position.x+(n.r.k.x*g.x+n.r.n.x*g.y);Uh.y=n.position.y+(n.r.k.y*g.x+n.r.n.y*g.y);if(!(2>He(Vh,Fh,Rh,-Nh.x*
Th.x-Nh.y*Th.y+h)||2>He(Wh,Vh,Nh,Nh.x*Uh.x+Nh.y*Uh.y+h))){a.jc.J(Lh);a.na.J(Mh);n=Sh.x*Th.x+Sh.y*Th.y;for(m=g=0;2>m;++m)Sh.x*Wh[m].$d.x+Sh.y*Wh[m].$d.y-n<=h&&(c=Wh[m].$d.x-p.position.x,k=Wh[m].$d.y-p.position.y,a.ga[g].na.x=c*p.r.k.x+k*p.r.k.y,a.ga[g].na.y=c*p.r.n.x+k*p.r.n.y,a.ga[g].oe.Set(Wh[m].id),c=a.ga[g].oe,c.u=q,c.Hb=c.Hb&16777215|c.u<<24&4278190080,g++);a.Bb=g}}}};function Xh(){this.D="Controller"+Yh++;this.zd=null;this.c=new Yf}Xh.prototype.gg=function(){};
Xh.prototype.xk=function(a){this.c.xk(a);a=a.W;var c=this.D,b=a.i[c];if(null!=b){var d=b.c(),b=b.Ea();null==d?a.c=b:d.i(b);null==b||b.sf(d);delete a.i[c]}};var Yh=0;function Zh(){Xh.call(this);this.p=Z(0,-1);this.rg=this.offset=0;this.u=Z(0,0);this.i=null}W(Zh,Xh);
Zh.prototype.gg=function(){this.i=this.zd.u.Tb();for(var a=this.c.Ra(eg);a;a=a.Ea()){for(var c=a.body,b=Z(0,0),d=Z(0,0),f=0,h=0,e=c.p.Ra();e;e=e.Ea()){var g=Z(0,0),l=e.ie.Rb.uk(this.p,this.offset,c.nd(),g),f=f+l;b.x+=l*g.x;b.y+=l*g.y;var m=0,m=1,h=h+l*m;d.x+=l*g.x*m;d.y+=l*g.y*m}f<Number.MIN_VALUE||(b.x/=f,b.y/=f,d.x/=h,d.y/=h,h=this.i.eg(),h.Fd(this.rg*f),c.Pg(h,d),h=Z(c.q.x-c.F*(b.y-c.j.A.y),c.q.y+c.F*(b.x-c.j.A.x)),h.qp(this.u),h.Fd(-2*f),c.Pg(h,b),c.qm(-c.c/c.R*f*c.F*1),ke(b),ke(d))}};
function $h(){Xh.call(this);this.i=Z(0,0)}W($h,Xh);$h.prototype.gg=function(a){a=Z(this.i.x*a.xa,this.i.y*a.xa);for(var c=this.c.Ra(eg);c;c=c.Ea()){var b=c.body,d=b.q;Pf(b,Z(d.x+a.x,d.y+a.y))}ke(a)};function ai(){Xh.call(this);this.i=Z(0,0)}W(ai,Xh);ai.prototype.gg=function(){for(var a=this.c.Ra(eg);a;a=a.Ea()){var c=a.body;c.Pg(this.i,c.j.A)}};function Gf(){this.c=null;this.i={}}Gf.prototype.Ra=function(){return this.c};function bi(){Xh.call(this)}W(bi,Xh);
bi.prototype.gg=function(){for(var a=null,c=null,b=0,d=null,f=null,h=0,e=0,g=0,h=null,l=this.c.Ra(Zf);l;l=l.Ea())for(var a=l.body,c=a.j.A,b=a.R,m=this.c.Ra(Zf);m;m=m.Ea())if(d=m.body,a.yd||d.yd)f=d.j.A,h=f.x-c.x,e=f.y-c.y,g=h*h+e*e,g<Number.MIN_VALUE||(h=Z(h,e),h.Fd(1/g/Math.sqrt(g)*b*d.R),a.yd&&a.Pg(h,c),h.Fd(-1),d.yd&&d.Pg(h,f),ke(h))};function ci(){Xh.call(this);this.p=new Id;this.i=0}W(ci,Xh);
ci.prototype.gg=function(a){a=a.xa;if(!(a<=Number.MIN_VALUE)){a>this.i&&0<this.i&&(a=this.i);for(var c=this.c.Ra(eg);c;c=c.Ea()){var b=c.body,d;d=Cd(this.p,Dd(b.B.r,b.q));d=Cd(b.B.r,d);Pf(b,Z(b.q.x+d.x*a,b.q.y+d.y*a))}}};function di(a){this.Pc=new ei;this.Qc=new ei;this.Ue=Z(0,0);this.Ve=Z(0,0);this.Ka=a.type;this.Eg=this.gi=null;this.S=a.c;this.U=a.i;this.dr=a.I}x=di.prototype;x.nc=function(){return this.Ka};x.Hh=function(){return this.S.Hh()&&this.U.Hh()};x.Re=function(){};x.Te=function(){};
x.Se=function(){return!1};function fi(){this.type=0;this.i=this.c=null;this.I=!1}function ei(){}function gi(a){di.call(this,a);this.ea=Z(0,0);this.fa=Z(0,0);this.c=Z(0,0);this.ea.J(a.G);this.fa.J(a.T);this.D=a.length;this.u=a.D;this.G=a.u;this.I=this.p=this.i=0}W(gi,di);
gi.prototype.Re=function(a){var c,b=0,d=this.S,f=this.U;c=d.B.r;var h=this.ea.x-d.j.L.x,e=this.ea.y-d.j.L.y,b=c.k.x*h+c.n.x*e,e=c.k.y*h+c.n.y*e,h=b;c=f.B.r;var g=this.fa.x-f.j.L.x,l=this.fa.y-f.j.L.y,b=c.k.x*g+c.n.x*l,l=c.k.y*g+c.n.y*l,g=b;this.c.x=f.j.A.x+g-d.j.A.x-h;this.c.y=f.j.A.y+l-d.j.A.y-e;b=Math.sqrt(this.c.x*this.c.x+this.c.y*this.c.y);.005<b?this.c.Fd(1/b):this.c.ha();c=h*this.c.y-e*this.c.x;var m=g*this.c.y-l*this.c.x;c=d.H+d.P*c*c+f.H+f.P*m*m;this.R=0!=c?1/c:0;if(0<this.u){var b=b-this.D,
m=2*Math.PI*this.u,k=this.R*m*m;this.p=a.xa*(2*this.R*this.G*m+a.xa*k);this.p=0!=this.p?1/this.p:0;this.I=b*a.xa*k*this.p;this.R=c+this.p;this.R=0!=this.R?1/this.R:0}a.$f?(this.i*=a.Ob,a=this.i*this.c.x,c=this.i*this.c.y,d.q.x-=d.H*a,d.q.y-=d.H*c,d.F-=d.P*(h*c-e*a),f.q.x+=f.H*a,f.q.y+=f.H*c,f.F+=f.P*(g*c-l*a)):this.i=0};
gi.prototype.Te=function(){var a=this.ea.x-this.S.j.L.x,c=this.ea.y-this.S.j.L.y,b=this.S.B.r.k.x*a+this.S.B.r.n.x*c,c=this.S.B.r.k.y*a+this.S.B.r.n.y*c,a=b,d=this.fa.x-this.U.j.L.x,f=this.fa.y-this.U.j.L.y,b=this.U.B.r.k.x*d+this.U.B.r.n.x*f,f=this.U.B.r.k.y*d+this.U.B.r.n.y*f,d=b,h=-this.R*(this.c.x*(this.U.q.x-this.U.F*f-(this.S.q.x-this.S.F*c))+this.c.y*(this.U.q.y+this.U.F*d-(this.S.q.y+this.S.F*a))+this.I+this.p*this.i);this.i+=h;b=h*this.c.x;h*=this.c.y;this.S.q.x-=this.S.H*b;this.S.q.y-=this.S.H*
h;this.S.F-=this.S.P*(a*h-c*b);this.U.q.x+=this.U.H*b;this.U.q.y+=this.U.H*h;this.U.F+=this.U.P*(d*h-f*b)};
gi.prototype.Se=function(){if(0<this.u)return!0;var a=this.ea.x-this.S.j.L.x,c=this.ea.y-this.S.j.L.y,b=this.S.B.r.k.x*a+this.S.B.r.n.x*c,c=this.S.B.r.k.y*a+this.S.B.r.n.y*c,a=b,d=this.fa.x-this.U.j.L.x,f=this.fa.y-this.U.j.L.y,b=this.U.B.r.k.x*d+this.U.B.r.n.x*f,f=this.U.B.r.k.y*d+this.U.B.r.n.y*f,d=b,h=this.U.j.A.x+d-this.S.j.A.x-a,e=this.U.j.A.y+f-this.S.j.A.y-c,g=Math.sqrt(h*h+e*e),b=Hd(g-this.D,-.2,.2),l=-this.R*b;this.c.Set(h/g,e/g);h=l*this.c.x;l*=this.c.y;this.S.j.A.x-=this.S.H*h;this.S.j.A.y-=
this.S.H*l;this.S.j.K-=this.S.P*(a*l-c*h);this.U.j.A.x+=this.U.H*h;this.U.j.A.y+=this.U.H*l;this.U.j.K+=this.U.P*(d*l-f*h);Vf(this.S);Vf(this.U);return.005>Math.abs(b)};function hi(){fi.call(this);this.G=Z(0,0);this.T=Z(0,0);this.type=3;this.length=1;this.u=this.D=0}W(hi,fi);hi.prototype.p=function(){return new gi(this)};
function ii(a){di.call(this,a);this.p=Z(0,0);this.u=Z(0,0);this.I=new Id;this.c=Z(0,0);this.p.J(a.u);this.u.J(a.D);this.I.ha();this.D=0;this.c.ha();this.i=0;this.G=a.G;this.T=a.T}W(ii,di);
ii.prototype.Re=function(a){var c,b=0,d=this.S,f=this.U;c=d.B.r;var h=this.p.x-d.j.L.x,e=this.p.y-d.j.L.y,b=c.k.x*h+c.n.x*e,e=c.k.y*h+c.n.y*e,h=b;c=f.B.r;var g=this.u.x-f.j.L.x,l=this.u.y-f.j.L.y,b=c.k.x*g+c.n.x*l,l=c.k.y*g+c.n.y*l,g=b;c=d.H;var b=f.H,m=d.P,k=f.P,n=new Id;n.k.x=c+b;n.n.x=0;n.k.y=0;n.n.y=c+b;n.k.x+=m*e*e;n.n.x+=-m*h*e;n.k.y+=-m*h*e;n.n.y+=m*h*h;n.k.x+=k*l*l;n.n.x+=-k*g*l;n.k.y+=-k*g*l;n.n.y+=k*g*g;ae(n,this.I);this.D=m+k;0<this.D&&(this.D=1/this.D);a.$f?(this.c.x*=a.Ob,this.c.y*=a.Ob,
this.i*=a.Ob,a=this.c,d.q.x-=c*a.x,d.q.y-=c*a.y,d.F-=m*(h*a.y-e*a.x+this.i),f.q.x+=b*a.x,f.q.y+=b*a.y,f.F+=k*(g*a.y-l*a.x+this.i)):(this.c.ha(),this.i=0)};
ii.prototype.Te=function(a){var c,b=0,d=this.S,f=this.U,h=d.q,e=d.F,g=f.q,l=f.F,m=d.H,k=f.H,n=d.P,p=f.P;c=d.B.r;var q=this.p.x-d.j.L.x,v=this.p.y-d.j.L.y,b=c.k.x*q+c.n.x*v,v=c.k.y*q+c.n.y*v,q=b;c=f.B.r;var r=this.u.x-f.j.L.x,u=this.u.y-f.j.L.y,b=c.k.x*r+c.n.x*u,u=c.k.y*r+c.n.y*u,r=b;c=0;var b=-this.D*(l-e),t=this.i;c=a.xa*this.T;this.i=Hd(this.i+b,-c,c);b=this.i-t;e-=n*b;l+=p*b;c=Cd(this.I,Z(-(g.x-l*u-h.x+e*v),-(g.y+l*r-h.y-e*q)));b=this.c.Tb();this.c.Qe(c);c=a.xa*this.G;me(this.c)>c*c&&(ne(this.c),
this.c.Fd(c));c=Gd(this.c,b);h.x-=m*c.x;h.y-=m*c.y;e-=n*(q*c.y-v*c.x);g.x+=k*c.x;g.y+=k*c.y;l+=p*(r*c.y-u*c.x);d.F=e;f.F=l};ii.prototype.Se=function(){return!0};function ji(){fi.call(this);this.u=Z(0,0);this.D=Z(0,0);this.type=9;this.T=this.G=0}W(ji,fi);ji.prototype.p=function(){return new ii(this)};
function ki(a){di.call(this,a);this.T=Z(0,0);this.Z=Z(0,0);this.ea=Z(0,0);this.fa=Z(0,0);this.c=new li;var c=a.u.Ka,b=a.D.Ka;this.G=this.D=this.I=this.u=null;var d=0,f=0;this.wa=a.u.S;this.S=a.u.U;1==c?(this.u=a.u,this.T.J(this.u.ea),this.ea.J(this.u.fa),d=ni(this.u)):(this.I=a.u,this.T.J(this.I.ea),this.ea.J(this.I.fa),d=this.I.Li());this.Ba=a.D.S;this.U=a.D.U;1==b?(this.D=a.D,this.Z.J(this.D.ea),this.fa.J(this.D.fa),f=ni(this.D)):(this.G=a.D,this.Z.J(this.G.ea),this.fa.J(this.G.fa),f=this.G.Li());
this.i=a.G;this.W=d+this.i*f;this.p=0}W(ki,di);
ki.prototype.Re=function(a){var c=this.wa,b=this.Ba,d=this.S,f=this.U,h=0,e=0,g=0,l=0,m=g=0,k=0;this.c.ha();this.u?(this.c.p=-1,k+=d.P):(c=c.B.r,e=this.I.ed,h=c.k.x*e.x+c.n.x*e.y,e=c.k.y*e.x+c.n.y*e.y,c=d.B.r,g=this.ea.x-d.j.L.x,l=this.ea.y-d.j.L.y,m=c.k.x*g+c.n.x*l,l=c.k.y*g+c.n.y*l,g=m*e-l*h,this.c.c.Set(-h,-e),this.c.p=-g,k+=d.H+d.P*g*g);this.D?(this.c.u=-this.i,k+=this.i*this.i*f.P):(c=b.B.r,e=this.G.ed,h=c.k.x*e.x+c.n.x*e.y,e=c.k.y*e.x+c.n.y*e.y,c=f.B.r,g=this.fa.x-f.j.L.x,l=this.fa.y-f.j.L.y,
m=c.k.x*g+c.n.x*l,l=c.k.y*g+c.n.y*l,g=m*e-l*h,this.c.i.Set(-this.i*h,-this.i*e),this.c.u=-this.i*g,k+=this.i*this.i*(f.H+f.P*g*g));this.R=0<k?1/k:0;a.$f?(d.q.x+=d.H*this.p*this.c.c.x,d.q.y+=d.H*this.p*this.c.c.y,d.F+=d.P*this.p*this.c.p,f.q.x+=f.H*this.p*this.c.i.x,f.q.y+=f.H*this.p*this.c.i.y,f.F+=f.P*this.p*this.c.u):this.p=0};
ki.prototype.Te=function(){var a=this.S,c=this.U,b=this.c,d=a.q,f=a.F,h=c.q,e=c.F;void 0===f&&(f=0);void 0===e&&(e=0);b=-this.R*(b.c.x*d.x+b.c.y*d.y+b.p*f+(b.i.x*h.x+b.i.y*h.y)+b.u*e);this.p+=b;a.q.x+=a.H*b*this.c.c.x;a.q.y+=a.H*b*this.c.c.y;a.F+=a.P*b*this.c.p;c.q.x+=c.H*b*this.c.i.x;c.q.y+=c.H*b*this.c.i.y;c.F+=c.P*b*this.c.u};
ki.prototype.Se=function(){var a=this.S,c=this.U,b=0,d=0;this.u?b=ni(this.u):b=this.I.Li();this.D?d=ni(this.D):d=this.G.Li();b=-this.R*(this.W-(b+this.i*d));a.j.A.x+=a.H*b*this.c.c.x;a.j.A.y+=a.H*b*this.c.c.y;a.j.K+=a.P*b*this.c.p;c.j.A.x+=c.H*b*this.c.i.x;c.j.A.y+=c.H*b*this.c.i.y;c.j.K+=c.P*b*this.c.u;Vf(a);Vf(c);return!0};function oi(){fi.call(this);this.type=6;this.D=this.u=null;this.G=1}W(oi,fi);oi.prototype.p=function(){return new ki(this)};function li(){this.c=Z(0,0);this.i=Z(0,0)}
li.prototype.ha=function(){this.c.ha();this.p=0;this.i.ha();this.u=0};li.prototype.Set=function(a,c,b,d){void 0===c&&(c=0);void 0===d&&(d=0);this.c.J(a);this.p=c;this.i.J(b);this.u=d};
function pi(a){di.call(this,a);this.ea=Z(0,0);this.fa=Z(0,0);this.ed=Z(0,0);this.od=Z(0,0);this.i=Z(0,0);this.G=Z(0,0);this.W=new Id;this.c=Z(0,0);this.ea.J(a.T);this.fa.J(a.Z);this.ed.J(a.u);this.od.x=-this.ed.y;this.od.y=this.ed.x;this.c.ha();this.Ca=this.Ya=0;this.Ub=a.W;this.pc=a.Ya;this.rm=a.wa;this.wm=a.Ba;this.Vg=a.D;this.Ni=a.G;this.Pa=0;this.i.ha();this.G.ha()}W(pi,di);
pi.prototype.Li=function(){var a=this.S,c=this.U,b=Rf(a,this.ea),d=Rf(c,this.fa),c=d.x-b.x,b=d.y-b.y,a=Cd(a.B.r,this.ed);return a.x*c+a.y*b};
pi.prototype.Re=function(a){var c=this.S,b=this.U,d,f=0;this.Ue.J(c.j.L);this.Ve.J(b.j.L);var h=c.nd();b.nd();d=c.B.r;var e=this.ea.x-this.Ue.x,g=this.ea.y-this.Ue.y,f=d.k.x*e+d.n.x*g,g=d.k.y*e+d.n.y*g,e=f;d=b.B.r;var l=this.fa.x-this.Ve.x,m=this.fa.y-this.Ve.y,f=d.k.x*l+d.n.x*m,m=d.k.y*l+d.n.y*m,l=f;d=b.j.A.x+l-c.j.A.x-e;f=b.j.A.y+m-c.j.A.y-g;this.T=c.H;this.Z=b.H;this.wa=c.P;this.Ba=b.P;this.i.J(Cd(h.r,this.ed));this.p=(d+e)*this.i.y-(f+g)*this.i.x;this.u=l*this.i.y-m*this.i.x;this.Ya=this.T+this.Z+
this.wa*this.p*this.p+this.Ba*this.u*this.u;this.Ya=this.Ya>Number.MIN_VALUE?1/this.Ya:0;this.G.J(Cd(h.r,this.od));this.D=(d+e)*this.G.y-(f+g)*this.G.x;this.I=l*this.G.y-m*this.G.x;h=this.T;e=this.Z;g=this.wa;l=this.Ba;this.W.k.x=h+e+g*this.D*this.D+l*this.I*this.I;this.W.k.y=g*this.D*this.p+l*this.I*this.u;this.W.n.x=this.W.k.y;this.W.n.y=h+e+g*this.p*this.p+l*this.u*this.u;this.Vg?(d=this.i.x*d+this.i.y*f,.01>Math.abs(this.pc-this.Ub)?this.Pa=3:d<=this.Ub?1!=this.Pa&&(this.Pa=1,this.c.y=0):d>=this.pc?
2!=this.Pa&&(this.Pa=2,this.c.y=0):(this.Pa=0,this.c.y=0)):this.Pa=0;0==this.Ni&&(this.Ca=0);a.$f?(this.c.x*=a.Ob,this.c.y*=a.Ob,this.Ca*=a.Ob,a=this.c.x*this.G.x+(this.Ca+this.c.y)*this.i.x,d=this.c.x*this.G.y+(this.Ca+this.c.y)*this.i.y,f=this.c.x*this.D+(this.Ca+this.c.y)*this.p,h=this.c.x*this.I+(this.Ca+this.c.y)*this.u,c.q.x-=this.T*a,c.q.y-=this.T*d,c.F-=this.wa*f,b.q.x+=this.Z*a,b.q.y+=this.Z*d,b.F+=this.Ba*h):(this.c.ha(),this.Ca=0)};
pi.prototype.Te=function(a){var c=this.S,b=this.U,d=c.q,f=c.F,h=b.q,e=b.F,g=0,l=0,m=0,k=0;this.Ni&&3!=this.Pa&&(k=this.Ya*(this.wm-(this.i.x*(h.x-d.x)+this.i.y*(h.y-d.y)+this.u*e-this.p*f)),g=this.Ca,l=a.xa*this.rm,this.Ca=Hd(this.Ca+k,-l,l),k=this.Ca-g,g=k*this.i.x,l=k*this.i.y,m=k*this.p,k*=this.u,d.x-=this.T*g,d.y-=this.T*l,f-=this.wa*m,h.x+=this.Z*g,h.y+=this.Z*l,e+=this.Ba*k);l=this.G.x*(h.x-d.x)+this.G.y*(h.y-d.y)+this.I*e-this.D*f;this.Vg&&0!=this.Pa?(m=this.i.x*(h.x-d.x)+this.i.y*(h.y-d.y)+
this.u*e-this.p*f,g=this.c.Tb(),a=be(this.W,Z(0,0),-l,-m),this.c.Qe(a),1==this.Pa?this.c.y=Math.max(this.c.y,0):2==this.Pa&&(this.c.y=Math.min(this.c.y,0)),l=-l-(this.c.y-g.y)*this.W.n.x,m=0,m=0!=this.W.k.x?l/this.W.k.x+g.x:g.x,this.c.x=m,a.x=this.c.x-g.x,a.y=this.c.y-g.y,g=a.x*this.G.x+a.y*this.i.x,l=a.x*this.G.y+a.y*this.i.y,m=a.x*this.D+a.y*this.p,k=a.x*this.I+a.y*this.u):(a=0,a=0!=this.W.k.x?-l/this.W.k.x:0,this.c.x+=a,g=a*this.G.x,l=a*this.G.y,m=a*this.D,k=a*this.I);d.x-=this.T*g;d.y-=this.T*
l;f-=this.wa*m;h.x+=this.Z*g;h.y+=this.Z*l;e+=this.Ba*k;c.q.J(d);c.F=f;b.q.J(h);b.F=e};
pi.prototype.Se=function(){var a=this.S,c=this.U,b=a.j.A,d=a.j.K,f=c.j.A,h=c.j.K,e,g=0,l=0,m=0,k=0,n=e=0,p=0,l=!1,q=0,v=Jd(d),m=Jd(h);e=v;var p=this.ea.x-this.Ue.x,r=this.ea.y-this.Ue.y,g=e.k.x*p+e.n.x*r,r=e.k.y*p+e.n.y*r,p=g;e=m;m=this.fa.x-this.Ve.x;k=this.fa.y-this.Ve.y;g=e.k.x*m+e.n.x*k;k=e.k.y*m+e.n.y*k;m=g;e=f.x+m-b.x-p;g=f.y+k-b.y-r;if(this.Vg){this.i=Cd(v,this.ed);this.p=(e+p)*this.i.y-(g+r)*this.i.x;this.u=m*this.i.y-k*this.i.x;var u=this.i.x*e+this.i.y*g;.01>Math.abs(this.pc-this.Ub)?(q=
Hd(u,-.2,.2),n=Math.abs(u),l=!0):u<=this.Ub?(q=Hd(u-this.Ub+.005,-.2,0),n=this.Ub-u,l=!0):u>=this.pc&&(q=Hd(u-this.pc+.005,0,.2),n=u-this.pc,l=!0)}this.G=Cd(v,this.od);this.D=(e+p)*this.G.y-(g+r)*this.G.x;this.I=m*this.G.y-k*this.G.x;v=Z(0,0);r=this.G.x*e+this.G.y*g;n=Math.max(n,Math.abs(r));p=0;l?(l=this.T,m=this.Z,k=this.wa,e=this.Ba,this.W.k.x=l+m+k*this.D*this.D+e*this.I*this.I,this.W.k.y=k*this.D*this.p+e*this.I*this.u,this.W.n.x=this.W.k.y,this.W.n.y=l+m+k*this.p*this.p+e*this.u*this.u,be(this.W,
v,-r,-q)):(l=this.T,m=this.Z,k=this.wa,e=this.Ba,q=l+m+k*this.D*this.D+e*this.I*this.I,v.x=0!=q?-r/q:0,v.y=0);q=v.x*this.G.x+v.y*this.i.x;l=v.x*this.G.y+v.y*this.i.y;r=v.x*this.D+v.y*this.p;v=v.x*this.I+v.y*this.u;b.x-=this.T*q;b.y-=this.T*l;d-=this.wa*r;f.x+=this.Z*q;f.y+=this.Z*l;h+=this.Ba*v;a.j.K=d;c.j.K=h;Vf(a);Vf(c);return.005>=n&&p<=td};function qi(){fi.call(this);this.T=Z(0,0);this.Z=Z(0,0);this.u=Z(0,0);this.type=7;this.u.Set(1,0);this.D=!1;this.Ya=this.W=0;this.G=!1;this.Ba=this.wa=0}
W(qi,fi);qi.prototype.p=function(){return new pi(this)};function ri(a){di.call(this,a);this.ea=Z(0,0);this.fa=Z(0,0);this.ed=Z(0,0);this.od=Z(0,0);this.G=Z(0,0);this.W=Z(0,0);this.i=new ce;this.c=new de(0,0,0);this.ea.J(a.T);this.fa.J(a.Z);this.ed.J(a.u);this.od.x=-this.ed.y;this.od.y=this.ed.x;this.jt=a.Ya;this.c.ha();this.Ca=this.Ya=0;this.Ub=a.W;this.pc=a.Ca;this.rm=a.wa;this.wm=a.Ba;this.Vg=a.D;this.Ni=a.G;this.Pa=0;this.G.ha();this.W.ha()}W(ri,di);
ri.prototype.Li=function(){var a=this.S,c=this.U,b=Rf(a,this.ea),d=Rf(c,this.fa),c=d.x-b.x,b=d.y-b.y,a=Cd(a.B.r,this.ed);return a.x*c+a.y*b};
ri.prototype.Re=function(a){var c=this.S,b=this.U,d,f=0;this.Ue.J(c.j.L);this.Ve.J(b.j.L);var h=c.nd();b.nd();d=c.B.r;var e=this.ea.x-this.Ue.x,g=this.ea.y-this.Ue.y,f=d.k.x*e+d.n.x*g,g=d.k.y*e+d.n.y*g,e=f;d=b.B.r;var l=this.fa.x-this.Ve.x,m=this.fa.y-this.Ve.y,f=d.k.x*l+d.n.x*m,m=d.k.y*l+d.n.y*m,l=f;d=b.j.A.x+l-c.j.A.x-e;f=b.j.A.y+m-c.j.A.y-g;this.T=c.H;this.Z=b.H;this.wa=c.P;this.Ba=b.P;this.G.J(Cd(h.r,this.ed));this.p=(d+e)*this.G.y-(f+g)*this.G.x;this.u=l*this.G.y-m*this.G.x;this.Ya=this.T+this.Z+
this.wa*this.p*this.p+this.Ba*this.u*this.u;this.Ya>Number.MIN_VALUE&&(this.Ya=1/this.Ya);this.W.J(Cd(h.r,this.od));this.D=(d+e)*this.W.y-(f+g)*this.W.x;this.I=l*this.W.y-m*this.W.x;h=this.T;e=this.Z;g=this.wa;l=this.Ba;this.i.k.x=h+e+g*this.D*this.D+l*this.I*this.I;this.i.k.y=g*this.D+l*this.I;this.i.k.z=g*this.D*this.p+l*this.I*this.u;this.i.n.x=this.i.k.y;this.i.n.y=g+l;this.i.n.z=g*this.p+l*this.u;this.i.c.x=this.i.k.z;this.i.c.y=this.i.n.z;this.i.c.z=h+e+g*this.p*this.p+l*this.u*this.u;this.Vg?
(d=this.G.x*d+this.G.y*f,.01>Math.abs(this.pc-this.Ub)?this.Pa=3:d<=this.Ub?1!=this.Pa&&(this.Pa=1,this.c.z=0):d>=this.pc?2!=this.Pa&&(this.Pa=2,this.c.z=0):(this.Pa=0,this.c.z=0)):this.Pa=0;0==this.Ni&&(this.Ca=0);a.$f?(this.c.x*=a.Ob,this.c.y*=a.Ob,this.Ca*=a.Ob,a=this.c.x*this.W.x+(this.Ca+this.c.z)*this.G.x,d=this.c.x*this.W.y+(this.Ca+this.c.z)*this.G.y,f=this.c.x*this.D+this.c.y+(this.Ca+this.c.z)*this.p,h=this.c.x*this.I+this.c.y+(this.Ca+this.c.z)*this.u,c.q.x-=this.T*a,c.q.y-=this.T*d,c.F-=
this.wa*f,b.q.x+=this.Z*a,b.q.y+=this.Z*d,b.F+=this.Ba*h):(this.c.ha(),this.Ca=0)};
ri.prototype.Te=function(a){var c=this.S,b=this.U,d=c.q,f=c.F,h=b.q,e=b.F,g=0,l=0,m=0,k=0;this.Ni&&3!=this.Pa&&(k=this.Ya*(this.wm-(this.G.x*(h.x-d.x)+this.G.y*(h.y-d.y)+this.u*e-this.p*f)),g=this.Ca,a=a.xa*this.rm,this.Ca=Hd(this.Ca+k,-a,a),k=this.Ca-g,g=k*this.G.x,l=k*this.G.y,m=k*this.p,k*=this.u,d.x-=this.T*g,d.y-=this.T*l,f-=this.wa*m,h.x+=this.Z*g,h.y+=this.Z*l,e+=this.Ba*k);m=this.W.x*(h.x-d.x)+this.W.y*(h.y-d.y)+this.I*e-this.D*f;l=e-f;this.Vg&&0!=this.Pa?(a=this.G.x*(h.x-d.x)+this.G.y*(h.y-
d.y)+this.u*e-this.p*f,g=this.c.Tb(),a=fe(this.i,new de(0,0,0),-m,-l,-a),this.c.Qe(a),1==this.Pa?this.c.z=Math.max(this.c.z,0):2==this.Pa&&(this.c.z=Math.min(this.c.z,0)),m=-m-(this.c.z-g.z)*this.i.c.x,l=-l-(this.c.z-g.z)*this.i.c.y,l=ee(this.i,Z(0,0),m,l),l.x+=g.x,l.y+=g.y,this.c.x=l.x,this.c.y=l.y,a.x=this.c.x-g.x,a.y=this.c.y-g.y,a.z=this.c.z-g.z,g=a.x*this.W.x+a.z*this.G.x,l=a.x*this.W.y+a.z*this.G.y,m=a.x*this.D+a.y+a.z*this.p,k=a.x*this.I+a.y+a.z*this.u,d.x-=this.T*g,d.y-=this.T*l,f-=this.wa*
m,h.x+=this.Z*g,h.y+=this.Z*l,e+=this.Ba*k):(a=ee(this.i,Z(0,0),-m,-l),this.c.x+=a.x,this.c.y+=a.y,g=a.x*this.W.x,l=a.x*this.W.y,m=a.x*this.D+a.y,k=a.x*this.I+a.y,d.x-=this.T*g,d.y-=this.T*l,f-=this.wa*m,h.x+=this.Z*g,h.y+=this.Z*l,e+=this.Ba*k);c.q.J(d);c.F=f;b.q.J(h);b.F=e};
ri.prototype.Se=function(){var a=this.S,c=this.U,b=a.j.A,d=a.j.K,f=c.j.A,h=c.j.K,e,g=0,l=0,m=0,k=g=e=0,n=0,l=!1,p=0,q=Jd(d),v=Jd(h);e=q;var n=this.ea.x-this.Ue.x,r=this.ea.y-this.Ue.y,g=e.k.x*n+e.n.x*r,r=e.k.y*n+e.n.y*r,n=g;e=v;v=this.fa.x-this.Ve.x;m=this.fa.y-this.Ve.y;g=e.k.x*v+e.n.x*m;m=e.k.y*v+e.n.y*m;v=g;e=f.x+v-b.x-n;g=f.y+m-b.y-r;if(this.Vg){this.G=Cd(q,this.ed);this.p=(e+n)*this.G.y-(g+r)*this.G.x;this.u=v*this.G.y-m*this.G.x;var u=this.G.x*e+this.G.y*g;.01>Math.abs(this.pc-this.Ub)?(p=Hd(u,
-.2,.2),k=Math.abs(u),l=!0):u<=this.Ub?(p=Hd(u-this.Ub+.005,-.2,0),k=this.Ub-u,l=!0):u>=this.pc&&(p=Hd(u-this.pc+.005,0,.2),k=u-this.pc,l=!0)}this.W=Cd(q,this.od);this.D=(e+n)*this.W.y-(g+r)*this.W.x;this.I=v*this.W.y-m*this.W.x;q=new de(0,0,0);r=this.W.x*e+this.W.y*g;v=h-d-this.jt;k=Math.max(k,Math.abs(r));n=Math.abs(v);l?(l=this.T,m=this.Z,e=this.wa,g=this.Ba,this.i.k.x=l+m+e*this.D*this.D+g*this.I*this.I,this.i.k.y=e*this.D+g*this.I,this.i.k.z=e*this.D*this.p+g*this.I*this.u,this.i.n.x=this.i.k.y,
this.i.n.y=e+g,this.i.n.z=e*this.p+g*this.u,this.i.c.x=this.i.k.z,this.i.c.y=this.i.n.z,this.i.c.z=l+m+e*this.p*this.p+g*this.u*this.u,fe(this.i,q,-r,-v,-p)):(l=this.T,m=this.Z,e=this.wa,g=this.Ba,p=e*this.D+g*this.I,u=e+g,this.i.k.Set(l+m+e*this.D*this.D+g*this.I*this.I,p,0),this.i.n.Set(p,u,0),p=ee(this.i,Z(0,0),-r,-v),q.x=p.x,q.y=p.y,q.z=0);p=q.x*this.W.x+q.z*this.G.x;l=q.x*this.W.y+q.z*this.G.y;r=q.x*this.D+q.y+q.z*this.p;q=q.x*this.I+q.y+q.z*this.u;b.x-=this.T*p;b.y-=this.T*l;d-=this.wa*r;f.x+=
this.Z*p;f.y+=this.Z*l;h+=this.Ba*q;a.j.K=d;c.j.K=h;Vf(a);Vf(c);return.005>=k&&n<=td};function si(){fi.call(this);this.T=Z(0,0);this.Z=Z(0,0);this.u=Z(0,0);this.type=2;this.u.Set(1,0);this.Ya=0;this.D=!1;this.Ca=this.W=0;this.G=!1;this.Ba=this.wa=0}W(si,fi);si.prototype.p=function(){return new ri(this)};
function ti(a){di.call(this,a);this.T=Z(0,0);this.Z=Z(0,0);this.ea=Z(0,0);this.fa=Z(0,0);this.c=Z(0,0);this.i=Z(0,0);this.D=this.S.zd.Sv;this.T.x=a.u.x-this.D.B.position.x;this.T.y=a.u.y-this.D.B.position.y;this.Z.x=a.D.x-this.D.B.position.x;this.Z.y=a.D.y-this.D.B.position.y;this.ea.J(a.G);this.fa.J(a.T);this.p=a.Z;this.Ba=0+0*this.p;this.pc=Math.min(0,this.Ba-this.p*ui);this.od=Math.min(0,(this.Ba-ui)/this.p);this.G=this.I=this.u=0}W(ti,di);
ti.prototype.Re=function(a){var c=this.S,b=this.U,d;d=c.B.r;var f=this.ea.x-c.j.L.x,h=this.ea.y-c.j.L.y,e=d.k.x*f+d.n.x*h,h=d.k.y*f+d.n.y*h,f=e;d=b.B.r;var g=this.fa.x-b.j.L.x,l=this.fa.y-b.j.L.y,e=d.k.x*g+d.n.x*l,l=d.k.y*g+d.n.y*l,g=e;d=b.j.A.x+g;var e=b.j.A.y+l,m=this.D.B.position.x+this.Z.x,k=this.D.B.position.y+this.Z.y;this.c.Set(c.j.A.x+f-(this.D.B.position.x+this.T.x),c.j.A.y+h-(this.D.B.position.y+this.T.y));this.i.Set(d-m,e-k);d=le(this.c);e=le(this.i);.005<d?this.c.Fd(1/d):this.c.ha();.005<
e?this.i.Fd(1/e):this.i.ha();0<this.Ba-d-this.p*e?this.u=this.Ub=0:this.Ub=2;d<this.pc?this.I=this.Ca=0:this.Ca=2;e<this.od?this.G=this.Pa=0:this.Pa=2;d=f*this.c.y-h*this.c.x;e=g*this.i.y-l*this.i.x;this.W=c.H+c.P*d*d;this.wa=b.H+b.P*e*e;this.Ya=this.W+this.p*this.p*this.wa;this.W=1/this.W;this.wa=1/this.wa;this.Ya=1/this.Ya;a.$f?(this.u*=a.Ob,this.I*=a.Ob,this.G*=a.Ob,a=(-this.u-this.I)*this.c.x,d=(-this.u-this.I)*this.c.y,e=(-this.p*this.u-this.G)*this.i.x,m=(-this.p*this.u-this.G)*this.i.y,c.q.x+=
c.H*a,c.q.y+=c.H*d,c.F+=c.P*(f*d-h*a),b.q.x+=b.H*e,b.q.y+=b.H*m,b.F+=b.P*(g*m-l*e)):this.G=this.I=this.u=0};
ti.prototype.Te=function(){var a=this.S,c=this.U,b;b=a.B.r;var d=this.ea.x-a.j.L.x,f=this.ea.y-a.j.L.y,h=b.k.x*d+b.n.x*f,f=b.k.y*d+b.n.y*f,d=h;b=c.B.r;var e=this.fa.x-c.j.L.x,g=this.fa.y-c.j.L.y,h=b.k.x*e+b.n.x*g,g=b.k.y*e+b.n.y*g,e=h,l=h=b=0,m=0;b=m=b=m=l=h=b=0;2==this.Ub&&(b=a.q.x+-a.F*f,h=a.q.y+a.F*d,l=c.q.x+-c.F*g,m=c.q.y+c.F*e,b=-(this.c.x*b+this.c.y*h)-this.p*(this.i.x*l+this.i.y*m),m=this.Ya*-b,b=this.u,this.u=Math.max(0,this.u+m),m=this.u-b,b=-m*this.c.x,h=-m*this.c.y,l=-this.p*m*this.i.x,
m=-this.p*m*this.i.y,a.q.x+=a.H*b,a.q.y+=a.H*h,a.F+=a.P*(d*h-f*b),c.q.x+=c.H*l,c.q.y+=c.H*m,c.F+=c.P*(e*m-g*l));2==this.Ca&&(b=a.q.x+-a.F*f,h=a.q.y+a.F*d,b=-(this.c.x*b+this.c.y*h),m=-this.W*b,b=this.I,this.I=Math.max(0,this.I+m),m=this.I-b,b=-m*this.c.x,h=-m*this.c.y,a.q.x+=a.H*b,a.q.y+=a.H*h,a.F+=a.P*(d*h-f*b));2==this.Pa&&(l=c.q.x+-c.F*g,m=c.q.y+c.F*e,b=-(this.i.x*l+this.i.y*m),m=-this.wa*b,b=this.G,this.G=Math.max(0,this.G+m),m=this.G-b,l=-m*this.i.x,m=-m*this.i.y,c.q.x+=c.H*l,c.q.y+=c.H*m,c.F+=
c.P*(e*m-g*l))};
ti.prototype.Se=function(){var a=this.S,c=this.U,b,d=this.D.B.position.x+this.T.x,f=this.D.B.position.y+this.T.y,h=this.D.B.position.x+this.Z.x,e=this.D.B.position.y+this.Z.y,g=0,l=0,m=0,k=0,n=b=0,p=0,q=0,v=n=q=b=n=b=0;2==this.Ub&&(b=a.B.r,g=this.ea.x-a.j.L.x,l=this.ea.y-a.j.L.y,n=b.k.x*g+b.n.x*l,l=b.k.y*g+b.n.y*l,g=n,b=c.B.r,m=this.fa.x-c.j.L.x,k=this.fa.y-c.j.L.y,n=b.k.x*m+b.n.x*k,k=b.k.y*m+b.n.y*k,m=n,b=a.j.A.x+g,n=a.j.A.y+l,p=c.j.A.x+m,q=c.j.A.y+k,this.c.Set(b-d,n-f),this.i.Set(p-h,q-e),b=le(this.c),
n=le(this.i),.005<b?this.c.Fd(1/b):this.c.ha(),.005<n?this.i.Fd(1/n):this.i.ha(),b=this.Ba-b-this.p*n,v=Math.max(v,-b),b=Hd(b+.005,-.2,0),q=-this.Ya*b,b=-q*this.c.x,n=-q*this.c.y,p=-this.p*q*this.i.x,q=-this.p*q*this.i.y,a.j.A.x+=a.H*b,a.j.A.y+=a.H*n,a.j.K+=a.P*(g*n-l*b),c.j.A.x+=c.H*p,c.j.A.y+=c.H*q,c.j.K+=c.P*(m*q-k*p),Vf(a),Vf(c));2==this.Ca&&(b=a.B.r,g=this.ea.x-a.j.L.x,l=this.ea.y-a.j.L.y,n=b.k.x*g+b.n.x*l,l=b.k.y*g+b.n.y*l,g=n,b=a.j.A.x+g,n=a.j.A.y+l,this.c.Set(b-d,n-f),b=le(this.c),.005<b?
(this.c.x*=1/b,this.c.y*=1/b):this.c.ha(),b=this.pc-b,v=Math.max(v,-b),b=Hd(b+.005,-.2,0),q=-this.W*b,b=-q*this.c.x,n=-q*this.c.y,a.j.A.x+=a.H*b,a.j.A.y+=a.H*n,a.j.K+=a.P*(g*n-l*b),Vf(a));2==this.Pa&&(b=c.B.r,m=this.fa.x-c.j.L.x,k=this.fa.y-c.j.L.y,n=b.k.x*m+b.n.x*k,k=b.k.y*m+b.n.y*k,m=n,p=c.j.A.x+m,q=c.j.A.y+k,this.i.Set(p-h,q-e),n=le(this.i),.005<n?(this.i.x*=1/n,this.i.y*=1/n):this.i.ha(),b=this.od-n,v=Math.max(v,-b),b=Hd(b+.005,-.2,0),q=-this.wa*b,p=-q*this.i.x,q=-q*this.i.y,c.j.A.x+=c.H*p,c.j.A.y+=
c.H*q,c.j.K+=c.P*(m*q-k*p),Vf(c));return.005>v};var ui=1;function vi(){fi.call(this);this.u=Z(0,0);this.D=Z(0,0);this.G=Z(0,0);this.T=Z(0,0);this.type=4;this.u.Set(-1,1);this.D.Set(1,1);this.G.Set(-1,0);this.T.Set(1,0);this.Z=1;this.I=!0}W(vi,fi);vi.prototype.p=function(){return new ti(this)};
function wi(a){di.call(this,a);this.W=new Id;this.G=new Id;this.T=new Id;this.Z=new Id;this.i=new de(0,0,0);this.u=Z(0,0);this.I=Z(0,0);this.ea=Z(0,0);this.fa=Z(0,0);this.c=new de(0,0,0);this.R=new ce;this.ea.J(a.u);this.fa.J(a.D);this.Ca=a.T;this.c.ha();this.D=0;this.wa=a.Z;this.Pa=a.W;this.od=a.Ya;this.pc=a.Ba;this.Ba=a.G;this.Ub=a.wa;this.p=0}W(wi,di);function ni(a){return a.U.j.K-a.S.j.K-a.Ca}
wi.prototype.Re=function(a){var c=this.S,b=this.U,d,f=0;d=c.B.r;var h=this.ea.x-c.j.L.x,e=this.ea.y-c.j.L.y,f=d.k.x*h+d.n.x*e,e=d.k.y*h+d.n.y*e,h=f;d=b.B.r;var g=this.fa.x-b.j.L.x,l=this.fa.y-b.j.L.y,f=d.k.x*g+d.n.x*l,l=d.k.y*g+d.n.y*l,g=f;d=c.H;var f=b.H,m=c.P,k=b.P;this.R.k.x=d+f+e*e*m+l*l*k;this.R.n.x=-e*h*m-l*g*k;this.R.c.x=-e*m-l*k;this.R.k.y=this.R.n.x;this.R.n.y=d+f+h*h*m+g*g*k;this.R.c.y=h*m+g*k;this.R.k.z=this.R.c.x;this.R.n.z=this.R.c.y;this.R.c.z=m+k;this.Ya=1/(m+k);this.Ub||(this.D=0);
if(this.Ba){var n=b.j.K-c.j.K-this.Ca;Math.abs(this.Pa-this.wa)<2*td?this.p=3:n<=this.wa?(1!=this.p&&(this.c.z=0),this.p=1):n>=this.Pa?(2!=this.p&&(this.c.z=0),this.p=2):(this.p=0,this.c.z=0)}else this.p=0;a.$f?(this.c.x*=a.Ob,this.c.y*=a.Ob,this.D*=a.Ob,a=this.c.x,n=this.c.y,c.q.x-=d*a,c.q.y-=d*n,c.F-=m*(h*n-e*a+this.D+this.c.z),b.q.x+=f*a,b.q.y+=f*n,b.F+=k*(g*n-l*a+this.D+this.c.z)):(this.c.ha(),this.D=0)};
wi.prototype.Te=function(a){var c=this.S,b=this.U,d=0,f=d=0,h=0,e=0,g=0,l=c.q,m=c.F,k=b.q,n=b.F,p=c.H,q=b.H,v=c.P,r=b.P;this.Ub&&3!=this.p&&(f=this.Ya*-(n-m-this.pc),h=this.D,e=a.xa*this.od,this.D=Hd(this.D+f,-e,e),f=this.D-h,m-=v*f,n+=r*f);if(this.Ba&&0!=this.p){a=c.B.r;f=this.ea.x-c.j.L.x;h=this.ea.y-c.j.L.y;d=a.k.x*f+a.n.x*h;h=a.k.y*f+a.n.y*h;f=d;a=b.B.r;e=this.fa.x-b.j.L.x;g=this.fa.y-b.j.L.y;d=a.k.x*e+a.n.x*g;g=a.k.y*e+a.n.y*g;e=d;a=k.x+-n*g-l.x- -m*h;var u=k.y+n*e-l.y-m*f;fe(this.R,this.i,-a,
-u,-(n-m));3==this.p?this.c.Qe(this.i):1==this.p?(d=this.c.z+this.i.z,0>d&&(ee(this.R,this.I,-a,-u),this.i.x=this.I.x,this.i.y=this.I.y,this.i.z=-this.c.z,this.c.x+=this.I.x,this.c.y+=this.I.y,this.c.z=0)):2==this.p&&(d=this.c.z+this.i.z,0<d&&(ee(this.R,this.I,-a,-u),this.i.x=this.I.x,this.i.y=this.I.y,this.i.z=-this.c.z,this.c.x+=this.I.x,this.c.y+=this.I.y,this.c.z=0));l.x-=p*this.i.x;l.y-=p*this.i.y;m-=v*(f*this.i.y-h*this.i.x+this.i.z);k.x+=q*this.i.x;k.y+=q*this.i.y;n+=r*(e*this.i.y-g*this.i.x+
this.i.z)}else a=c.B.r,f=this.ea.x-c.j.L.x,h=this.ea.y-c.j.L.y,d=a.k.x*f+a.n.x*h,h=a.k.y*f+a.n.y*h,f=d,a=b.B.r,e=this.fa.x-b.j.L.x,g=this.fa.y-b.j.L.y,d=a.k.x*e+a.n.x*g,g=a.k.y*e+a.n.y*g,e=d,ee(this.R,this.u,-(k.x+-n*g-l.x- -m*h),-(k.y+n*e-l.y-m*f)),this.c.x+=this.u.x,this.c.y+=this.u.y,l.x-=p*this.u.x,l.y-=p*this.u.y,m-=v*(f*this.u.y-h*this.u.x),k.x+=q*this.u.x,k.y+=q*this.u.y,n+=r*(e*this.u.y-g*this.u.x);c.q.J(l);c.F=m;b.q.J(k);b.F=n};
wi.prototype.Se=function(){var a=0,c,b=this.S,d=this.U,f=0,h=c=0,e=0,h=0;if(this.Ba&&0!=this.p){var a=d.j.K-b.j.K-this.Ca,g=0;3==this.p?(a=Hd(a-this.wa,-ud,ud),g=-this.Ya*a,f=Math.abs(a)):1==this.p?(a-=this.wa,f=-a,a=Hd(a+td,-ud,0),g=-this.Ya*a):2==this.p&&(f=a-=this.Pa,a=Hd(a-td,0,ud),g=-this.Ya*a);b.j.K-=b.P*g;d.j.K+=d.P*g;Vf(b);Vf(d)}c=b.B.r;g=this.ea.x-b.j.L.x;a=this.ea.y-b.j.L.y;h=c.k.x*g+c.n.x*a;a=c.k.y*g+c.n.y*a;g=h;c=d.B.r;var l=this.fa.x-d.j.L.x,m=this.fa.y-d.j.L.y,h=c.k.x*l+c.n.x*m,m=c.k.y*
l+c.n.y*m,l=h,e=d.j.A.x+l-b.j.A.x-g,h=d.j.A.y+m-b.j.A.y-a,k=e*e+h*h;c=Math.sqrt(k);var n=b.H,p=d.H,q=b.P,v=d.P;k>.05*.05&&(k=1/(n+p),e=k*-e,h=k*-h,b.j.A.x-=.5*n*e,b.j.A.y-=.5*n*h,d.j.A.x+=.5*p*e,d.j.A.y+=.5*p*h,e=d.j.A.x+l-b.j.A.x-g,h=d.j.A.y+m-b.j.A.y-a);this.G.k.x=n+p;this.G.n.x=0;this.G.k.y=0;this.G.n.y=n+p;this.T.k.x=q*a*a;this.T.n.x=-q*g*a;this.T.k.y=-q*g*a;this.T.n.y=q*g*g;this.Z.k.x=v*m*m;this.Z.n.x=-v*l*m;this.Z.k.y=-v*l*m;this.Z.n.y=v*l*l;Kd(this.W,this.G);n=this.W;p=this.T;n.k.Qe(p.k);n.n.Qe(p.n);
n=this.W;p=this.Z;n.k.Qe(p.k);n.n.Qe(p.n);be(this.W,xi,-e,-h);e=xi.x;h=xi.y;b.j.A.x-=b.H*e;b.j.A.y-=b.H*h;b.j.K-=b.P*(g*h-a*e);d.j.A.x+=d.H*e;d.j.A.y+=d.H*h;d.j.K+=d.P*(l*h-m*e);Vf(b);Vf(d);return.005>=c&&f<=td};var xi=Z(0,0);function yi(){fi.call(this);this.u=Z(0,0);this.D=Z(0,0);this.type=1;this.u.ha();this.D.ha();this.Ba=this.Ya=this.W=this.Z=this.T=0;this.wa=this.G=!1}W(yi,fi);function zi(a,c,b,d){a.c=c;a.i=b;a.u=Fd(a.c.B,d);a.D=Fd(a.i.B,d);a.T=a.i.Sg()-a.c.Sg()}yi.prototype.p=function(){return new wi(this)};
function Gi(a){di.call(this,a);this.i=Z(0,0);this.p=Z(0,0);this.c=new de(0,0,0);this.R=new ce;this.i.J(a.u);this.p.J(a.D);this.u=a.G}W(Gi,di);
Gi.prototype.Re=function(a){var c,b=0,d=this.S,f=this.U;c=d.B.r;var h=this.i.x-d.j.L.x,e=this.i.y-d.j.L.y,b=c.k.x*h+c.n.x*e,e=c.k.y*h+c.n.y*e,h=b;c=f.B.r;var g=this.p.x-f.j.L.x,l=this.p.y-f.j.L.y,b=c.k.x*g+c.n.x*l,l=c.k.y*g+c.n.y*l,g=b;c=d.H;var b=f.H,m=d.P,k=f.P;this.R.k.x=c+b+e*e*m+l*l*k;this.R.n.x=-e*h*m-l*g*k;this.R.c.x=-e*m-l*k;this.R.k.y=this.R.n.x;this.R.n.y=c+b+h*h*m+g*g*k;this.R.c.y=h*m+g*k;this.R.k.z=this.R.c.x;this.R.n.z=this.R.c.y;this.R.c.z=m+k;a.$f?(this.c.x*=a.Ob,this.c.y*=a.Ob,this.c.z*=
a.Ob,d.q.x-=c*this.c.x,d.q.y-=c*this.c.y,d.F-=m*(h*this.c.y-e*this.c.x+this.c.z),f.q.x+=b*this.c.x,f.q.y+=b*this.c.y,f.F+=k*(g*this.c.y-l*this.c.x+this.c.z)):this.c.ha()};
Gi.prototype.Te=function(){var a,c=0,b=this.S,d=this.U,f=b.q,h=b.F,e=d.q,g=d.F,l=b.H,m=d.H,k=b.P,n=d.P;a=b.B.r;var p=this.i.x-b.j.L.x,q=this.i.y-b.j.L.y,c=a.k.x*p+a.n.x*q,q=a.k.y*p+a.n.y*q,p=c;a=d.B.r;var v=this.p.x-d.j.L.x,r=this.p.y-d.j.L.y,c=a.k.x*v+a.n.x*r,r=a.k.y*v+a.n.y*r,v=c;a=new de(0,0,0);fe(this.R,a,-(e.x-g*r-f.x+h*q),-(e.y+g*v-f.y-h*p),-(g-h));this.c.Qe(a);f.x-=l*a.x;f.y-=l*a.y;h-=k*(p*a.y-q*a.x+a.z);e.x+=m*a.x;e.y+=m*a.y;g+=n*(v*a.y-r*a.x+a.z);b.F=h;d.F=g};
Gi.prototype.Se=function(){var a,c=0,b=this.S,d=this.U;a=b.B.r;var f=this.i.x-b.j.L.x,h=this.i.y-b.j.L.y,c=a.k.x*f+a.n.x*h,h=a.k.y*f+a.n.y*h,f=c;a=d.B.r;var e=this.p.x-d.j.L.x,g=this.p.y-d.j.L.y,c=a.k.x*e+a.n.x*g,g=a.k.y*e+a.n.y*g,e=c;a=b.H;var c=d.H,l=b.P,m=d.P,k=d.j.A.x+e-b.j.A.x-f,n=d.j.A.y+g-b.j.A.y-h,p=d.j.K-b.j.K-this.u,q=Math.sqrt(k*k+n*n),v=Math.abs(p);.05<q&&(l*=1,m*=1);this.R.k.x=a+c+h*h*l+g*g*m;this.R.n.x=-h*f*l-g*e*m;this.R.c.x=-h*l-g*m;this.R.k.y=this.R.n.x;this.R.n.y=a+c+f*f*l+e*e*m;
this.R.c.y=f*l+e*m;this.R.k.z=this.R.c.x;this.R.n.z=this.R.c.y;this.R.c.z=l+m;var r=new de(0,0,0);fe(this.R,r,-k,-n,-p);b.j.A.x-=a*r.x;b.j.A.y-=a*r.y;b.j.K-=l*(f*r.y-h*r.x+r.z);d.j.A.x+=c*r.x;d.j.A.y+=c*r.y;d.j.K+=m*(e*r.y-g*r.x+r.z);Vf(b);Vf(d);return.005>=q&&v<=td};function Ii(){fi.call(this);this.u=Z(0,0);this.D=Z(0,0);this.type=8;this.G=0}W(Ii,fi);Ii.prototype.p=function(){return new Gi(this)};
var Fh=[new ye,new ye],Vh=[new ye,new ye],Wh=[new ye,new ye],Kh=Z(0,0),Lh=Z(0,0),Mh=Z(0,0),Sh=Z(0,0),Nh=Z(0,0),Rh=Z(0,0),Th=Z(0,0),Uh=Z(0,0),Vg=0,ah=0,bh=0,Zg=0,$g=0,Wg=new Bf,Xg=new Oe,pf=new he,wf=new he,kf=new function(){this.na=Z(0,0);this.c=Z(0,0)},Yg=new Pe,Uf=new he,mg=new kg;new function(){this.position=Z(0,0);Z(0,0);Z(0,0);this.id=new we};new he;
var ch=new ge,dh=new ge,Ug=new Cf,xh=new function(){this.c=Z(0,0);this.ga=[];for(var a=this.Bb=0;2>a;a++)this.ga[a]=Z(0,0)},Ah=new function(){this.c=Z(0,0);this.i=[];this.ga=[];for(var a=0;2>a;a++)this.ga[a]=Z(0,0)};function Ji(a,c,b,d,f,h){var e;if(e=(b+.1>=a&&a>=f-.1||b-.1<=a&&a<=f+.1)&&(d+.1>=c&&c>=h-.1||d-.1<=c&&c<=h+.1))e=.1<Math.abs(f-b)?.1>Math.abs((h-d)/(f-b)*(a-b)+d-c):.1>Math.abs(a-b);return e}
function Mi(a,c){var b=Ni(a),d=[],f,h,e,g,l,m,k,n,p;l=0;for(m=b.length;l<m;l++){h=b[l];f=[];f.length=h.length;k=p=0;for(n=h.length;k<n;k++)e=h[k],g=h[(k+1)%n],p+=e.x*g.y-e.y*g.x,f[k]=Z(e.x,e.y);p=Math.abs(p/2);p>=.001*c&&d.push(f)}return d}
function Ni(a){var c=[],b=0,d=0,f=0,h=0,e=0,g=e=0,l=0,m=0,k=0,h=0,n,p,q,v,r,u=h=b=0,t=0,f=[],l=[],z=!1,D=[],C=[];for(C.push(a);C.length;){c=C[0];d=c.length;z=!0;for(b=0;b<d;b++)if(m=b,k=b<d-1?b+1:b+1-d,h=b<d-2?b+2:b+2-d,a=c[m],n=c[k],p=c[h],h=a.x,f=a.y,l=n.x,e=n.y,g=p.x,p=p.y,h=h*e+l*p+g*f-f*l-e*g-p*h,0>h){z=!1;l=1E9;for(f=0;f<d;f++)if(f!==m&&f!==k){b=f;h=f<d-1?f+1:0;q=c[b];v=c[h];g=a.x;p=a.y;var E=n.x,B=n.y,e=q.x;q=q.y;var y=v.x;v=v.y;var w=E-g,A=B-p,J=y-e,V=v-q,J=(J*(q-p)-V*(e-g))/(A*J-w*V),w=g+
J*w,A=p+J*A,g=Ji(E,B,g,p,w,A),e=Ji(w,A,e,q,y,v);if(p=g&&e?Z(w,A):null)e=n.x-p.x,g=n.y-p.y,e=e*e+g*g,e<l&&(t=b,u=h,r=p,l=e)}if(1E9===l)return[];f=[];l=[];b=t;h=u;q=c[b];v=c[h];u=r.y;t=v.y;.1>Math.abs(v.x-r.x)&&.1>Math.abs(t-u)||f.push(r);u=r.y;t=q.y;.1>Math.abs(q.x-r.x)&&.1>Math.abs(t-u)||l.push(r);t=-1;for(u=m;;){if(u!==h)f.push(c[u]);else{if(0>t||t>=d)return[];Ji(v.x,v.y,c[t].x,c[t].y,a.x,a.y)||f.push(c[u]);break}t=u;0>u-1?u=d-1:u--}f.reverse();t=-1;for(u=k;;){if(u!==b)l.push(c[u]);else{if(0>t||
t>=d)return[];u!==b||Ji(q.x,q.y,c[t].x,c[t].y,n.x,n.y)||l.push(c[u]);break}t=u;u+1>d-1?u=0:u++}C.push(f,l);C.shift();break}z&&D.push(C.shift())}return D}
function Oi(a){for(var c=0;4E3>c;c++)je.push(new ie(0,0));this.g=a;this.md=new yg(Z(0,10),!0);this.Sn=-1;a=new kg;a.behavior=this;a.BeginContact=function(a){this.behavior.g.tw(a.Kb.Qa().Xe.X,a.Ab.Qa().Xe.X)};this.md.c.i=a;a=new hg;a.behavior=this;a.c=function(a,c){if(this.behavior.qt)return!0;var f=a.Qa().Xe.X.type,h=c.Qa().Xe.X.type,e=f.ya.Physics_DisabledCollisions;return e&&e.contains(h)?!1:(e=h.ya.Physics_DisabledCollisions)&&e.contains(f)?!1:!0};this.md.c.p=a;this.Rw=0;this.rk=8;this.Zj=3;this.qt=
!0}
(function(){function a(){}var c=Oi.prototype;c.Tc=function(a){this.behavior=a;this.g=a.g};c.Tc.prototype.ub=function(){};c.oc=function(a,b){this.type=a;this.behavior=a.behavior;this.X=b;this.g=a.g;this.md=this.behavior.md};var b=c.oc.prototype;b.ub=function(){this.An=0!==this.bb[0];this.Np=this.bb[1];this.so=0!==this.bb[2];this.rg=this.bb[3];this.ug=this.bb[4];this.Jg=this.bb[5];this.di=this.bb[6];this.Kh=this.bb[7];this.Mh=0!==this.bb[8];this.enabled=0!==this.bb[9];this.body=null;this.X.wb();this.Ej=
this.X.x;this.Fj=this.X.y;this.hf=this.X.O;this.Qn=this.Tn=0;this.Qr=this.ol=!1;this.Nn=null;this.On=-1;this.Ad?(this.Ad.length=0,this.pe.length=0,this.Df.clear()):(this.Ad=[],this.pe=[],this.Df=new ca);var a=this;this.se||(this.Qj=function(b){a.Uj(b)});this.g.ym(this.Qj)};b.Kr=function(){this.X.wb();this.Rm();this.Nn=this.X.ab;this.On=this.X.da};b.oi=function(){this.Qk();this.pe.length=0;this.Df.clear();this.body&&(Cg(this.md,this.body),this.body=null);this.g.Sr(this.Qj)};b.Dd=function(){var a={e:this.enabled,
im:this.An,pr:this.so,d:this.rg,fr:this.ug,re:this.Jg,ld:this.di,ad:this.Kh,b:this.Mh,mcj:this.pe};if(this.enabled){var b=Z(0,0);b.J(this.body.q);a.vx=b.x;a.vy=b.y;a.om=this.body.F}return a};b.me=function(a){this.Qk();this.pe.length=0;this.Df.clear();this.body&&(Cg(this.md,this.body),this.body=null);this.enabled=a.e;this.An=a.im;this.so=a.pr;this.rg=a.d;this.ug=a.fr;this.Jg=a.re;this.di=a.ld;this.Kh=a.ad;this.Mh=a.b;this.Ej=this.X.x;this.Fj=this.X.y;this.hf=this.X.O;this.Tn=this.X.width;this.Qn=this.X.height;
this.enabled&&(this.Rm(),Pf(this.body,Z(a.vx,a.vy)),this.body.yk(a.om),0===a.vx&&0===a.vy&&0===a.om||Qf(this.body,!0),this.pe=a.mcj)};b.ze=function(){this.enabled&&this.zo();this.behavior.Sn=this.g.Ng-1};b.Uj=function(a){var b,c,d,l=a.uid;d=b=0;for(c=this.pe.length;b<c;b++)this.pe[d]=this.pe[b],d<this.Ad.length&&(this.Ad[d]=this.Ad[b]),this.pe[b].Db[1]==l?Dg(this.md,this.Ad[b]):d++;this.pe.length=d;d<this.Ad.length&&(this.Ad.length=d);this.Df.remove(a)};b.Qk=function(){var a,b;a=0;for(b=this.Ad.length;a<
b;a++)Dg(this.md,this.Ad[a]);this.Ad.length=0};b.zo=function(){var a,b,c;a=0;for(b=this.pe.length;a<b;a++)switch(c=this.pe[a],c.type){case 0:this.Pt(c.Db[0],c.Db[1],c.Db[2],c.Db[3],c.Db[4]);break;case 1:this.Rt(c.Db[0],c.Db[1]);break;case 2:this.Qt(c.Db[0],c.Db[1],c.Db[2],c.Db[3])}};b.Kt=function(){this.body&&(this.Qk(),Cg(this.md,this.body),this.body=null,this.X.ya.be=null)};var d=[];b.Rm=function(){if(this.enabled){var a=this.X,b=!1,c=null,g=null,l,m,k,n,p,q,v,r,u,t,z,D,C;if(this.body){b=!0;c=Z(0,
0);c.J(this.body.q);g=this.body.F;r=this.Df.rf();l=0;for(m=r.length;l<m;l++)u=r[l].ya.be.Xe,u.Qk();this.Kt()}u=new sg;u.rg=this.rg;u.ug=this.ug;u.Jg=this.Jg;l=new Xf;l.type=this.An?0:2;a.wb();l.position.x=.02*a.Cc.ii();l.position.y=.02*a.Cc.ji();l.O=a.O;l.c=this.so;l.di=this.di;l.Kh=this.Kh;l.Mh=this.Mh;r=this.X.Yc&&!this.X.Yc.Dq();this.body=Ag(this.md,l);this.body.Xe=this;l=this.Np;r||this.X.mk||0!==this.Np||(l=1);m=Math.max(Math.abs(a.width),1);k=Math.max(Math.abs(a.height),1);t=0>a.width;z=0>a.height;
if(0===l)if(a.mk)for(D=a.Cc.ii()-a.x,v=a.Cc.ji()-a.y,a.ty(d),r=[],l=0,m=d.length;l<m;++l){t=d[l];z=t.zy;if(t.ri){if(!t.ri.Gk){p=t.ri.Ig;n=t.ri.ti;for(k=0;k<n;++k)r.push(Z(p[2*k],p[2*k+1]));k=t.id&3758096384;(-2147483648===k||1073741824===k||536870912===k||k&-2147483648&&k&1073741824&&k&536870912)&&r.reverse();t.ri.Gk=Mi(r,(z.right-z.left)*(z.bottom-z.top));k=0;for(n=r.length;k<n;++k)ke(r[k]);r.length=0}k=0;for(n=t.ri.Gk.length;k<n;++k){C=t.ri.Gk[k];p=0;for(q=C.length;p<q;++p)r.push(Z(.02*(z.left+
C[p].x-D),.02*(z.top+C[p].y-v)));u.shape=new se;ue(u.shape,r);If(this.body,u);p=0;for(q=r.length;p<q;++p)ke(r[p]);r.length=0}}else r.push(Z(.02*(z.left-D),.02*(z.top-v))),r.push(Z(.02*(z.right-D),.02*(z.top-v))),r.push(Z(.02*(z.right-D),.02*(z.bottom-v))),r.push(Z(.02*(z.left-D),.02*(z.bottom-v))),u.shape=new se,ue(u.shape,r),If(this.body,u);k=0;for(n=r.length;k<n;++k)ke(r[k]);r.length=0}else{l=a.O;a.O=0;a.pb();a.wb();D=a.Cc.ii()-a.x;v=a.Cc.ji()-a.y;a.O=l;a.pb();a.Yc.Kp(t?-m:m,z?-k:k,0);p=a.Yc.Ig;
n=a.Yc.ti;r=[];r.length=n;for(l=0;l<n;l++)r[l]=Z(p[2*l]-D,p[2*l+1]-v);t!==z&&r.reverse();D=Mi(r,m*k);for(l=0;l<n;l++)ke(r[l]);if(D.length)for(l=0,m=D.length;l<m;l++){r=D[l];k=0;for(n=r.length;k<n;k++)v=r[k],v.x*=.02,v.y*=.02;u.shape=new se;ue(u.shape,r);If(this.body,u);k=0;for(n=r.length;k<n;k++)ke(r[k])}else u.shape=new se,ve(u.shape,.01*m,.01*k),If(this.body,u)}else 1===l?(u.shape=new se,ve(u.shape,.01*m,.01*k)):u.shape=new pe(.01*Math.min(m,k)),If(this.body,u);a.ya.be=this.body;this.Tn=a.width;
this.Qn=a.height;if(b)for(Pf(this.body,c),this.body.yk(g),ke(c),this.zo(),r=this.Df.rf(),l=0,m=r.length;l<m;l++)u=r[l].ya.be.Xe,u.zo();d.length=0}};b.Jc=function(){if(this.enabled){var a=this.X,b;0===this.behavior.Rw?b=this.g.Vf/60:(b=this.g.gn(this.X),b>1/30&&(b=1/30));if(this.g.Ng>this.behavior.Sn&&0<this.g.Vf){this.md.gg(b,this.behavior.rk,this.behavior.Zj);for(b=this.md.Qg.Ra(ag);b;b=b.Ea())b.body.i.ha(),b.body.u=0;this.behavior.Sn=this.g.Ng}if(this.Qr||a.width!==this.Tn||a.height!==this.Qn||
a.ab!==this.Nn||a.da!==this.On||a.mk&&a.Er)this.Rm(),this.Qr=!1,this.Nn=a.ab,this.On=a.da,a.mk&&a.Er&&(a.Er=!1);b=a.O!==this.hf;if(a.x!==this.Ej||a.y!==this.Fj){a.wb();var c=a.Cc.ii(),d=a.Cc.ji(),l=c-this.Ej,m=d-this.Fj,k=this.body,c=Z(.02*c,.02*d);Mf(k,c,k.Sg());Pf(this.body,Z(l,m));this.ol=!0;Qf(this.body,!0)}else this.ol&&(this.ol=!1,Pf(this.body,Z(0,0)),l=this.body,m=Z(.02*a.Cc.ii(),.02*a.Cc.ji()),Mf(l,m,l.Sg()));b&&(this.body.pp(a.O),Qf(this.body,!0));l=this.body.B.position;b=l.x/.02;l=l.y/.02;
m=this.body.Sg();if(b!==a.x||l!==a.y||m!==a.O)if(a.x=b,a.y=l,a.O=m,a.pb(),a.wb(),b=a.Cc.ii()-a.x,l=a.Cc.ji()-a.y,0!==b||0!==l)a.x-=b,a.y-=l,a.pb();this.Ej=a.x;this.Fj=a.y;this.hf=a.O}};b.gj=function(a){return-1!==a&&this.X.df?0===a&&this.body?(this.body.B.position.x+this.body.j.L.x)/.02:this.X.df(a,!0):this.X.x};b.hj=function(a){return-1!==a&&this.X.df?0===a&&this.body?(this.body.B.position.y+this.body.j.L.y)/.02:this.X.df(a,!1):this.X.y};c.aa=new function(){};a.prototype.Pg=function(a,b,c){if(this.enabled){var d=
this.gj(c);c=this.hj(c);this.body.Pg(Z(a,b),Z(.02*d,.02*c))}};a.prototype.pm=function(a,b,c){if(this.enabled){var d=this.gj(c);c=this.hj(c);this.body.pm(Z(a,b),Z(.02*d,.02*c));this.ol=!1;this.Ej=this.X.x;this.Fj=this.X.y}};a.prototype.qm=function(a){this.enabled&&this.body.qm(Sa(a))};a.prototype.yk=function(a){this.enabled&&(this.body.yk(Sa(a)),Qf(this.body,!0))};b.Pt=function(a,b,c,d,l){if(this.enabled){var m=this.g.wg(b);if(m&&m!=this.X&&m.ya.be){m.ya.be.Xe.Df.add(this.X);var k=this.gj(a),n=this.hj(a),
p,q;m.df?(p=m.df(c,!0),q=m.df(c,!1)):(p=m.x,q=m.y);c=k-p;a=n-q;b=new hi;m=m.ya.be;k=Z(.02*k,.02*n);p=Z(.02*p,.02*q);b.c=this.body;b.i=m;b.G.J(Fd(b.c.B,k));b.T.J(Fd(b.i.B,p));m=p.x-k.x;k=p.y-k.y;b.length=Math.sqrt(m*m+k*k);b.D=0;b.u=0;b.length=.02*Math.sqrt(c*c+a*a);b.u=d;b.D=l;this.Ad.push(Eg(this.md,b))}}};b.Rt=function(a,b){if(this.enabled){var c=this.g.wg(b);if(c&&c!=this.X&&c.ya.be){c.ya.be.Xe.Df.add(this.X);var d=this.gj(a),l=this.hj(a),m=new yi;zi(m,this.body,c.ya.be,Z(.02*d,.02*l));this.Ad.push(Eg(this.md,
m))}}};b.Qt=function(a,b,c,d){if(this.enabled&&(b=this.g.wg(b))&&b!=this.X&&b.ya.be){b.ya.be.Xe.Df.add(this.X);var l=this.gj(a);a=this.hj(a);var m=new yi;zi(m,this.body,b.ya.be,Z(.02*l,.02*a));m.G=!0;m.Z=Sa(c);m.W=Sa(d);this.Ad.push(Eg(this.md,m))}};c.qc=new a;c.Mc=new function(){}})();function Pi(a){this.g=a}
(function(){function a(){}var c=Pi.prototype;c.Tc=function(a){this.behavior=a;this.g=a.g};c.Tc.prototype.ub=function(){};c.oc=function(a,b){this.type=a;this.behavior=a.behavior;this.X=b;this.g=a.g};var b=c.oc.prototype;b.ub=function(){this.cc=null;this.Jl=-1;this.mode=this.hf=this.am=this.li=this.Mf=this.Yj=0;var a=this;this.se||(this.Qj=function(b){a.Uj(b)});this.g.ym(this.Qj)};b.Dd=function(){return{uid:this.cc?this.cc.uid:-1,pa:this.Yj,pd:this.Mf,msa:this.li,tsa:this.am,lka:this.hf,m:this.mode}};
b.me=function(a){this.Jl=a.uid;this.Yj=a.pa;this.Mf=a.pd;this.li=a.msa;this.am=a.tsa;this.hf=a.lka;this.mode=a.m};b.ze=function(){-1===this.Jl?this.cc=null:this.cc=this.g.wg(this.Jl);this.Jl=-1};b.Uj=function(a){this.cc==a&&(this.cc=null)};b.oi=function(){this.cc=null;this.g.Sr(this.Qj)};b.Jc=function(){};b.Ro=function(){if(this.cc){this.hf!==this.X.O&&(this.li=Za(this.li+(this.X.O-this.hf)));var a=this.X.x,b=this.X.y;if(3===this.mode||4===this.mode){var c=ob(this.X.x,this.X.y,this.cc.x,this.cc.y);
if(c>this.Mf||4===this.mode&&c<this.Mf)b=bb(this.cc.x,this.cc.y,this.X.x,this.X.y),a=this.cc.x+Math.cos(b)*this.Mf,b=this.cc.y+Math.sin(b)*this.Mf}else a=this.cc.x+Math.cos(this.cc.O+this.Yj)*this.Mf,b=this.cc.y+Math.sin(this.cc.O+this.Yj)*this.Mf;this.hf=c=Za(this.li+(this.cc.O-this.am));0!==this.mode&&1!==this.mode&&3!==this.mode&&4!==this.mode||this.X.x===a&&this.X.y===b||(this.X.x=a,this.X.y=b,this.X.pb());0!==this.mode&&2!==this.mode||this.X.O===c||(this.X.O=c,this.X.pb())}};c.aa=new function(){};
a.prototype.it=function(a,b){if(a){var c=a.kq(this.X);c&&(this.cc=c,this.Yj=bb(c.x,c.y,this.X.x,this.X.y)-c.O,this.Mf=ob(c.x,c.y,this.X.x,this.X.y),this.hf=this.li=this.X.O,this.am=c.O,this.mode=b)}};c.qc=new a;c.Mc=new function(){}})();
function md(){return[od,pd,qd,nd,rd,Oi,Pi,qd.prototype.aa.um,I.prototype.aa.Os,Oi.prototype.qc.pm,I.prototype.Mc.random,I.prototype.qc.nt,nd.prototype.qc.Kc,I.prototype.qc.lt,I.prototype.aa.mp,I.prototype.qc.kt,nd.prototype.aa.Oi,I.prototype.qc.Ps,nd.prototype.Mc.rp,nd.prototype.Mc.sp,Pi.prototype.qc.it,I.prototype.aa.Rs,I.prototype.qc.mt]};
